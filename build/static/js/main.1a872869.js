/*! For license information please see main.1a872869.js.LICENSE.txt */
(()=>{var e={600:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===s)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))n.call(s,u)&&(a[u]=s[u]);if(t){o=t(s);for(var c=0;c<o.length;c++)r.call(s,o[c])&&(a[o[c]]=s[o[c]])}}return a}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,o){var a=i||"<<anonymous>>",l=o||r;if(null==n[r])return t?new Error("Required "+s+" `"+l+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),h=6;h<u;h++)c[h-6]=arguments[h];return e.apply(void 0,[n,r,a,s,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),s=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=60103,x=60106,T=60107,k=60108,_=60114,S=60109,C=60110,N=60112,O=60113,D=60120,A=60115,R=60116,P=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;I=U("react.element"),x=U("react.portal"),T=U("react.fragment"),k=U("react.strict_mode"),_=U("react.profiler"),S=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),O=U("react.suspense"),D=U("react.suspense_list"),A=U("react.memo"),R=U("react.lazy"),P=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function $(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var q=!1;function K(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function H(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case x:return"Portal";case _:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case P:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ue(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ie[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ce=null;function Ne(e){if(e=ni(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),_e(e.stateNode,e.type,t))}}function Oe(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function De(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ae(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Le=Ae,Me=!1,je=!1;function Fe(){null===Se&&null===Ce||(Pe(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){Ve=!1}function ze(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $e=!1,qe=null,Ke=!1,He=null,Ge={onError:function(e){$e=!0,qe=e}};function We(e,t,n,r,i,s,o,a,l){$e=!1,qe=null,ze.apply(Ge,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Qe(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ye(i),e;if(s===r)return Ye(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&vt(ot)&&(ot=null),null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),ut.forEach(yt),ct.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<st.length){wt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&wt(ot,e),null!==at&&wt(at,e),null!==lt&&wt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function It(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},Tt={},kt={};function _t(e){if(Tt[e])return Tt[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Tt[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var St=_t("animationend"),Ct=_t("animationiteration"),Nt=_t("animationstart"),Ot=_t("transitionend"),Dt=new Map,At=new Map,Rt=["abort","abort",St,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Dt.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Lt=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=Mt(l),i=Lt):0!==(a&=s)&&(r=Mt(a),i=Lt)}else 0!==(s=n&~o)?(r=Mt(s),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-$t(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Kt|0)|0},qt=Math.log,Kt=Math.LN2;var Ht=s.unstable_UserBlockingPriority,Gt=s.unstable_runWithPriority,Wt=!0;function Qt(e,t,n,r){Me||Pe();var i=Yt,s=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=s)||Fe()}}function Xt(e,t,n,r){Gt(Ht,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var i;if(Wt)if((i=0===(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Jt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ut.set(s,mt(ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var s=Qe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Xe(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),yn=an(i({},fn,{relatedTarget:0})),bn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(wn),In=an(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return _n}var Cn=i({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),On=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Fn=h&&"TextEvent"in window&&!jn,Un=h&&(!Mn||jn&&8<jn&&11>=jn),Vn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Xn(e){Cr(e,0)}function Yn(e){if(Y(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Wn&&(Wn.detachEvent("onpropertychange",ir),Qn=Wn=null)}function ir(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];if(Gn(t,Qn,e,ke(e)),e=Xn,Me)e(t);else{Me=!0;try{Ae(e,t)}finally{Me=!1,Fe()}}}}function sr(e,t,n){"focusin"===e?(rr(),Qn=n,(Wn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function ar(e,t){if("click"===e)return Yn(t)}function lr(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,Er=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Rt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<xr.length;Tr++)At.set(xr[Tr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(We.apply(this,arguments),$e){if(!$e)throw Error(o(198));var c=qe;$e=!1,qe=null,Ke||(Ke=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Sr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Sr(i,a,u),s=l}}}if(Ke)throw e=He,Ke=!1,He=null,e}function Nr(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Or]||(e[Or]=!0,a.forEach((function(t){_r.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&_r.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=si(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Rr(s,e,i,t),o.add(a))}function Rr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Xt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ti(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{return Le(e,t,n)}finally{je=!1,Fe()}}((function(){var r=s,i=ke(n),o=[];e:{var a=Dt.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case St:case Ct:case Nt:l=bn;break;case Ot:l=An;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ue(p,d))&&c.push(Lr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ri(l),f=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=jr(f))p++;for(f=0,m=d;m;m=jr(m))f++;for(;0<p-f;)c=jr(c),p--;for(;0<f-p;)d=jr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=jr(c),d=jr(d)}c=null}else c=null;null!==l&&Fr(o,a,l,c,!1),null!==u&&null!==h&&Fr(o,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Hn(a))if(Zn)g=lr;else{g=or;var v=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Ir(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Ir(o,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,qn=!0)),0<(v=Mr(r,b)).length&&(b=new In(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Cr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ue(e,n))&&r.unshift(Lr(e,s,i)),null!=(s=Ue(e,t))&&r.push(Lr(e,s,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ue(n,s))&&o.unshift(Lr(n,l,a)):i||null!=(l=Ue(n,s))&&o.push(Lr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var Xr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Xr,Jr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ti(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Yr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Yr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function si(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var hi={},di=li(hi),fi=li(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(fi),ui(di)}function yi(e,t,n){if(di.current!==hi)throw Error(o(168));ci(di,t),ci(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,G(t)||"Unknown",s));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ci(di,e),ci(fi,fi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),ci(di,e)):ui(fi),ci(fi,n)}var Ii=null,xi=null,Ti=s.unstable_runWithPriority,ki=s.unstable_scheduleCallback,_i=s.unstable_cancelCallback,Si=s.unstable_shouldYield,Ci=s.unstable_requestPaint,Ni=s.unstable_now,Oi=s.unstable_getCurrentPriorityLevel,Di=s.unstable_ImmediatePriority,Ai=s.unstable_UserBlockingPriority,Ri=s.unstable_NormalPriority,Pi=s.unstable_LowPriority,Li=s.unstable_IdlePriority,Mi={},ji=void 0!==Ci?Ci:function(){},Fi=null,Ui=null,Vi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function $i(){switch(Oi()){case Di:return 99;case Ai:return 98;case Ri:return 97;case Pi:return 96;case Li:return 95;default:throw Error(o(332))}}function qi(e){switch(e){case 99:return Di;case 98:return Ai;case 97:return Ri;case 96:return Pi;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=qi(e),Ti(e,t)}function Hi(e,t,n){return e=qi(e),ki(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,_i(e)}Wi()}function Wi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Di,Gi),n}finally{Vi=!1}}}var Qi=E.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=li(null),Ji=null,Zi=null,es=null;function ts(){es=Zi=Ji=null}function ns(e){var t=Yi.current;ui(Yi),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function is(e,t){Ji=e,es=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(o(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var os=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,h=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,Ba|=a,e.lanes=a,e.memoizedState=d}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function ms(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),s=us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),cs(e,s),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),s=us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),cs(e,s),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dl(),r=fl(e),i=us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),cs(e,i),pl(e,r,n)}};function vs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,s))}function ys(e,t,n){var r=!1,i=hi,s=t.contextType;return"object"===typeof s&&null!==s?s=ss(s):(i=gi(t)?pi:di.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ps,as(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ss(s):(s=gi(t)?pi:di.current,i.context=mi(e,s)),ds(e,n,i,r),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gs.enqueueReplaceState(i,i.state,null),ds(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Es=Array.isArray;function Is(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xs(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ts(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Is(e,t,n),r.return=e,r):((r=Gl(n.type,n.key,n.props,null,e.mode,r)).ref=Is(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case I:return(n=Gl(t.type,t.key,t.props,null,e.mode,n)).ref=Is(e,null,t),n.return=e,n;case x:return(t=Yl(t,e.mode,n)).return=e,t}if(Es(t)||z(t))return(t=Wl(t,e.mode,n,null)).return=e,t;xs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null}if(Es(n)||z(n))return null!==i?null:h(e,t,n,r,null);xs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case I:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Es(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);xs(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=z(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,l){var u="object"===typeof s&&null!==s&&s.type===T&&null===s.key;u&&(s=s.props.children);var c="object"===typeof s&&null!==s;if(c)switch(s.$$typeof){case I:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===T){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=Is(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===T?((r=Wl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Gl(s.type,s.key,s.props,null,e.mode,l)).ref=Is(e,r,s),l.return=e,e=l)}return a(e);case x:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Xl(s,e.mode,l)).return=e,e=r),a(e);if(Es(s))return m(e,r,s,l);if(z(s))return g(e,r,s,l);if(c&&xs(e,s),"undefined"===typeof s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var ks=Ts(!0),_s=Ts(!1),Ss={},Cs=li(Ss),Ns=li(Ss),Os=li(Ss);function Ds(e){if(e===Ss)throw Error(o(174));return e}function As(e,t){switch(ci(Os,t),ci(Ns,e),ci(Cs,Ss),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Cs),ci(Cs,t)}function Rs(){ui(Cs),ui(Ns),ui(Os)}function Ps(e){Ds(Os.current);var t=Ds(Cs.current),n=fe(t,e.type);t!==n&&(ci(Ns,e),ci(Cs,n))}function Ls(e){Ns.current===e&&(ui(Cs),ui(Ns))}var Ms=li(0);function js(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=null,Us=null,Vs=!1;function Bs(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function $s(e){if(Vs){var t=Us;if(t){var n=t;if(!zs(e,t)){if(!(t=Gr(n.nextSibling))||!zs(e,t))return e.flags=-1025&e.flags|2,Vs=!1,void(Fs=e);Bs(Fs,n)}Fs=e,Us=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Vs=!1,Fs=e}}function qs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fs=e}function Ks(e){if(e!==Fs)return!1;if(!Vs)return qs(e),Vs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=Us;t;)Bs(e,t),t=Gr(t.nextSibling);if(qs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Us=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Us=null}}else Us=Fs?Gr(e.stateNode.nextSibling):null;return!0}function Hs(){Us=Fs=null,Vs=!1}var Gs=[];function Ws(){for(var e=0;e<Gs.length;e++)Gs[e]._workInProgressVersionPrimary=null;Gs.length=0}var Qs=E.ReactCurrentDispatcher,Xs=E.ReactCurrentBatchConfig,Ys=0,Js=null,Zs=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function so(e,t,n,r,i,s){if(Ys=s,Js=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=null===e||null===e.memoizedState?Ao:Ro,e=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=Zs=null,t.updateQueue=null,Qs.current=Po,e=n(r,i)}while(no)}if(Qs.current=Do,t=null!==Zs&&null!==Zs.next,Ys=0,eo=Zs=Js=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Js.memoizedState=eo=e:eo=eo.next=e,eo}function ao(){if(null===Zs){var e=Js.alternate;e=null!==e?e.memoizedState:null}else e=Zs.next;var t=null===eo?Js.memoizedState:eo.next;if(null!==t)eo=t,Zs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Zs=e).memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},null===eo?Js.memoizedState=eo=e:eo=eo.next=e}return eo}function lo(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Zs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,u=i;do{var c=u.lane;if((Ys&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Js.lanes|=c,Ba|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=a,ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Mo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ys&e)===e)&&(t._workInProgressVersionPrimary=r,Gs.push(t))),e)return n(t._source);throw Gs.push(t),Error(o(350))}function fo(e,t,n,r){var i=Ra;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Qs.current,u=l.useState((function(){return ho(i,t,n)})),c=u[1],h=u[0];u=eo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Js;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(c(e),e=fl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-$t(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(s){n((function(){throw s}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=c=Oo.bind(null,Js,e),u.queue=e,u.baseQueue=null,h=ho(i,t,n),u.memoizedState=u.baseState=h),h}function po(e,t,n){return fo(ao(),e,t,n)}function mo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Oo.bind(null,Js,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Js.updateQueue)?(t={lastEffect:null},Js.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},oo().memoizedState=e}function yo(){return ao().memoizedState}function bo(e,t,n,r){var i=oo();Js.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==Zs){var o=Zs.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,s,r)}Js.flags|=e,i.memoizedState=go(1|t,n,s,r)}function Eo(e,t){return bo(516,4,e,t)}function Io(e,t){return wo(516,4,e,t)}function xo(e,t){return wo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)}function _o(){}function So(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=$i();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xs.transition;Xs.transition=1;try{e(!1),t()}finally{Xs.transition=n}}))}function Oo(e,t,n){var r=dl(),i=fl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Js||null!==o&&o===Js)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,ur(l,a))return}catch(u){}pl(e,i,r)}}var Do={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Ao={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Js,e),[r.memoizedState,e]},useRef:vo,useState:mo,useDebugValue:_o,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return Eo((function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return vo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(Vs){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Js.mode)&&(Js.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:ss,useCallback:So,useContext:ss,useEffect:Io,useImperativeHandle:ko,useLayoutEffect:xo,useMemo:Co,useReducer:uo,useRef:yo,useState:function(){return uo(lo)},useDebugValue:_o,useDeferredValue:function(e){var t=uo(lo),n=t[0],r=t[1];return Io((function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}}),[e]),n},useTransition:function(){var e=uo(lo)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Po={readContext:ss,useCallback:So,useContext:ss,useEffect:Io,useImperativeHandle:ko,useLayoutEffect:xo,useMemo:Co,useReducer:co,useRef:yo,useState:function(){return co(lo)},useDebugValue:_o,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return Io((function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Lo=E.ReactCurrentOwner,Mo=!1;function jo(e,t,n,r){t.child=null===e?_s(t,null,n,r):ks(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,sa(e,t,i))}function Uo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!==typeof o||Kl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,s))}return o=e.child,0===(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?sa(e,t,s):(t.flags|=1,(e=Hl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,s){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(s&i))return t.lanes=e.lanes,sa(e,t,s);0!==(16384&e.flags)&&(Mo=!0)}return $o(e,t,n,r,s)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Il(t,n);else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Il(t,e),null;t.memoizedState={baseLanes:0},Il(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Il(t,r);return jo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $o(e,t,n,r,i){var s=gi(n)?pi:di.current;return s=mi(t,s),is(t,i),n=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,sa(e,t,i))}function qo(e,t,n,r,i){if(gi(n)){var s=!0;wi(t)}else s=!1;if(is(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ys(t,n,r),ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ss(u):u=mi(t,u=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&bs(t,o,r,u),os=!1;var d=t.memoizedState;o.state=d,ds(t,r,o,i),l=t.memoizedState,a!==r||d!==l||fi.current||os?("function"===typeof c&&(ms(t,n,c,r),l=t.memoizedState),(a=os||vs(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ls(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Xi(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ss(l):l=mi(t,l=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&bs(t,o,r,l),os=!1,d=t.memoizedState,o.state=d,ds(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||fi.current||os?("function"===typeof f&&(ms(t,n,f,r),p=t.memoizedState),(u=os||vs(t,n,u,r,d,p,l))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,s,i)}function Ko(e,t,n,r,i,s){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),sa(e,t,s);r=t.stateNode,Lo.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ks(t,e.child,null,s),t.child=ks(t,null,a,s)):jo(e,t,a,s),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),As(e,t.containerInfo)}var Go,Wo,Qo,Xo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,s=Ms.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ci(Ms,1&s),null===e?(void 0!==i.fallback&&$s(t),e=i.children,s=i.fallback,o?(e=Zo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ta(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Ql(t,i,0,null),n=Wl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=Hl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0===(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hl(o,a),null!==e?r=Hl(e,r):(r=Wl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ra(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ms.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Ms,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===js(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===js(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,s,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ba|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function oa(e,t){if(!Vs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Rs(),ui(fi),ui(di),Ws(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ks(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Wo(t),null;case 5:Ls(t);var s=Ds(Os.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ds(Cs.current),Ks(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yr]=t,r[Jr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":le(r,a),Nr("invalid",r)}for(var u in xe(n,a),e=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"===typeof s?r.textContent!==s&&(e=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Nr("scroll",r));switch(n){case"input":X(r),re(r,a,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===he.html&&(e=de(n)),e===he.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Yr]=t,e[Jr]=r,Go(e,t,!1,!1),t.stateNode=e,u=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),s=r;break;case"iframe":case"object":case"embed":Nr("load",e),s=r;break;case"video":case"audio":for(s=0;s<kr.length;s++)Nr(kr[s],e);s=r;break;case"source":Nr("error",e),s=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),s=r;break;case"details":Nr("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Nr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Nr("invalid",e);break;default:s=r}xe(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Nr("scroll",e):null!=h&&w(e,a,h,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ds(Os.current),Ds(Cs.current),Ks(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return ui(Ms),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ks(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ms.current)?0===Fa&&(Fa=3):(0!==Fa&&3!==Fa||(Fa=4),null===Ra||0===(134217727&Ba)&&0===(134217727&za)||yl(Ra,La))),(r||n)&&(t.flags|=4),null);case 4:return Rs(),Wo(t),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(ui(Ms),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(u=r.rendering))if(a)oa(r,!1);else{if(0!==Fa||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=js(e))){for(t.flags|=64,oa(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Ms,1&Ms.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ha&&(t.flags|=64,a=!0,oa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=js(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),oa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Vs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ha&&1073741824!==n&&(t.flags|=64,a=!0,oa(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ms.current,ci(Ms,a?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function la(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Rs(),ui(fi),ui(di),Ws(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ls(e),null;case 13:return ui(Ms),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Ms),null;case 4:return Rs(),null;case 10:return ns(e),null;case 23:case 24:return xl(),null;default:return null}}function ua(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function ca(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wo=function(){},Qo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ds(Cs.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(h in xe(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Nr("scroll",e),a||u===c||(a=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ha="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xa||(Xa=!0,Ya=r),ca(0,t)},n}function fa(e,t,n){(n=us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ca(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ja?Ja=new Set([this]):Ja.add(this),ca(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pa="function"===typeof WeakSet?WeakSet:Set;function ma(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vl(e,n)}else t.current=null}function ga(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jl(n,e),Ml(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function ya(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Ii,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))jl(t,n);else{r=t;try{i()}catch(s){Vl(r,s)}}n=n.next}while(n!==e)}break;case 1:if(ma(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Vl(t,s)}break;case 5:ma(t);break;case 4:ka(e,t)}}function wa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function Ia(e){e:{for(var t=e.return;null!==t;){if(Ea(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ea(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xa(e,n,t):Ta(e,n,t)}function xa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function Ta(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ta(e,t,n),e=e.sibling;null!==e;)Ta(e,t,n),e=e.sibling}function ka(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ba(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function _a(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ve(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ka=zi(),ya(t.child,!0)),void Sa(t);case 19:return void Sa(t);case 23:case 24:return void ya(t,null!==t.memoizedState)}throw Error(o(163))}function Sa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pa),t.forEach((function(t){var r=zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ca(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Na=Math.ceil,Oa=E.ReactCurrentDispatcher,Da=E.ReactCurrentOwner,Aa=0,Ra=null,Pa=null,La=0,Ma=0,ja=li(0),Fa=0,Ua=null,Va=0,Ba=0,za=0,$a=0,qa=null,Ka=0,Ha=1/0;function Ga(){Ha=zi()+500}var Wa,Qa=null,Xa=!1,Ya=null,Ja=null,Za=!1,el=null,tl=90,nl=[],rl=[],il=null,sl=0,ol=null,al=-1,ll=0,ul=0,cl=null,hl=!1;function dl(){return 0!==(48&Aa)?zi():-1!==al?al:al=zi()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===$i()?1:2;if(0===ll&&(ll=Va),0!==Qi.transition){0!==ul&&(ul=null!==qa?qa.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=$i(),0!==(4&Aa)&&98===e?e=Ut(12,ll):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<sl)throw sl=0,ol=null,Error(o(185));if(null===(e=ml(e,t)))return null;zt(e,t,n),e===Ra&&(za|=t,4===Fa&&yl(e,La));var r=$i();1===t?0!==(8&Aa)&&0===(48&Aa)?bl(e):(gl(e,n),0===Aa&&(Ga(),Gi())):(0===(4&Aa)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),gl(e,n)),qa=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-$t(a),u=1<<l,c=s[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Mt(u);var h=Lt;s[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=jt(e,e===Ra?La:0),t=Lt,0===r)null!==n&&(n!==Mi&&_i(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&_i(n)}15===t?(n=bl.bind(null,e),null===Fi?(Fi=[n],Ui=ki(Di,Wi)):Fi.push(n),n=Mi):14===t?n=Hi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(al=-1,ul=ll=0,0!==(48&Aa))throw Error(o(327));var t=e.callbackNode;if(Ll()&&e.callbackNode!==t)return null;var n=jt(e,e===Ra?La:0);if(0===n)return null;var r=n,i=Aa;Aa|=16;var s=_l();for(Ra===e&&La===r||(Ga(),Tl(e,r));;)try{Nl();break}catch(l){kl(e,l)}if(ts(),Oa.current=s,Aa=i,null!==Pa?r=0:(Ra=null,La=0,r=Fa),0!==(Va&za))Tl(e,0);else if(0!==r){if(2===r&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Sl(e,n))),1===r)throw t=Ua,Tl(e,0),yl(e,n),gl(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Al(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=Ka+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){dl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Al.bind(null,e),r);break}Al(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-$t(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Na(n/1960))-n)){e.timeoutHandle=qr(Al.bind(null,e),n);break}Al(e);break;default:throw Error(o(329))}}return gl(e,zi()),e.callbackNode===t?vl.bind(null,e):null}function yl(e,t){for(t&=~$a,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Aa))throw Error(o(327));if(Ll(),e===Ra&&0!==(e.expiredLanes&La)){var t=La,n=Sl(e,t);0!==(Va&za)&&(n=Sl(e,t=jt(e,t)))}else n=Sl(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Sl(e,t))),1===n)throw n=Ua,Tl(e,0),yl(e,t),gl(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e),gl(e,zi()),null}function wl(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&(Ga(),Gi())}}function El(e,t){var n=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=n)&&(Ga(),Gi())}}function Il(e,t){ci(ja,Ma),Ma|=t,Va|=t}function xl(){Ma=ja.current,ui(ja)}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Pa)for(n=Pa.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Rs(),ui(fi),ui(di),Ws();break;case 5:Ls(r);break;case 4:Rs();break;case 13:case 19:ui(Ms);break;case 10:ns(r);break;case 23:case 24:xl()}n=n.return}Ra=e,Pa=Hl(e.current,null),La=Ma=Va=t,Fa=0,Ua=null,$a=za=Ba=0}function kl(e,t){for(;;){var n=Pa;try{if(ts(),Qs.current=Do,to){for(var r=Js.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ys=0,eo=Zs=Js=null,no=!1,Da.current=null,null===n||null===n.return){Fa=1,Ua=t,Pa=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=La,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Ms.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var v=new Set;v.add(u),d.updateQueue=v}else g.add(u);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=us(-1,1);y.tag=2,cs(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new ha,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(a)){l.add(a);var w=Bl.bind(null,s,u,a);u.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fa&&(Fa=2),l=ua(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,hs(d,da(0,s,t));break e;case 1:s=l;var E=d.type,I=d.stateNode;if(0===(64&d.flags)&&("function"===typeof E.getDerivedStateFromError||null!==I&&"function"===typeof I.componentDidCatch&&(null===Ja||!Ja.has(I)))){d.flags|=4096,t&=-t,d.lanes|=t,hs(d,fa(d,s,t));break e}}d=d.return}while(null!==d)}Dl(n)}catch(x){t=x,Pa===n&&null!==n&&(Pa=n=n.return);continue}break}}function _l(){var e=Oa.current;return Oa.current=Do,null===e?Do:e}function Sl(e,t){var n=Aa;Aa|=16;var r=_l();for(Ra===e&&La===t||Tl(e,t);;)try{Cl();break}catch(i){kl(e,i)}if(ts(),Aa=n,Oa.current=r,null!==Pa)throw Error(o(261));return Ra=null,La=0,Fa}function Cl(){for(;null!==Pa;)Ol(Pa)}function Nl(){for(;null!==Pa&&!Si();)Ol(Pa)}function Ol(e){var t=Wa(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,null===t?Dl(e):Pa=t,Da.current=null}function Dl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=aa(n,t,Ma)))return void(Pa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ma)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=la(t)))return n.flags&=2047,void(Pa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pa=t);Pa=t=e}while(null!==t);0===Fa&&(Fa=5)}function Al(e){var t=$i();return Ki(99,Rl.bind(null,e,t)),null}function Rl(e,t){do{Ll()}while(null!==el);if(0!==(48&Aa))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-$t(s),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,s&=~c}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Ra&&(Pa=Ra=null,La=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Aa,Aa|=32,Da.current=null,Vr=Wt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(_){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===s&&(d=h),v===u&&++m===c&&(f=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Br={focusedElem:a,selectionRange:l},Wt=!1,cl=null,hl=!1,Qa=r;do{try{Pl()}catch(_){if(null===Qa)throw Error(o(330));Vl(Qa,_),Qa=Qa.nextEffect}}while(null!==Qa);cl=null,Qa=r;do{try{for(a=e;null!==Qa;){var b=Qa.flags;if(16&b&&ve(Qa.stateNode,""),128&b){var w=Qa.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:Ia(Qa),Qa.flags&=-3;break;case 6:Ia(Qa),Qa.flags&=-3,_a(Qa.alternate,Qa);break;case 1024:Qa.flags&=-1025;break;case 1028:Qa.flags&=-1025,_a(Qa.alternate,Qa);break;case 4:_a(Qa.alternate,Qa);break;case 8:ka(a,l=Qa);var I=l.alternate;wa(l),null!==I&&wa(I)}Qa=Qa.nextEffect}}catch(_){if(null===Qa)throw Error(o(330));Vl(Qa,_),Qa=Qa.nextEffect}}while(null!==Qa);if(E=Br,w=mr(),b=E.focusedElem,a=E.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(E=a.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),l=b.textContent.length,I=Math.min(a.start,l),a=void 0===a.end?I:Math.min(a.end,l),!E.extend&&I>a&&(l=a,a=I,I=l),l=fr(b,I),s=fr(b,a),l&&s&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==s.node||E.focusOffset!==s.offset)&&((w=w.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),I>a?(E.addRange(w),E.extend(s.node,s.offset)):(w.setEnd(s.node,s.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Wt=!!Vr,Br=Vr=null,e.current=n,Qa=r;do{try{for(b=e;null!==Qa;){var x=Qa.flags;if(36&x&&va(b,Qa.alternate,Qa),128&x){w=void 0;var T=Qa.ref;if(null!==T){var k=Qa.stateNode;Qa.tag,w=k,"function"===typeof T?T(w):T.current=w}}Qa=Qa.nextEffect}}catch(_){if(null===Qa)throw Error(o(330));Vl(Qa,_),Qa=Qa.nextEffect}}while(null!==Qa);Qa=null,ji(),Aa=i}else e.current=n;if(Za)Za=!1,el=e,tl=t;else for(Qa=r;null!==Qa;)t=Qa.nextEffect,Qa.nextEffect=null,8&Qa.flags&&((x=Qa).sibling=null,x.stateNode=null),Qa=t;if(0===(r=e.pendingLanes)&&(Ja=null),1===r?e===ol?sl++:(sl=0,ol=e):sl=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Ii,n,void 0,64===(64&n.current.flags))}catch(_){}if(gl(e,zi()),Xa)throw Xa=!1,e=Ya,Ya=null,e;return 0!==(8&Aa)||Gi(),null}function Pl(){for(;null!==Qa;){var e=Qa.alternate;hl||null===cl||(0!==(8&Qa.flags)?Ze(Qa,cl)&&(hl=!0):13===Qa.tag&&Ca(e,Qa)&&Ze(Qa,cl)&&(hl=!0));var t=Qa.flags;0!==(256&t)&&ga(e,Qa),0===(512&t)||Za||(Za=!0,Hi(97,(function(){return Ll(),null}))),Qa=Qa.nextEffect}}function Ll(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Ki(e,Fl)}return!1}function Ml(e,t){nl.push(t,e),Za||(Za=!0,Hi(97,(function(){return Ll(),null})))}function jl(e,t){rl.push(t,e),Za||(Za=!0,Hi(97,(function(){return Ll(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Aa))throw Error(o(331));var t=Aa;Aa|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(u){if(null===s)throw Error(o(330));Vl(s,u)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===s)throw Error(o(330));Vl(s,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Aa=t,Gi(),!0}function Ul(e,t,n){cs(e,t=da(0,t=ua(n,t),1)),t=dl(),null!==(e=ml(e,1))&&(zt(e,1,t),gl(e,t))}function Vl(e,t){if(3===e.tag)Ul(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ul(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r))){var i=fa(n,e=ua(t,e),1);if(cs(n,i),i=dl(),null!==(n=ml(n,1)))zt(n,1,i),gl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function Bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&n,Ra===e&&(La&n)===n&&(4===Fa||3===Fa&&(62914560&La)===La&&500>zi()-Ka?Tl(e,0):$a|=n),gl(e,t)}function zl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===$i()?1:2:(0===ll&&(ll=Va),0===(t=Vt(62914560&~ll))&&(t=4194304))),n=dl(),null!==(e=ml(e,t))&&(zt(e,t,n),gl(e,n))}function $l(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new $l(e,t,n,r)}function Kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Kl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return Wl(n.children,i,s,t);case M:a=8,i|=16;break;case k:a=8,i|=1;break;case _:return(e=ql(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=s,e;case O:return(e=ql(13,n,t,i)).type=O,e.elementType=O,e.lanes=s,e;case D:return(e=ql(19,n,t,i)).elementType=D,e.lanes=s,e;case j:return Ql(n,i,s,t);case F:return(e=ql(24,n,t,i)).elementType=F,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case C:a=9;break e;case N:a=11;break e;case A:a=14;break e;case R:a=16,r=null;break e;case P:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ql(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Wl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Ql(e,t,n,r){return(e=ql(23,e,r,t)).elementType=j,e.lanes=n,e}function Xl(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zl(e,t,n,r){var i=t.current,s=dl(),a=fl(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=bi(n,u,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),cs(i,t),pl(i,a,s),a}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jl(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[Zr]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=eu(o);a.call(e)}}Zl(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"===typeof i){var l=i;i=function(){var e=eu(o);l.call(e)}}El((function(){Zl(t,o,e,i)}))}return eu(o)}function ou(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Wa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Ho(t),Hs();break;case 5:Ps(t);break;case 1:gi(t.type)&&wi(t);break;case 4:As(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(ci(Ms,1&Ms.current),null!==(t=sa(e,t,n))?t.sibling:null);ci(Ms,1&Ms.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Ms,Ms.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return sa(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),is(t,n),i=so(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var s=!0;wi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&ms(t,r,a,e),i.updater=gs,t.stateNode=i,i._reactInternals=t,ws(t,r,e,n),t=Ko(null,t,r,!0,s,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Kl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(i),e=Xi(i,e),s){case 0:t=$o(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ls(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===i)Hs(),t=sa(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Us=Gr(t.stateNode.containerInfo.firstChild),Fs=t,s=Vs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Gs.push(s);for(n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Hs();t=t.child}return t;case 5:return Ps(t),null===e&&$s(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,$r(r,i)?a=null:null!==s&&$r(r,s)&&(t.flags|=16),zo(e,t),jo(e,t,a,n),t.child;case 6:return null===e&&$s(t),null;case 13:return Jo(e,t,n);case 4:return As(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ks(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(ci(Yi,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=ur(l,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!fi.current){t=sa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&s)){1===l.tag&&((c=us(-1,n&-n)).tag=2,cs(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),rs(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,is(t,n),r=r(i=ss(i,s.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return s=Xi(i=t.type,t.pendingProps),Uo(e,t,i,s=Xi(i.type,s),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,is(t,n),ys(t,r,i),ws(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ru.prototype.render=function(e){Zl(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pl(e,4,dl()),nu(e,4))},tt=function(e){13===e.tag&&(pl(e,67108864,dl()),nu(e,67108864))},nt=function(e){if(13===e.tag){var t=dl(),n=fl(e);pl(e,n,t),nu(e,n)}},rt=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ae=wl,Re=function(e,t,n,r,i){var s=Aa;Aa|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Aa=s)&&(Ga(),Gi())}},Pe=function(){0===(49&Aa)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,zi())}))}Gi()}(),Ll())},Le=function(e,t){var n=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=n)&&(Ga(),Gi())}};var au={Events:[ni,ri,ii,Oe,De,Ll,{current:!1}]},lu={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uu={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Ii=cu.inject(uu),xi=cu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=ou,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Aa;if(0!==(48&n))return e(t);Aa|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Aa=n,Gi()}},t.hydrate=function(e,t,n){if(!iu(t))throw Error(o(200));return su(null,e,t,!0,n)},t.render=function(e,t,n){if(!iu(t))throw Error(o(200));return su(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(o(40));return!!e._reactRootContainer&&(El((function(){su(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return ou(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return su(e,t,n,!1,r)},t.version="17.0.2"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),t.Fragment=s("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.jsx=u,t.jsxs=u},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!I.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+_(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+_(a=e[u],u);l+=S(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=S(a=a.value,t,n,c=r+_(a,u++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function D(){var e=O.current;if(null===e)throw Error(f(321));return e}var A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";var n,r,i,s;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(h,0),n}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(n){throw E.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>k(o,n))void 0!==l&&0>k(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],S=[],C=1,N=null,O=3,D=!1,A=!1,R=!1;function P(e){for(var t=x(S);null!==t;){if(null===t.callback)T(S);else{if(!(t.startTime<=e))break;T(S),t.sortIndex=t.expirationTime,I(_,t)}t=x(S)}}function L(e){if(R=!1,P(e),!A)if(null!==x(_))A=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){A=!1,R&&(R=!1,i()),D=!0;var s=O;try{for(P(n),N=x(_);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,O=N.priorityLevel;var a=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?N.callback=a:N===x(_)&&T(_),P(n)}else T(_);N=x(_)}if(null!==N)var l=!0;else{var u=x(S);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{N=null,O=s,D=!1}}var j=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return x(_)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:C++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,I(S,e),null===x(_)&&e===x(S)&&(R?i():R=!0,r(L,o-a))):(e.sortIndex=l,I(_,e),A||D||(A=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},440:e=>{"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Xt,SDK_VERSION:()=>Tr,_DEFAULT_ENTRY_NAME:()=>dr,_addComponent:()=>gr,_addOrOverwriteComponent:()=>vr,_apps:()=>pr,_clearComponents:()=>Er,_components:()=>mr,_getProvider:()=>br,_registerComponent:()=>yr,_removeServiceInstance:()=>wr,deleteApp:()=>Cr,getApp:()=>_r,getApps:()=>Sr,initializeApp:()=>kr,onLog:()=>Or,registerVersion:()=>Nr,setLogLevel:()=>Dr});var t=n(43),r=n(950),i=n(600),s=n.n(i),o=n(579);const a=t.createContext({prefixes:{}}),{Consumer:l,Provider:u}=a;function c(e,n){const{prefixes:r}=(0,t.useContext)(a);return e||r[n]||n}function h(){const{dir:e}=(0,t.useContext)(a);return"rtl"===e}var d=/-(.)/g;const f=e=>{return e[0].toUpperCase()+(t=e,t.replace(d,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function p(e){let{displayName:n=f(e),Component:r,defaultProps:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t.forwardRef(((t,n)=>{let{className:i,bsPrefix:a,as:l=r||"div",...u}=t;const h=c(a,e);return(0,o.jsx)(l,{ref:n,className:s()(i,h),...u})}));return a.defaultProps=i,a.displayName=n,a}const m=e=>t.forwardRef(((t,n)=>(0,o.jsx)("div",{...t,ref:n,className:s()(t.className,e)}))),g=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:a="img",...l}=e;const u=c(n,"card-img");return(0,o.jsx)(a,{ref:t,className:s()(i?`${u}-${i}`:u,r),...l})}));g.displayName="CardImg";const v=g,y=t.createContext(null);y.displayName="CardHeaderContext";const b=y,w=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:a="div",...l}=e;const u=c(r,"card-header"),h=(0,t.useMemo)((()=>({cardHeaderBsPrefix:u})),[u]);return(0,o.jsx)(b.Provider,{value:h,children:(0,o.jsx)(a,{ref:n,...l,className:s()(i,u)})})}));w.displayName="CardHeader";const E=w,I=m("h5"),x=m("h6"),T=p("card-body"),k=p("card-title",{Component:I}),_=p("card-subtitle",{Component:x}),S=p("card-link",{Component:"a"}),C=p("card-text",{Component:"p"}),N=p("card-footer"),O=p("card-img-overlay"),D=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:a,border:l,body:u,children:h,as:d="div",...f}=e;const p=c(n,"card");return(0,o.jsx)(d,{ref:t,...f,className:s()(r,p,i&&`bg-${i}`,a&&`text-${a}`,l&&`border-${l}`),children:u?(0,o.jsx)(T,{children:h}):h})}));D.displayName="Card",D.defaultProps={body:!1};const A=Object.assign(D,{Img:v,Title:k,Subtitle:_,Body:T,Link:S,Text:C,Header:E,Footer:N,ImgOverlay:O});function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(null,arguments)}function P(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n(740);function L(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function M(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function j(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),o=s[0],a=s[1],l=void 0!==e,u=i.current;return i.current=l,!l&&u&&o!==n&&a(n),[l?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}function F(e,t){return Object.keys(t).reduce((function(n,r){var i,s=n,o=s[L(r)],a=s[r],l=P(s,[L(r),r].map(M)),u=t[r],c=j(a,o,e[u]),h=c[0],d=c[1];return R({},l,((i={})[r]=h,i[u]=d,i))}),e)}function U(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function V(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function B(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}U.__suppressDeprecationWarning=!0,V.__suppressDeprecationWarning=!0,B.__suppressDeprecationWarning=!0;const z=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function $(e){var n=z(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}const q=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function K(e){var n=q(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function H(e,n,r){return void 0===r&&(r=!1),function(e,n,r,i){void 0===i&&(i=!1);var s=K(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,s,i),function(){return t.removeEventListener(n,s,i)}}),[e])}((0,t.useCallback)((function(){return document}),[]),e,n,r)}function G(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}function W(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}"undefined"!==typeof n.g&&n.g.navigator&&n.g.navigator.product;new WeakMap;const Q=["as","disabled"];function X(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,onClick:o,tabIndex:a=0,type:l}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const c=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:a,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:c,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),c(e))}},u]}const Y=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Q);const[s,{tagName:a}]=X(Object.assign({tagName:n,disabled:r},i));return(0,o.jsx)(a,Object.assign({},i,s,{ref:t}))}));Y.displayName="Button";const J=Y,Z=["onKeyDown"];const ee=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Z);const[i]=X(Object.assign({tagName:"a"},r)),s=K((e=>{i.onKeyDown(e),null==n||n(e)}));return((a=r.href)&&"#"!==a.trim()||r.role)&&"button"!==r.role?(0,o.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,o.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var a}));ee.displayName="Anchor";const te=ee;function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}const re=!1,ie=t.createContext(null);var se="unmounted",oe="exited",ae="entering",le="entered",ue="exiting",ce=function(e){var n,i;function s(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=oe,r.appearStatus=ae):i=le:i=t.unmountOnExit||t.mountOnEnter?se:oe,r.state={status:i},r.nextCallback=null,r}i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,ne(n,i),s.getDerivedStateFromProps=function(e,t){return e.in&&t.status===se?{status:oe}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ae&&n!==le&&(t=ae):n!==ae&&n!==le||(t=ue)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ae?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===oe&&this.setState({status:se})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,s=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=s[0],a=s[1],l=this.getTimeouts(),u=i?l.appear:l.enter;!e&&!n||re?this.safeSetState({status:le},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:ae},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:le},(function(){t.props.onEntered(o,a)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!re?(this.props.onExit(i),this.safeSetState({status:ue},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:oe},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:oe},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=s[0],a=s[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===se)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,P(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ie.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},s}(t.Component);function he(){}ce.contextType=ie,ce.propTypes={},ce.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:he,onEntering:he,onEntered:he,onExit:he,onExiting:he,onExited:he},ce.UNMOUNTED=se,ce.EXITED=oe,ce.ENTERING=ae,ce.ENTERED=le,ce.EXITING=ue;const de=ce;function fe(e){return e&&e.ownerDocument||document}function pe(e,t){return function(e){var t=fe(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var me=/([A-Z])/g;var ge=/^ms-/;function ve(e){return function(e){return e.replace(me,"-$1").toLowerCase()}(e).replace(ge,"-ms-")}var ye=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const be=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(ve(t))||pe(e).getPropertyValue(ve(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!ye.test(e))}(i)?n+=ve(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(ve(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},we=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ee=!1,Ie=!1;try{var xe={get passive(){return Ee=!0},get once(){return Ie=Ee=!0}};we&&(window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,!0))}catch(rC){}const Te=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Ie){var i=r.once,s=r.capture,o=n;!Ie&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ee?r:s)}e.addEventListener(t,n,r)};const ke=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const _e=function(e,t,n,r){return Te(e,t,n,r),function(){ke(e,t,n,r)}};function Se(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=_e(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function Ce(e,t,n,r){null==n&&(n=function(e){var t=be(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Se(e,n,r),s=_e(e,"transitionend",t);return function(){i(),s()}}function Ne(e,t){const n=be(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Oe(e,t){const n=Ne(e,"transitionDuration"),r=Ne(e,"transitionDelay"),i=Ce(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}function De(e){e.offsetHeight}var Ae=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};const Re=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Ae(e),r=Ae(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};const Pe=t.forwardRef(((e,n)=>{let{onEnter:i,onEntering:s,onEntered:a,onExit:l,onExiting:u,onExited:c,addEndListener:h,children:d,childRef:f,...p}=e;const m=(0,t.useRef)(null),g=Re(m,f),v=e=>{var t;g((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},y=e=>t=>{e&&m.current&&e(m.current,t)},b=(0,t.useCallback)(y(i),[i]),w=(0,t.useCallback)(y(s),[s]),E=(0,t.useCallback)(y(a),[a]),I=(0,t.useCallback)(y(l),[l]),x=(0,t.useCallback)(y(u),[u]),T=(0,t.useCallback)(y(c),[c]),k=(0,t.useCallback)(y(h),[h]);return(0,o.jsx)(de,{ref:n,...p,onEnter:b,onEntered:E,onEntering:w,onExit:I,onExited:T,onExiting:x,addEndListener:k,nodeRef:m,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:v}):t.cloneElement(d,{ref:v})})})),Le=Pe,Me={[ae]:"show",[le]:"show"},je=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:a={},...l}=e;const u=(0,t.useCallback)(((e,t)=>{De(e),null==l.onEnter||l.onEnter(e,t)}),[l]);return(0,o.jsx)(Le,{ref:n,addEndListener:Oe,...l,onEnter:u,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:s()("fade",r,i.props.className,Me[e],a[e])})})}));je.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},je.displayName="Fade";const Fe=je;var Ue=n(173),Ve=n.n(Ue);const Be={"aria-label":Ve().string,onClick:Ve().func,variant:Ve().oneOf(["white"])},ze=t.forwardRef(((e,t)=>{let{className:n,variant:r,...i}=e;return(0,o.jsx)("button",{ref:t,type:"button",className:s()("btn-close",r&&`btn-close-${r}`,n),...i})}));ze.displayName="CloseButton",ze.propTypes=Be,ze.defaultProps={"aria-label":"Close"};const $e=ze,qe=m("h4");qe.displayName="DivStyledAsH4";const Ke=p("alert-heading",{Component:qe}),He=p("alert-link",{Component:te}),Ge={variant:"primary",show:!0,transition:Fe,closeLabel:"Close alert"},We=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r,closeLabel:i,closeVariant:a,className:l,children:u,variant:h,onClose:d,dismissible:f,transition:p,...m}=F(e,{show:"onClose"}),g=c(n,"alert"),v=$((e=>{d&&d(!1,e)})),y=!0===p?Fe:p,b=(0,o.jsxs)("div",{role:"alert",...y?void 0:m,ref:t,className:s()(l,g,h&&`${g}-${h}`,f&&`${g}-dismissible`),children:[f&&(0,o.jsx)($e,{onClick:v,"aria-label":i,variant:a}),u]});return y?(0,o.jsx)(y,{unmountOnExit:!0,...m,ref:void 0,in:r,children:b}):r?b:null}));We.displayName="Alert",We.defaultProps=Ge;const Qe=Object.assign(We,{Link:He,Heading:Ke}),Xe={type:Ve().string,tooltip:Ve().bool,as:Ve().elementType},Ye=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:a=!1,...l}=e;return(0,o.jsx)(n,{...l,ref:t,className:s()(r,`${i}-${a?"tooltip":"feedback"}`)})}));Ye.displayName="Feedback",Ye.propTypes=Xe;const Je=Ye,Ze=t.createContext({}),et=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:a,type:l="checkbox",isValid:u=!1,isInvalid:h=!1,as:d="input",...f}=e;const{controlId:p}=(0,t.useContext)(Ze);return i=c(i,"form-check-input"),(0,o.jsx)(d,{...f,ref:n,type:l,id:r||p,className:s()(a,i,u&&"is-valid",h&&"is-invalid")})}));et.displayName="FormCheckInput";const tt=et,nt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:a,...l}=e;const{controlId:u}=(0,t.useContext)(Ze);return r=c(r,"form-check-label"),(0,o.jsx)("label",{...l,ref:n,htmlFor:a||u,className:s()(i,r)})}));nt.displayName="FormCheckLabel";const rt=nt,it=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:a,inline:l=!1,disabled:u=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:m,className:g,style:v,title:y="",type:b="checkbox",label:w,children:E,as:I="input",...x}=e;i=c(i,"form-check"),a=c(a,"form-switch");const{controlId:T}=(0,t.useContext)(Ze),k=(0,t.useMemo)((()=>({controlId:r||T})),[T,r]),_=null!=w&&!1!==w&&!E,S=(0,o.jsx)(tt,{...x,type:"switch"===b?"checkbox":b,ref:n,isValid:h,isInvalid:d,disabled:u,as:I});return(0,o.jsx)(Ze.Provider,{value:k,children:(0,o.jsx)("div",{style:v,className:s()(g,w&&i,l&&`${i}-inline`,"switch"===b&&a),children:E||(0,o.jsxs)(o.Fragment,{children:[S,_&&(0,o.jsx)(rt,{title:y,children:w}),p&&(0,o.jsx)(Je,{type:m,tooltip:f,children:p})]})})})}));it.displayName="FormCheck";const st=Object.assign(it,{Input:tt,Label:rt});var ot=n(440),at=n.n(ot);const lt=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:a,htmlSize:l,id:u,className:h,isValid:d=!1,isInvalid:f=!1,plaintext:p,readOnly:m,as:g="input",...v}=e;const{controlId:y}=(0,t.useContext)(Ze);let b;return r=c(r,"form-control"),b=p?{[`${r}-plaintext`]:!0}:{[r]:!0,[`${r}-${a}`]:a},(0,o.jsx)(g,{...v,type:i,size:l,ref:n,readOnly:m,id:u||y,className:s()(h,b,d&&"is-valid",f&&"is-invalid","color"===i&&`${r}-color`)})}));lt.displayName="FormControl";const ut=Object.assign(lt,{Feedback:Je}),ct=p("form-floating"),ht=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,o.jsx)(Ze.Provider,{value:a,children:(0,o.jsx)(i,{...s,ref:n})})}));ht.displayName="FormGroup";const dt=ht,ft=["xxl","xl","lg","md","sm","xs"];const pt=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:a,spans:l}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=c(n,"col");const o=[],a=[];return ft.forEach((e=>{const t=i[e];let r,s,l;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:l}=t):r=t;const u="xs"!==e?`-${e}`:"";r&&o.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=l&&a.push(`order${u}-${l}`),null!=s&&a.push(`offset${u}-${s}`)})),[{...i,className:s()(r,...o,...a)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,o.jsx)(i,{...r,ref:t,className:s()(n,!l.length&&a)})}));pt.displayName="Col";const mt=pt,gt=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:a,visuallyHidden:l,className:u,htmlFor:h,...d}=e;const{controlId:f}=(0,t.useContext)(Ze);i=c(i,"form-label");let p="col-form-label";"string"===typeof a&&(p=`${p} ${p}-${a}`);const m=s()(u,i,l&&"visually-hidden",a&&p);return h=h||f,a?(0,o.jsx)(mt,{ref:n,as:"label",className:m,htmlFor:h,...d}):(0,o.jsx)(r,{ref:n,className:m,htmlFor:h,...d})}));gt.displayName="FormLabel",gt.defaultProps={column:!1,visuallyHidden:!1};const vt=gt,yt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:a,...l}=e;const{controlId:u}=(0,t.useContext)(Ze);return r=c(r,"form-range"),(0,o.jsx)("input",{...l,type:"range",ref:n,className:s()(i,r),id:a||u})}));yt.displayName="FormRange";const bt=yt,wt=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:a,className:l,isValid:u=!1,isInvalid:h=!1,id:d,...f}=e;const{controlId:p}=(0,t.useContext)(Ze);return r=c(r,"form-select"),(0,o.jsx)("select",{...f,size:a,ref:n,className:s()(l,r,i&&`${r}-${i}`,u&&"is-valid",h&&"is-invalid"),id:d||p})}));wt.displayName="FormSelect";const Et=wt,It=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:a,...l}=e;return n=c(n,"form-text"),(0,o.jsx)(i,{...l,ref:t,className:s()(r,n,a&&"text-muted")})}));It.displayName="FormText";const xt=It,Tt=t.forwardRef(((e,t)=>(0,o.jsx)(st,{...e,ref:t,type:"switch"})));Tt.displayName="Switch";const kt=Object.assign(Tt,{Input:st.Input,Label:st.Label}),_t=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:a,label:l,...u}=e;return n=c(n,"form-floating"),(0,o.jsxs)(dt,{ref:t,className:s()(r,n),controlId:a,...u,children:[i,(0,o.jsx)("label",{htmlFor:a,children:l})]})}));_t.displayName="FloatingLabel";const St=_t,Ct={_ref:Ve().any,validated:Ve().bool,as:Ve().elementType},Nt=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...a}=e;return(0,o.jsx)(i,{...a,ref:t,className:s()(n,r&&"was-validated")})}));Nt.displayName="Form",Nt.propTypes=Ct;const Ot=Object.assign(Nt,{Group:dt,Control:ut,Floating:ct,Check:st,Switch:kt,Label:vt,Text:xt,Range:bt,Select:Et,FloatingLabel:St}),Dt=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i,size:a,active:l,className:u,...h}=e;const d=c(r,"btn"),[f,{tagName:p}]=X({tagName:n,...h}),m=p;return(0,o.jsx)(m,{...h,...f,ref:t,className:s()(u,d,l&&"active",i&&`${d}-${i}`,a&&`${d}-${a}`,h.href&&h.disabled&&"disabled")})}));Dt.displayName="Button",Dt.defaultProps={variant:"primary",active:!1,disabled:!1};const At=Dt,Rt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Lt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Lt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(e){return function(e){const t=Rt(e);return Pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jt=function(e){try{return Pt.decodeString(e,!0)}catch(rC){console.error("base64Decode failed: ",rC)}return null};function Ft(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ft(e[n],t[n]));return e}const Ut=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Vt=()=>{try{return Ut()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(rC){return}const t=e&&jt(e[1]);return t&&JSON.parse(t)})()}catch(rC){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${rC}`)}},Bt=e=>{var t,n;return null===(n=null===(t=Vt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},zt=e=>{const t=Bt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$t=()=>{var e;return null===(e=Vt())||void 0===e?void 0:e.config},qt=e=>{var t;return null===(t=Vt())||void 0===t?void 0:t[`_${e}`]};class Kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ht(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(s)),""].join(".")}function Gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wt(){return!function(){var e;const t=null===(e=Vt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(rC){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qt(){try{return"object"===typeof indexedDB}catch(rC){return!1}}class Xt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}}class Yt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Jt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Xt(n,s,t)}}const Jt=/\{\$([^}]+)}/g;function Zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function en(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(tn(n)&&tn(s)){if(!en(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tn(e){return null!==e&&"object"===typeof e}function nn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function sn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function on(e,t){const n=new an(e,t);return n.subscribe.bind(n)}class an{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ln),void 0===r.error&&(r.error=ln),void 0===r.complete&&(r.complete=ln);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(rC){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(rC){"undefined"!==typeof console&&console.error&&console.error(rC)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ln(){}function un(e){return e&&e._delegate?e._delegate:e}class cn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const hn="[DEFAULT]";class dn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(rC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(rC){if(r)return null;throw rC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hn})}catch(rC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(rC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===hn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.component?this.component.multipleInstances?e:hn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pn=[];var mn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mn||(mn={}));const gn={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},vn=mn.INFO,yn={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},bn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=yn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class wn{constructor(e){this.name=e,this._logLevel=vn,this._logHandler=bn,this._userLogHandler=null,pn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?gn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...t),this._logHandler(this,mn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...t),this._logHandler(this,mn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.INFO,...t),this._logHandler(this,mn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.WARN,...t),this._logHandler(this,mn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...t),this._logHandler(this,mn.ERROR,...t)}}const En=(e,t)=>t.some((t=>e instanceof t));let In,xn;const Tn=new WeakMap,kn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,Cn=new WeakMap;let Nn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_n.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function On(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rn(this),n),An(Tn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return An(e.apply(Rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Rn(this),t,...r);return _n.set(s,t.sort?t.sort():[t]),An(s)}}function Dn(e){return"function"===typeof e?On(e):(e instanceof IDBTransaction&&function(e){if(kn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));kn.set(e,t)}(e),En(e,In||(In=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Nn):e)}function An(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(An(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Tn.set(t,e)})).catch((()=>{})),Cn.set(t,e),t}(e);if(Sn.has(e))return Sn.get(e);const t=Dn(e);return t!==e&&(Sn.set(e,t),Cn.set(t,e)),t}const Rn=e=>Cn.get(e);const Pn=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],Mn=new Map;function jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mn.get(t))return Mn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ln.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Mn.set(t,s),s}Nn=(e=>({...e,get:(t,n,r)=>jn(t,n)||e.get(t,n,r),has:(t,n)=>!!jn(t,n)||e.has(t,n)}))(Nn);class Fn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Un="@firebase/app",Vn="0.9.13",Bn=new wn("@firebase/app"),zn="@firebase/app-compat",$n="@firebase/analytics-compat",qn="@firebase/analytics",Kn="@firebase/app-check-compat",Hn="@firebase/app-check",Gn="@firebase/auth",Wn="@firebase/auth-compat",Qn="@firebase/database",Xn="@firebase/database-compat",Yn="@firebase/functions",Jn="@firebase/functions-compat",Zn="@firebase/installations",er="@firebase/installations-compat",tr="@firebase/messaging",nr="@firebase/messaging-compat",rr="@firebase/performance",ir="@firebase/performance-compat",sr="@firebase/remote-config",or="@firebase/remote-config-compat",ar="@firebase/storage",lr="@firebase/storage-compat",ur="@firebase/firestore",cr="@firebase/firestore-compat",hr="firebase",dr="[DEFAULT]",fr={[Un]:"fire-core",[zn]:"fire-core-compat",[qn]:"fire-analytics",[$n]:"fire-analytics-compat",[Hn]:"fire-app-check",[Kn]:"fire-app-check-compat",[Gn]:"fire-auth",[Wn]:"fire-auth-compat",[Qn]:"fire-rtdb",[Xn]:"fire-rtdb-compat",[Yn]:"fire-fn",[Jn]:"fire-fn-compat",[Zn]:"fire-iid",[er]:"fire-iid-compat",[tr]:"fire-fcm",[nr]:"fire-fcm-compat",[rr]:"fire-perf",[ir]:"fire-perf-compat",[sr]:"fire-rc",[or]:"fire-rc-compat",[ar]:"fire-gcs",[lr]:"fire-gcs-compat",[ur]:"fire-fst",[cr]:"fire-fst-compat","fire-js":"fire-js",[hr]:"fire-js-all"},pr=new Map,mr=new Map;function gr(e,t){try{e.container.addComponent(t)}catch(rC){Bn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,rC)}}function vr(e,t){e.container.addOrOverwriteComponent(t)}function yr(e){const t=e.name;if(mr.has(t))return Bn.debug(`There were multiple attempts to register component ${t}.`),!1;mr.set(t,e);for(const n of pr.values())gr(n,e);return!0}function br(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dr;br(e,t).clearInstance(n)}function Er(){mr.clear()}const Ir=new Yt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Tr="9.23.0";function kr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:dr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=$t()),!n)throw Ir.create("no-options");const s=pr.get(i);if(s){if(en(n,s.options)&&en(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}const o=new fn(i);for(const l of mr.values())o.addComponent(l);const a=new xr(n,r,o);return pr.set(i,a),a}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;const t=pr.get(e);if(!t&&e===dr&&$t())return kr();if(!t)throw Ir.create("no-app",{appName:e});return t}function Sr(){return Array.from(pr.values())}async function Cr(e){const t=e.name;pr.has(t)&&(pr.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Nr(e,t,n){var r;let i=null!==(r=fr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Bn.warn(e.join(" "))}yr(new cn(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Or(e,t){if(null!==e&&"function"!==typeof e)throw Ir.create("invalid-log-argument");!function(e,t){for(const n of pn){let r=null;t&&t.level&&(r=gn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:mn[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Dr(e){var t;t=e,pn.forEach((e=>{e.setLogLevel(t)}))}const Ar="firebase-heartbeat-database",Rr=1,Pr="firebase-heartbeat-store";let Lr=null;function Mr(){return Lr||(Lr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=An(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(An(o.result),e.oldVersion,e.newVersion,An(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ar,Rr,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Pr)}}).catch((e=>{throw Ir.create("idb-open",{originalErrorMessage:e.message})}))),Lr}async function jr(e,t){try{const n=(await Mr()).transaction(Pr,"readwrite"),r=n.objectStore(Pr);await r.put(t,Fr(e)),await n.done}catch(rC){if(rC instanceof Xt)Bn.warn(rC.message);else{const t=Ir.create("idb-set",{originalErrorMessage:null===rC||void 0===rC?void 0:rC.message});Bn.warn(t.message)}}}function Fr(e){return`${e.name}!${e.options.appId}`}class Ur{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Br(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Vr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Vr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),zr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Mt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Vr(){return(new Date).toISOString().substring(0,10)}class Br{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Qt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Mr();return await t.transaction(Pr).objectStore(Pr).get(Fr(e))}catch(rC){if(rC instanceof Xt)Bn.warn(rC.message);else{const t=Ir.create("idb-get",{originalErrorMessage:null===rC||void 0===rC?void 0:rC.message});Bn.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zr(e){return Mt(JSON.stringify({version:2,heartbeats:e})).length}var $r;$r="",yr(new cn("platform-logger",(e=>new Fn(e)),"PRIVATE")),yr(new cn("heartbeat",(e=>new Ur(e)),"PRIVATE")),Nr(Un,Vn,$r),Nr(Un,Vn,"esm2017"),Nr("fire-js","");Nr("firebase","9.23.0","app");function qr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function Kr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hr=Kr,Gr=new Yt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wr=new wn("@firebase/auth");function Qr(e){if(Wr.logLevel<=mn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wr.error(`Auth (${Tr}): ${e}`,...n)}}function Xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zr(e,...n)}function Yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zr(e,...n)}function Jr(e,t,n){const r=Object.assign(Object.assign({},Hr()),{[t]:n});return new Yt("auth","Firebase",r).create(t,{appName:e.name})}function Zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Gr.create(e,...n)}function ei(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Zr(t,...r)}}function ti(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qr(t),new Error(t)}function ni(e,t){e||ti(t)}function ri(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ii(){return"http:"===si()||"https:"===si()}function si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function oi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ii()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ai{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return oi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function li(e,t){ni(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ui{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ci={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hi=new ai(3e4,6e4);function di(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fi(e,t,n,r){return pi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=nn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),ui.fetch()(gi(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function pi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ci),t);try{const t=new vi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw yi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw yi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw yi(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Jr(e,a,o);Xr(e,a)}}catch(rC){if(rC instanceof Xt)throw rC;Xr(e,"network-request-failed",{message:String(rC)})}}async function mi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await fi(e,t,n,r,i);return"mfaPendingCredential"in s&&Xr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function gi(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?li(e.config,i):`${e.config.apiScheme}://${i}`}class vi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Yr(this.auth,"network-request-failed"))),hi.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function yi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yr(e,t,r);return i.customData._tokenResponse=n,i}function bi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(rC){}}function wi(e){return 1e3*Number(e)}function Ei(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qr("JWT malformed, contained fewer than 3 sections"),null;try{const e=jt(n);return e?JSON.parse(e):(Qr("Failed to decode base64 JWT payload"),null)}catch(rC){return Qr("Caught error parsing JWT payload as JSON",null===rC||void 0===rC?void 0:rC.toString()),null}}async function Ii(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(rC){throw rC instanceof Xt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(rC)&&e.auth.currentUser===e&&await e.auth.signOut(),rC}}class xi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(rC){return void("auth/network-request-failed"===(null===rC||void 0===rC?void 0:rC.code)&&this.schedule(!0))}this.schedule()}}class Ti{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bi(this.lastLoginAt),this.creationTime=bi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ki(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ii(e,async function(e,t){return fi(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ei(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=qr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ti(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class _i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ei(e.idToken,"internal-error"),ei("undefined"!==typeof e.idToken,"internal-error"),ei("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ei(e);return ei(t,"internal-error"),ei("undefined"!==typeof t.exp,"internal-error"),ei("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ei(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await pi(e,{},(async()=>{const n=nn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=gi(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ui.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new _i;return n&&(ei("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ei("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ei("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _i,this.toJSON())}_performRefresh(){return ti("not implemented")}}function Si(e,t){ei("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ci{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=qr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ti(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ii(this,this.stsTokenManager.getToken(this.auth,e));return ei(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=un(e),r=await n.getIdToken(t),i=Ei(r);ei(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bi(wi(i.auth_time)),issuedAtTime:bi(wi(i.iat)),expirationTime:bi(wi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=un(e);await ki(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ei(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ei(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ki(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ii(this,async function(e,t){return fi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:I}=t;ei(y&&I,e,"internal-error");const x=_i.fromJSON(this.name,I);ei("string"===typeof y,e,"internal-error"),Si(c,e.name),Si(h,e.name),ei("boolean"===typeof b,e,"internal-error"),ei("boolean"===typeof w,e,"internal-error"),Si(d,e.name),Si(f,e.name),Si(p,e.name),Si(m,e.name),Si(g,e.name),Si(v,e.name);const T=new Ci({uid:y,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new _i;r.updateFromServerResponse(t);const i=new Ci({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ki(i),i}}const Ni=new Map;function Oi(e){ni(e instanceof Function,"Expected a class definition");let t=Ni.get(e);return t?(ni(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ni.set(e,t),t)}class Di{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Di.type="NONE";const Ai=Di;function Ri(e,t,n){return`firebase:${e}:${t}:${n}`}class Pi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ri(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ri("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Pi(Oi(Ai),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Oi(Ai);const s=Ri(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Ci._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Pi(i,e,n)):new Pi(i,e,n)}}function Li(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ui(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bi(t))return"Blackberry";if(zi(t))return"Webos";if(ji(t))return"Safari";if((t.includes("chrome/")||Fi(t))&&!t.includes("edge/"))return"Chrome";if(Vi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/firefox\//i.test(e)}function ji(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/crios\//i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iemobile/i.test(e)}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/android/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/blackberry/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/webos/i.test(e)}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qi(){return function(){const e=Gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return $i(e)||Vi(e)||zi(e)||Bi(e)||/windows phone/i.test(e)||Ui(e)}function Hi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Li(Gt());break;case"Worker":t=`${Li(Gt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tr}/${r}`}async function Gi(e,t){return fi(e,"GET","/v2/recaptchaConfig",di(e,t))}function Wi(e){return void 0!==e&&void 0!==e.enterprise}class Qi{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Xi(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Yr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Yi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ji{constructor(e){this.type="recaptcha-enterprise",this.auth=ns(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Wi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Qi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Wi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Xi("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ji(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class es{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(rC){r(rC)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(rC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===rC||void 0===rC?void 0:rC.message})}}}class ts{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rs(this),this.idTokenSubscription=new rs(this),this.beforeStateQueue=new es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(rC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(rC){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(rC)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ei(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(rC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ki(e)}catch(rC){if("auth/network-request-failed"!==(null===rC||void 0===rC?void 0:rC.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?un(e):null;return t&&ei(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ei(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Oi(e))}))}async initializeRecaptchaConfig(){const e=await Gi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Qi(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ji(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;ei(t,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ei(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ei(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Wr.logLevel<=mn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wr.warn(`Auth (${Tr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ns(e){return un(e)}class rs{constructor(e){this.auth=e,this.observer=null,this.addObserver=on((e=>this.observer=e))}get next(){return ei(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function is(e,t,n){const r=ns(e);ei(r._canInitEmulator,r,"emulator-config-failed"),ei(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ss(t),{host:o,port:a}=function(e){const t=ss(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:os(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:os(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ss(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function os(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class as{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function ls(e,t){return fi(e,"POST","/v1/accounts:update",t)}async function us(e,t){return mi(e,"POST","/v1/accounts:signInWithPassword",di(e,t))}class cs extends as{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new cs(e,t,"password")}static _fromEmailAndCode(e,t){return new cs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Zi(e,n,"signInWithPassword");return us(e,t)}return us(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Zi(e,n,"signInWithPassword");return us(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return mi(e,"POST","/v1/accounts:signInWithEmailLink",di(e,t))}(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ls(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return mi(e,"POST","/v1/accounts:signInWithEmailLink",di(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hs(e,t){return mi(e,"POST","/v1/accounts:signInWithIdp",di(e,t))}class ds extends as{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=qr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ds(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return hs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nn(t)}return e}}const fs={USER_NOT_FOUND:"user-not-found"};class ps extends as{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ps({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ps({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return mi(e,"POST","/v1/accounts:signInWithPhoneNumber",di(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await mi(e,"POST","/v1/accounts:signInWithPhoneNumber",di(e,t));if(n.temporaryProof)throw yi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return mi(e,"POST","/v1/accounts:signInWithPhoneNumber",di(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ps({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ms{constructor(e){var t,n,r,i,s,o;const a=rn(sn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ei(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=rn(sn(e)).link,n=t?rn(sn(t)).deep_link_id:null,r=rn(sn(e)).deep_link_id;return(r?rn(sn(r)).link:null)||r||n||t||e}(e);try{return new ms(t)}catch(n){return null}}}class gs{constructor(){this.providerId=gs.PROVIDER_ID}static credential(e,t){return cs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ms.parseLink(t);return ei(n,"argument-error"),cs._fromEmailAndCode(e,n.code,n.tenantId)}}gs.PROVIDER_ID="password",gs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",gs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ys extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bs extends ys{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch(n){return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com",bs.PROVIDER_ID="facebook.com";class ws extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ws.credential(n,r)}catch(i){return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com",ws.PROVIDER_ID="google.com";class Es extends ys{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch(n){return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com",Es.PROVIDER_ID="github.com";class Is extends ys{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Is.credential(n,r)}catch(i){return null}}}async function xs(e,t){return mi(e,"POST","/v1/accounts:signUp",di(e,t))}Is.TWITTER_SIGN_IN_METHOD="twitter.com",Is.PROVIDER_ID="twitter.com";class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ci._fromIdTokenResponse(e,n,r),s=ks(n);return new Ts({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ks(n);return new Ts({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ks(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _s extends Xt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_s.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new _s(e,t,n,r)}}function Ss(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw _s._fromErrorAndOperation(e,n,t,r);throw n}))}async function Cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ii(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ts._forOperation(e,"link",r)}async function Ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Ii(e,Ss(r,i,t,e),n);ei(s.idToken,r,"internal-error");const o=Ei(s.idToken);ei(o,r,"internal-error");const{sub:a}=o;return ei(e.uid===a,r,"user-mismatch"),Ts._forOperation(e,i,s)}catch(rC){throw"auth/user-not-found"===(null===rC||void 0===rC?void 0:rC.code)&&Xr(r,"user-mismatch"),rC}}async function Os(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ss(e,r,t),s=await Ts._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ds(e,t){return Os(ns(e),t)}new WeakMap;const As="__sak";class Rs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(As,"1"),this.storage.removeItem(As),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ps extends Rs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Gt();return ji(e)||$i(e)}()&&function(){try{return!(!window||window===window.top)}catch(rC){return!1}}(),this.fallbackToPolling=Ki(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);qi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ps.type="LOCAL";const Ls=Ps;class Ms extends Rs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ms.type="SESSION";const js=Ms;class Fs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Fs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Fs.receivers=[];class Vs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Us("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Bs(){return window}function zs(){return"undefined"!==typeof Bs().WorkerGlobalScope&&"function"===typeof Bs().importScripts}const $s="firebaseLocalStorageDb",qs="firebaseLocalStorage",Ks="fbase_key";class Hs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Gs(e,t){return e.transaction([qs],t?"readwrite":"readonly").objectStore(qs)}function Ws(){const e=indexedDB.open($s,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(qs,{keyPath:Ks})}catch(rC){n(rC)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(qs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase($s);return new Hs(e).toPromise()}(),t(await Ws()))}))}))}async function Qs(e,t,n){const r=Gs(e,!0).put({[Ks]:t,value:n});return new Hs(r).toPromise()}function Xs(e,t){const n=Gs(e,!0).delete(t);return new Hs(n).toPromise()}class Ys{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ws()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(rC){if(t++>3)throw rC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fs._getInstance(zs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ws();return await Qs(e,As,"1"),await Xs(e,As),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Qs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Gs(e,!1).get(t),r=await new Hs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Xs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Gs(e,!1).getAll();return new Hs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ys.type="LOCAL";const Js=Ys;Yi("rcb"),new ai(3e4,6e4);const Zs="recaptcha";async function eo(e,t,n){var r;const i=await n.verify();try{let s;if(ei("string"===typeof i,e,"argument-error"),ei(n.type===Zs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ei("enroll"===t.type,e,"internal-error");const n=await function(e,t){return fi(e,"POST","/v2/accounts/mfaEnrollment:start",di(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ei("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ei(n,e,"missing-multi-factor-info");const o=await function(e,t){return fi(e,"POST","/v2/accounts/mfaSignIn:start",di(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return fi(e,"POST","/v1/accounts:sendVerificationCode",di(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class to{constructor(e){this.providerId=to.PROVIDER_ID,this.auth=ns(e)}verifyPhoneNumber(e,t){return eo(this.auth,e,un(t))}static credential(e,t){return ps._fromVerification(e,t)}static credentialFromResult(e){const t=e;return to.credentialFromTaggedObject(t)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ps._fromTokenResponse(n,r):null}}function no(e,t){return t?Oi(t):(ei(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}to.PROVIDER_ID="phone",to.PHONE_SIGN_IN_METHOD="phone";class ro extends as{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function io(e){return Os(e.auth,new ro(e),e.bypassAuthState)}function so(e){const{auth:t,user:n}=e;return ei(n,t,"internal-error"),Ns(n,new ro(e),e.bypassAuthState)}async function oo(e){const{auth:t,user:n}=e;return ei(n,t,"internal-error"),Cs(n,new ro(e),e.bypassAuthState)}class ao{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(rC){this.reject(rC)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(rC){this.reject(rC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return io;case"linkViaPopup":case"linkViaRedirect":return oo;case"reauthViaPopup":case"reauthViaRedirect":return so;default:Xr(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lo=new ai(2e3,1e4);class uo extends ao{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ei(e,this.auth,"internal-error"),e}async onExecution(){ni(1===this.filter.length,"Popup operations only handle one event");const e=Us();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Yr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,lo.get())};e()}}uo.currentPopupAction=null;const co="pendingRedirect",ho=new Map;class fo extends ao{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ho.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=go(t),r=mo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(rC){e=()=>Promise.reject(rC)}ho.set(this.auth._key(),e)}return this.bypassAuthState||ho.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function po(e,t){ho.set(e._key(),t)}function mo(e){return Oi(e._redirectPersistence)}function go(e){return Ri(co,e.config.apiKey,e.name)}async function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ns(e),i=no(r,t),s=new fo(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class yo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!wo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bo(e))}saveEventToCache(e){this.cachedEventUids.add(bo(e)),this.lastProcessedEventTime=Date.now()}}function bo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function wo(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Io=/^https?/;async function xo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return fi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(To(r))return}catch(n){}Xr(e,"unauthorized-domain")}function To(e){const t=ri(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Io.test(n))return!1;if(Eo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ko=new ai(3e4,6e4);function _o(){const e=Bs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let So=null;function Co(e){return So=So||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){_o(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_o(),n(Yr(e,"network-request-failed"))},timeout:ko.get()})}if(null===(i=null===(r=Bs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Bs().gapi)||void 0===s?void 0:s.load)){const t=Yi("iframefcb");return Bs()[t]=()=>{gapi.load?o():n(Yr(e,"network-request-failed"))},Xi(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw So=null,e}))}(e),So}const No=new ai(5e3,15e3),Oo="__/auth/iframe",Do="emulator/auth/iframe",Ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ro=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Po(e){const t=e.config;ei(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?li(t,Do):`https://${e.config.authDomain}/${Oo}`,r={apiKey:t.apiKey,appName:e.name,v:Tr},i=Ro.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nn(r).slice(1)}`}const Lo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(rC){}}}function jo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Lo),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gt().toLowerCase();n&&(a=Fi(u)?"_blank":n),Mi(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return $i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Mo(null);const h=window.open(t||"",a,c);ei(h,e,"popup-blocked");try{h.focus()}catch(rC){}return new Mo(h)}const Fo="__/auth/handler",Uo="emulator/auth/handler",Vo=encodeURIComponent("fac");async function Bo(e,t,n,r,i,s){ei(e.config.authDomain,e,"auth-domain-config-required"),ei(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Tr,eventId:i};if(t instanceof vs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ys){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Vo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Fo}`;return li(t,Uo)}(e)}?${nn(a).slice(1)}${u}`}const zo="webStorageSupport";const $o=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=js,this._completeRedirectFn=vo,this._overrideRedirectResult=po}async _openPopup(e,t,n,r){var i;ni(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return jo(e,await Bo(e,t,n,ri(),r),Us())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Bs().location.href=e}(await Bo(e,t,n,ri(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ni(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Co(e),n=Bs().gapi;return ei(n,e,"internal-error"),t.open({where:document.body,url:Po(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ao,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Yr(e,"network-request-failed"),s=Bs().setTimeout((()=>{r(i)}),No.get());function o(){Bs().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new yo(e);return t.register("authEvent",(t=>{ei(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zo,{type:zo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[zo];void 0!==i&&t(!!i),Xr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ki()||ji()||$i()}};var qo="@firebase/auth",Ko="0.23.2";class Ho{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ei(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Go=qt("authIdTokenMaxAge")||300;let Wo=null;var Qo;Qo="Browser",yr(new cn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ei(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Qo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hi(Qo)},u=new ts(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yr(new cn("auth-internal",(e=>(e=>new Ho(e))(ns(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(qo,Ko,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qo)),Nr(qo,Ko,"esm2017");var Xo,Yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jo={},Zo=Zo||{},ea=Yo||self;function ta(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function na(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ra="closure_uid_"+(1e9*Math.random()>>>0),ia=0;function sa(e,t,n){return e.call.apply(e.bind,arguments)}function oa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function aa(e,t,n){return(aa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:oa).apply(null,arguments)}function la(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ua(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ca(){this.s=this.s,this.o=this.o}ca.prototype.s=!1,ca.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ra)&&e[ra]||(e[ra]=++ia))},ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ha=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function da(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ta(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function pa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}pa.prototype.h=function(){this.defaultPrevented=!0};var ma=function(){if(!ea.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ea.addEventListener("test",(()=>{}),t),ea.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function ga(e){return/^[\s\xa0]*$/.test(e)}function va(){var e=ea.navigator;return e&&(e=e.userAgent)?e:""}function ya(e){return-1!=va().indexOf(e)}function ba(e){return ba[" "](e),e}ba[" "]=function(){};var wa,Ea,Ia=ya("Opera"),xa=ya("Trident")||ya("MSIE"),Ta=ya("Edge"),ka=Ta||xa,_a=ya("Gecko")&&!(-1!=va().toLowerCase().indexOf("webkit")&&!ya("Edge"))&&!(ya("Trident")||ya("MSIE"))&&!ya("Edge"),Sa=-1!=va().toLowerCase().indexOf("webkit")&&!ya("Edge");function Ca(){var e=ea.document;return e?e.documentMode:void 0}e:{var Na="",Oa=function(){var e=va();return _a?/rv:([^\);]+)(\)|;)/.exec(e):Ta?/Edge\/([\d\.]+)/.exec(e):xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Sa?/WebKit\/(\S+)/.exec(e):Ia?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Oa&&(Na=Oa?Oa[1]:""),xa){var Da=Ca();if(null!=Da&&Da>parseFloat(Na)){wa=String(Da);break e}}wa=Na}if(ea.document&&xa){var Aa=Ca();Ea=Aa||(parseInt(wa,10)||void 0)}else Ea=void 0;var Ra=Ea;function Pa(e,t){if(pa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_a){e:{try{ba(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:La[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pa.$.h.call(this)}}ua(Pa,pa);var La={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),ja=0;function Fa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ja,this.fa=this.ia=!1}function Ua(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Va(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ba(e){const t={};for(const n in e)t[n]=e[n];return t}const za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $a(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<za.length;t++)n=za[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qa(e){this.src=e,this.g={},this.h=0}function Ka(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ha(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ua(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ha(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}qa.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ha(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Fa(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ga="closure_lm_"+(1e6*Math.random()|0),Wa={};function Qa(e,t,n,r,i){if(r&&r.once)return Ya(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Qa(e,t[s],n,r,i);return null}return n=il(n),e&&e[Ma]?e.O(t,n,na(r)?!!r.capture:!!r,i):Xa(e,t,n,!1,r,i)}function Xa(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=na(i)?!!i.capture:!!i,a=nl(e);if(a||(e[Ga]=a=new qa(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=tl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ma||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(el(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ya(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ya(e,t[s],n,r,i);return null}return n=il(n),e&&e[Ma]?e.P(t,n,na(r)?!!r.capture:!!r,i):Xa(e,t,n,!0,r,i)}function Ja(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ja(e,t[s],n,r,i);else r=na(r)?!!r.capture:!!r,n=il(n),e&&e[Ma]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ha(s=e.g[t],n,r,i))&&(Ua(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=nl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ha(t,n,r,i)),(n=-1<e?t[e]:null)&&Za(n))}function Za(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ma])Ka(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(el(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nl(t))?(Ka(n,e),0==n.h&&(n.src=null,t[Ga]=null)):Ua(e)}}}function el(e){return e in Wa?Wa[e]:Wa[e]="on"+e}function tl(e,t){if(e.fa)e=!0;else{t=new Pa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Za(e),e=n.call(r,t)}return e}function nl(e){return(e=e[Ga])instanceof qa?e:null}var rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function il(e){return"function"===typeof e?e:(e[rl]||(e[rl]=function(t){return e.handleEvent(t)}),e[rl])}function sl(){ca.call(this),this.i=new qa(this),this.S=this,this.J=null}function ol(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new pa(t,e);else if(t instanceof pa)t.target=t.target||e;else{var i=t;$a(t=new pa(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=al(o,r,!0,t)&&i}if(i=al(o=t.g=e,r,!0,t)&&i,i=al(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=al(o=t.g=n[s],r,!1,t)&&i}function al(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ka(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}ua(sl,ca),sl.prototype[Ma]=!0,sl.prototype.removeEventListener=function(e,t,n,r){Ja(this,e,t,n,r)},sl.prototype.N=function(){if(sl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ua(n[r]);delete t.g[e],t.h--}}this.J=null},sl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},sl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ll=ea.JSON.stringify;function ul(){var e=gl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new hl),(e=>e.reset()));class hl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function fl(e){ea.setTimeout((()=>{throw e}),0)}let pl,ml=!1,gl=new class{constructor(){this.h=this.g=null}add(e,t){const n=cl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},vl=()=>{const e=ea.Promise.resolve(void 0);pl=()=>{e.then(yl)}};var yl=()=>{for(var e;e=ul();){try{e.h.call(e.g)}catch(n){fl(n)}var t=cl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ml=!1};function bl(e,t){sl.call(this),this.h=e||1,this.g=t||ea,this.j=aa(this.qb,this),this.l=Date.now()}function wl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function El(e,t,n){if("function"===typeof e)n&&(e=aa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=aa(e.handleEvent,e)}return 2147483647<Number(t)?-1:ea.setTimeout(e,t||0)}function Il(e){e.g=El((()=>{e.g=null,e.i&&(e.i=!1,Il(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ua(bl,sl),(Xo=bl.prototype).ga=!1,Xo.T=null,Xo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ol(this,"tick"),this.ga&&(wl(this),this.start()))}},Xo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xo.N=function(){bl.$.N.call(this),wl(this),delete this.g};class xl extends ca{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Il(this)}N(){super.N(),this.g&&(ea.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tl(e){ca.call(this),this.h=e,this.g={}}ua(Tl,ca);var kl=[];function _l(e,t,n,r){Array.isArray(n)||(n&&(kl[0]=n.toString()),n=kl);for(var i=0;i<n.length;i++){var s=Qa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Sl(e){Va(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Za(e)}),e),e.g={}}function Cl(){this.g=!0}function Nl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ll(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Tl.prototype.N=function(){Tl.$.N.call(this),Sl(this)},Tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cl.prototype.Ea=function(){this.g=!1},Cl.prototype.info=function(){};var Ol={},Dl=null;function Al(){return Dl=Dl||new sl}function Rl(e){pa.call(this,Ol.Ta,e)}function Pl(e){const t=Al();ol(t,new Rl(t))}function Ll(e,t){pa.call(this,Ol.STAT_EVENT,e),this.stat=t}function Ml(e){const t=Al();ol(t,new Ll(t,e))}function jl(e,t){pa.call(this,Ol.Ua,e),this.size=t}function Fl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ea.setTimeout((function(){e()}),t)}Ol.Ta="serverreachability",ua(Rl,pa),Ol.STAT_EVENT="statevent",ua(Ll,pa),Ol.Ua="timingevent",ua(jl,pa);var Ul={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bl(){}function zl(e){return e.h||(e.h=e.i())}function $l(){}Bl.prototype.h=null;var ql,Kl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hl(){pa.call(this,"d")}function Gl(){pa.call(this,"c")}function Wl(){}function Ql(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Tl(this),this.P=Yl,e=ka?125:void 0,this.V=new bl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}ua(Hl,pa),ua(Gl,pa),ua(Wl,Bl),Wl.prototype.g=function(){return new XMLHttpRequest},Wl.prototype.i=function(){return{}},ql=new Wl;var Yl=45e3,Jl={},Zl={};function eu(e,t,n){e.L=1,e.v=bu(pu(t)),e.s=n,e.S=!0,tu(e,null)}function tu(e,t){e.G=Date.now(),su(e),e.A=pu(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Au(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Xl,e.g=Rc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new xl(aa(e.Pa,e,e.g),e.O)),_l(e.U,e.g,"readystatechange",e.nb),t=e.I?Ba(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Pl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function nu(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ru(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=iu(e,n),r==Zl){4==t&&(e.o=4,Ml(14),i=!1),Nl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jl){e.o=4,Ml(15),Nl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nl(e.j,e.m,r,null),cu(e,r)}nu(e)&&r!=Zl&&r!=Jl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ml(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kc(t),t.M=!0,Ml(11))):(Nl(e.j,e.m,n,"[Invalid Chunked Response]"),uu(e),lu(e))}function iu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zl:(n=Number(t.substring(n,r)),isNaN(n)?Jl:(r+=1)+n>t.length?Zl:(t=t.slice(r,r+n),e.C=r+n,t))}function su(e){e.Y=Date.now()+e.P,ou(e,e.P)}function ou(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fl(aa(e.lb,e),t)}function au(e){e.B&&(ea.clearTimeout(e.B),e.B=null)}function lu(e){0==e.l.H||e.J||Cc(e.l,e)}function uu(e){au(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,wl(e.V),Sl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function cu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Uu(n.i,e)))if(!e.K&&Uu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Sc(n),vc(n)}Tc(n),Ml(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Fl(aa(n.ib,n),6e3));if(1>=Fu(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Oc(n,11)}else if((e.K||n.g==e)&&Sc(n),!ga(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Vu(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,yu(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Ac(r,r.J?r.pa:null,r.Y),o.K){Bu(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(au(a),su(a)),r.g=o}else xc(r);0<n.j.length&&bc(n)}else"stop"!=u[0]&&"close"!=u[0]||Oc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Oc(n,7):gc(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Pl()}catch(u){}}function hu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ta(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ta(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ta(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Xo=Ql.prototype).setTimeout=function(e){this.P=e},Xo.nb=function(e){e=e.target;const t=this.M;t&&3==cc(e)?t.l():this.Pa(e)},Xo.Pa=function(e){try{if(e==this.g)e:{const c=cc(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||ka||this.g&&(this.h.h||this.g.ja()||hc(this.g)))){this.J||4!=c||7==t||Pl(),au(this);var n=this.g.da();this.ca=n;t:if(nu(this)){var r=hc(this.g);e="";var i=r.length,s=4==cc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){uu(this),lu(this);var o="";break t}this.h.i=new ea.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ga(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ml(12),uu(this),lu(this);break e}Nl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cu(this,n)}this.S?(ru(this,c,o),ka&&this.i&&3==c&&(_l(this.U,this.V,"tick",this.mb),this.V.start())):(Nl(this.j,this.m,o,null),cu(this,o)),4==c&&uu(this),this.i&&!this.J&&(4==c?Cc(this.l,this):(this.i=!1,su(this)))}else(function(e){const t={};e=(e.g&&2<=cc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ga(e[r]))continue;var n=dl(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ml(12)):(this.o=0,Ml(13)),uu(this),lu(this)}}}catch(c){}},Xo.mb=function(){if(this.g){var e=cc(this.g),t=this.g.ja();this.C<t.length&&(au(this),ru(this,e,t),this.i&&4!=e&&su(this))}},Xo.cancel=function(){this.J=!0,uu(this)},Xo.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Pl(),Ml(17)),uu(this),this.o=2,lu(this)):ou(this,this.Y-e)};var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fu){this.h=e.h,mu(this,e.j),this.s=e.s,this.g=e.g,gu(this,e.m),this.l=e.l;var t=e.i,n=new Cu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vu(this,n),this.o=e.o}else e&&(t=String(e).match(du))?(this.h=!1,mu(this,t[1]||"",!0),this.s=wu(t[2]||""),this.g=wu(t[3]||"",!0),gu(this,t[4]),this.l=wu(t[5]||"",!0),vu(this,t[6]||"",!0),this.o=wu(t[7]||"")):(this.h=!1,this.i=new Cu(null,this.h))}function pu(e){return new fu(e)}function mu(e,t,n){e.j=n?wu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vu(e,t,n){t instanceof Cu?(e.i=t,function(e,t){t&&!e.j&&(Nu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ou(this,t),Au(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Eu(t,_u)),e.i=new Cu(t,e.h))}function yu(e,t,n){e.i.set(t,n)}function bu(e){return yu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Iu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Iu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eu(t,xu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eu(t,xu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eu(n,"/"==n.charAt(0)?ku:Tu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eu(n,Su)),e.join("")};var xu=/[#\/\?@]/g,Tu=/[#\?:]/g,ku=/[#\?]/g,_u=/[#\?@]/g,Su=/#/g;function Cu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ou(e,t){Nu(e),t=Ru(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Du(e,t){return Nu(e),t=Ru(e,t),e.g.has(t)}function Au(e,t,n){Ou(e,t),0<n.length&&(e.i=null,e.g.set(Ru(e,t),da(n)),e.h+=n.length)}function Ru(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xo=Cu.prototype).add=function(e,t){Nu(this),this.i=null,e=Ru(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xo.forEach=function(e,t){Nu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xo.ta=function(){Nu(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Xo.Z=function(e){Nu(this);let t=[];if("string"===typeof e)Du(this,e)&&(t=t.concat(this.g.get(Ru(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xo.set=function(e,t){return Nu(this),this.i=null,Du(this,e=Ru(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Xo.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Pu=class{constructor(e,t){this.g=e,this.map=t}};function Lu(e){this.l=e||Mu,ea.PerformanceNavigationTiming?e=0<(e=ea.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ea.g&&ea.g.Ka&&ea.g.Ka()&&ea.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mu=10;function ju(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fu(e){return e.h?1:e.g?e.g.size:0}function Uu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Vu(e,t){e.g?e.g.add(t):e.h=t}function Bu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return da(e.i)}Lu.prototype.cancel=function(){if(this.i=zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var $u,qu=class{stringify(e){return ea.JSON.stringify(e,void 0)}parse(e){return ea.JSON.parse(e,void 0)}};function Ku(){this.g=new qu}function Hu(e,t,n){const r=n||"";try{hu(e,(function(e,n){let i=e;na(e)&&(i=ll(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(rC){throw t.push(r+"type="+encodeURIComponent("_badmap")),rC}}function Gu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Wu(e){this.l=e.fc||null,this.j=e.ob||!1}function Qu(e,t){sl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Xu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ua(Wu,Bl),Wu.prototype.g=function(){return new Qu(this.l,this.j)},Wu.prototype.i=($u={},function(){return $u}),ua(Qu,sl);var Xu=0;function Yu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ju(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zu(e)}function Zu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xo=Qu.prototype).open=function(e,t){if(this.readyState!=Xu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zu(this)},Xo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ea).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Xo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ju(this)),this.readyState=Xu},Xo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zu(this)),this.g&&(this.readyState=3,Zu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ea.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Xo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ju(this):Zu(this),3==this.readyState&&Yu(this)}},Xo.Za=function(e){this.g&&(this.response=this.responseText=e,Ju(this))},Xo.Ya=function(e){this.g&&(this.response=e,Ju(this))},Xo.ka=function(){this.g&&Ju(this)},Xo.setRequestHeader=function(e,t){this.v.append(e,t)},Xo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ec=ea.JSON.parse;function tc(e){sl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nc,this.L=this.M=!1}ua(tc,sl);var nc="",rc=/^https?$/i,ic=["POST","PUT"];function sc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,oc(e),lc(e)}function oc(e){e.F||(e.F=!0,ol(e,"complete"),ol(e,"error"))}function ac(e){if(e.h&&"undefined"!=typeof Zo&&(!e.C[1]||4!=cc(e)||2!=e.da()))if(e.v&&4==cc(e))El(e.La,0,e);else if(ol(e,"readystatechange"),4==cc(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(du)[1]||null;!i&&ea.self&&ea.self.location&&(i=ea.self.location.protocol.slice(0,-1)),r=!rc.test(i?i.toLowerCase():"")}n=r}if(n)ol(e,"complete"),ol(e,"success");else{e.m=6;try{var s=2<cc(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",oc(e)}}finally{lc(e)}}}function lc(e,t){if(e.g){uc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ol(e,"ready");try{n.onreadystatechange=r}catch(rC){}}}function uc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ea.clearTimeout(e.A),e.A=null)}function cc(e){return e.g?e.g.readyState:0}function hc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case nc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gh){return null}}function dc(e){let t="";return Va(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yu(e,t,n))}function pc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mc(e){this.Ga=0,this.j=[],this.l=new Cl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pc("baseRetryDelayMs",5e3,e),this.hb=pc("retryDelaySeedMs",1e4,e),this.eb=pc("forwardChannelMaxRetries",2,e),this.xa=pc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Lu(e&&e.concurrentRequestLimit),this.Ja=new Ku,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gc(e){if(yc(e),3==e.H){var t=e.W++,n=pu(e.I);if(yu(n,"SID",e.K),yu(n,"RID",t),yu(n,"TYPE","terminate"),Ec(e,n),(t=new Ql(e,e.l,t)).L=2,t.v=bu(pu(n)),n=!1,ea.navigator&&ea.navigator.sendBeacon)try{n=ea.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ea.Image&&((new Image).src=t.v,n=!0),n||(t.g=Rc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),su(t)}Dc(e)}function vc(e){e.g&&(kc(e),e.g.cancel(),e.g=null)}function yc(e){vc(e),e.u&&(ea.clearTimeout(e.u),e.u=null),Sc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ea.clearTimeout(e.m),e.m=null)}function bc(e){if(!ju(e.i)&&!e.m){e.m=!0;var t=e.Na;pl||vl(),ml||(pl(),ml=!0),gl.add(t,e),e.C=0}}function wc(e,t){var n;n=t?t.m:e.W++;const r=pu(e.I);yu(r,"SID",e.K),yu(r,"RID",n),yu(r,"AID",e.V),Ec(e,r),e.o&&e.s&&fc(r,e.o,e.s),n=new Ql(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ic(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Vu(e.i,n),eu(n,r,t)}function Ec(e,t){e.na&&Va(e.na,(function(e,n){yu(t,n,e)})),e.h&&hu({},(function(e,n){yu(t,n,e)}))}function Ic(e,t,n){n=Math.min(e.j.length,n);var r=e.h?aa(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Hu(a,e,"req"+n+"_")}catch(Sh){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function xc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;pl||vl(),ml||(pl(),ml=!0),gl.add(t,e),e.A=0}}function Tc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Fl(aa(e.Ma,e),Nc(e,e.A)),e.A++,!0)}function kc(e){null!=e.B&&(ea.clearTimeout(e.B),e.B=null)}function _c(e){e.g=new Ql(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=pu(e.wa);yu(t,"RID","rpc"),yu(t,"SID",e.K),yu(t,"AID",e.V),yu(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&yu(t,"TO",e.qa),yu(t,"TYPE","xmlhttp"),Ec(e,t),e.o&&e.s&&fc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=bu(pu(t)),n.s=null,n.S=!0,tu(n,e)}function Sc(e){null!=e.v&&(ea.clearTimeout(e.v),e.v=null)}function Cc(e,t){var n=null;if(e.g==t){Sc(e),kc(e),e.g=null;var r=2}else{if(!Uu(e.i,t))return;n=t.F,Bu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ol(r=Al(),new jl(r,n)),bc(e)}else xc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Fu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Fl(aa(e.Na,e,t),Nc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Tc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Oc(e,5);break;case 4:Oc(e,10);break;case 3:Oc(e,6);break;default:Oc(e,2)}}function Nc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Oc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=aa(e.pb,e);n||(n=new fu("//www.google.com/images/cleardot.gif"),ea.location&&"http"==ea.location.protocol||mu(n,"https"),bu(n)),function(e,t){const n=new Cl;if(ea.Image){const r=new Image;r.onload=la(Gu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=la(Gu,n,r,"TestLoadImage: error",!1,t),r.onabort=la(Gu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=la(Gu,n,r,"TestLoadImage: timeout",!1,t),ea.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ml(2);e.H=0,e.h&&e.h.za(t),Dc(e),yc(e)}function Dc(e){if(e.H=0,e.ma=[],e.h){const t=zu(e.i);0==t.length&&0==e.j.length||(fa(e.ma,t),fa(e.ma,e.j),e.i.i.length=0,da(e.j),e.j.length=0),e.h.ya()}}function Ac(e,t,n){var r=n instanceof fu?pu(n):new fu(n);if(""!=r.g)t&&(r.g=t+"."+r.g),gu(r,r.m);else{var i=ea.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new fu(null);r&&mu(s,r),t&&(s.g=t),i&&gu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&yu(r,n,t),yu(r,"VER",e.ra),Ec(e,r),r}function Rc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new tc(new Wu({ob:!0})):new tc(e.va)).Oa(e.J),t}function Pc(){}function Lc(){if(xa&&!(10<=Number(Ra)))throw Error("Environmental error: no available transport.")}function Mc(e,t){sl.call(this),this.g=new mc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ga(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ga(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Uc(this)}function jc(e){Hl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fc(){Gl.call(this),this.status=1}function Uc(e){this.g=e}function Vc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function zc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Xo=tc.prototype).Oa=function(e){this.M=e},Xo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ql.g(),this.C=this.u?zl(this.u):zl(ql),this.g.onreadystatechange=aa(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void sc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ea.FormData&&e instanceof ea.FormData,!(0<=ha(ic,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uc(this),0<this.B&&((this.L=function(e){return xa&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=aa(this.ua,this)):this.A=El(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){sc(this,s)}},Xo.ua=function(){"undefined"!=typeof Zo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ol(this,"timeout"),this.abort(8))},Xo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ol(this,"complete"),ol(this,"abort"),lc(this))},Xo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lc(this,!0)),tc.$.N.call(this)},Xo.La=function(){this.s||(this.G||this.v||this.l?ac(this):this.kb())},Xo.kb=function(){ac(this)},Xo.isActive=function(){return!!this.g},Xo.da=function(){try{return 2<cc(this)?this.g.status:-1}catch($u){return-1}},Xo.ja=function(){try{return this.g?this.g.responseText:""}catch($u){return""}},Xo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ec(t)}},Xo.Ia=function(){return this.m},Xo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xo=mc.prototype).ra=8,Xo.H=1,Xo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ql(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ba(s),$a(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ic(this,i,t),yu(n=pu(this.I),"RID",e),yu(n,"CVER",22),this.F&&yu(n,"X-HTTP-Session-Id",this.F),Ec(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(dc(s)))+"&"+t:this.o&&fc(n,this.o,s)),Vu(this.i,i),this.bb&&yu(n,"TYPE","init"),this.P?(yu(n,"$req",t),yu(n,"SID","null"),i.aa=!0,eu(i,n,null)):eu(i,n,t),this.H=2}}else 3==this.H&&(e?wc(this,e):0==this.j.length||ju(this.i)||wc(this))},Xo.Ma=function(){if(this.u=null,_c(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Fl(aa(this.jb,this),e)}},Xo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ml(10),vc(this),_c(this))},Xo.ib=function(){null!=this.v&&(this.v=null,vc(this),Tc(this),Ml(19))},Xo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ml(2)):(this.l.info("Failed to ping google.com"),Ml(1))},Xo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xo=Pc.prototype).Ba=function(){},Xo.Aa=function(){},Xo.za=function(){},Xo.ya=function(){},Xo.isActive=function(){return!0},Xo.Va=function(){},Lc.prototype.g=function(e,t){return new Mc(e,t)},ua(Mc,sl),Mc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ml(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ac(e,null,e.Y),bc(e)},Mc.prototype.close=function(){gc(this.g)},Mc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ll(e),e=n);t.j.push(new Pu(t.fb++,e)),3==t.H&&bc(t)},Mc.prototype.N=function(){this.g.h=null,delete this.j,gc(this.g),delete this.g,Mc.$.N.call(this)},ua(jc,Hl),ua(Fc,Gl),ua(Uc,Pc),Uc.prototype.Ba=function(){ol(this.g,"a")},Uc.prototype.Aa=function(e){ol(this.g,new jc(e))},Uc.prototype.za=function(e){ol(this.g,new Fc)},Uc.prototype.ya=function(){ol(this.g,"b")},ua(Vc,(function(){this.blockSize=-1})),Vc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Bc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Bc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Bc(this,r),i=0;break}}this.h=i,this.i+=t},Vc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var $c={};function qc(e){return-128<=e&&128>e?function(e,t){var n=$c;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new zc([0|e],0>e?-1:0)})):new zc([0|e],0>e?-1:0)}function Kc(e){if(isNaN(e)||!isFinite(e))return Gc;if(0>e)return Jc(Kc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Hc;return new zc(t,0)}var Hc=4294967296,Gc=qc(0),Wc=qc(1),Qc=qc(16777216);function Xc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Yc(e){return-1==e.h}function Jc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new zc(n,~e.h).add(Wc)}function Zc(e,t){return e.add(Jc(t))}function eh(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function th(e,t){this.g=e,this.h=t}function nh(e,t){if(Xc(t))throw Error("division by zero");if(Xc(e))return new th(Gc,Gc);if(Yc(e))return t=nh(Jc(e),t),new th(Jc(t.g),Jc(t.h));if(Yc(t))return t=nh(e,Jc(t)),new th(Jc(t.g),t.h);if(30<e.g.length){if(Yc(e)||Yc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wc,r=t;0>=r.X(e);)n=rh(n),r=rh(r);var i=ih(n,1),s=ih(r,1);for(r=ih(r,2),n=ih(n,2);!Xc(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=ih(r,1),n=ih(n,1)}return t=Zc(e,i.R(t)),new th(i,t)}for(i=Gc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Kc(n)).R(t);Yc(o)||0<o.X(e);)o=(s=Kc(n-=r)).R(t);Xc(s)&&(s=Wc),i=i.add(s),e=Zc(e,o)}return new th(i,e)}function rh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new zc(n,e.h)}function ih(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new zc(i,e.h)}(Xo=zc.prototype).ea=function(){if(Yc(this))return-Jc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Hc+r)*t,t*=Hc}return e},Xo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Xc(this))return"0";if(Yc(this))return"-"+Jc(this).toString(e);for(var t=Kc(Math.pow(e,6)),n=this,r="";;){var i=nh(n,t).g,s=((0<(n=Zc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Xc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Xo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Xo.X=function(e){return Yc(e=Zc(this,e))?-1:Xc(e)?0:1},Xo.abs=function(){return Yc(this)?Jc(this):this},Xo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new zc(n,-2147483648&n[n.length-1]?-1:0)},Xo.R=function(e){if(Xc(this)||Xc(e))return Gc;if(Yc(this))return Yc(e)?Jc(this).R(Jc(e)):Jc(Jc(this).R(e));if(Yc(e))return Jc(this.R(Jc(e)));if(0>this.X(Qc)&&0>e.X(Qc))return Kc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,eh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,eh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,eh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,eh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new zc(n,0)},Xo.gb=function(e){return nh(this,e).h},Xo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new zc(n,this.h&e.h)},Xo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new zc(n,this.h|e.h)},Xo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new zc(n,this.h^e.h)},Lc.prototype.createWebChannel=Lc.prototype.g,Mc.prototype.send=Mc.prototype.u,Mc.prototype.open=Mc.prototype.m,Mc.prototype.close=Mc.prototype.close,Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,Vl.COMPLETE="complete",$l.EventType=Kl,Kl.OPEN="a",Kl.CLOSE="b",Kl.ERROR="c",Kl.MESSAGE="d",sl.prototype.listen=sl.prototype.O,tc.prototype.listenOnce=tc.prototype.P,tc.prototype.getLastError=tc.prototype.Sa,tc.prototype.getLastErrorCode=tc.prototype.Ia,tc.prototype.getStatus=tc.prototype.da,tc.prototype.getResponseJson=tc.prototype.Wa,tc.prototype.getResponseText=tc.prototype.ja,tc.prototype.send=tc.prototype.ha,tc.prototype.setWithCredentials=tc.prototype.Oa,Vc.prototype.digest=Vc.prototype.l,Vc.prototype.reset=Vc.prototype.reset,Vc.prototype.update=Vc.prototype.j,zc.prototype.add=zc.prototype.add,zc.prototype.multiply=zc.prototype.R,zc.prototype.modulo=zc.prototype.gb,zc.prototype.compare=zc.prototype.X,zc.prototype.toNumber=zc.prototype.ea,zc.prototype.toString=zc.prototype.toString,zc.prototype.getBits=zc.prototype.D,zc.fromNumber=Kc,zc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Jc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Kc(Math.pow(n,8)),i=Gc,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Kc(Math.pow(n,o)),i=i.R(o).add(Kc(a))):i=(i=i.R(r)).add(Kc(a))}return i};var sh=Jo.createWebChannelTransport=function(){return new Lc},oh=Jo.getStatEventTarget=function(){return Al()},ah=Jo.ErrorCode=Ul,lh=Jo.EventType=Vl,uh=Jo.Event=Ol,ch=Jo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hh=Jo.FetchXmlHttpFactory=Wu,dh=Jo.WebChannel=$l,fh=Jo.XhrIo=tc,ph=Jo.Md5=Vc,mh=Jo.Integer=zc;const gh="@firebase/firestore";class vh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vh.UNAUTHENTICATED=new vh(null),vh.GOOGLE_CREDENTIALS=new vh("google-credentials-uid"),vh.FIRST_PARTY=new vh("first-party-uid"),vh.MOCK_USER=new vh("mock-user");let yh="9.23.0";const bh=new wn("@firebase/firestore");function wh(){return bh.logLevel}function Eh(e){if(bh.logLevel<=mn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Th);bh.debug(`Firestore (${yh}): ${e}`,...i)}}function Ih(e){if(bh.logLevel<=mn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Th);bh.error(`Firestore (${yh}): ${e}`,...i)}}function xh(e){if(bh.logLevel<=mn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Th);bh.warn(`Firestore (${yh}): ${e}`,...i)}}function Th(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function kh(){const e=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ih(e),new Error(e)}function _h(e,t){e||kh()}function Sh(e,t){return e}const Ch={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nh extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Dh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ah{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vh.UNAUTHENTICATED)))}shutdown(){}}class Rh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ph{constructor(e){this.t=e,this.currentUser=vh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Oh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Oh,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Eh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Eh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Oh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Eh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(_h("string"==typeof t.accessToken),new Dh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _h(null===e||"string"==typeof e),new vh(e)}}class Lh{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=vh.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Lh(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(vh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fh{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Eh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,Eh("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Eh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Eh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(_h("string"==typeof e.token),this.T=e.token,new jh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Uh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Vh{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Uh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Bh(e,t){return e<t?-1:e>t?1:0}function zh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function $h(e){return e+"\0"}class qh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qh.fromMillis(Date.now())}static fromDate(e){return qh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new qh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bh(this.nanoseconds,e.nanoseconds):Bh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kh(e)}static min(){return new Kh(new qh(0,0))}static max(){return new Kh(new qh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hh{constructor(e,t,n){void 0===t?t=0:t>e.length&&kh(),void 0===n?n=e.length-t:n>e.length-t&&kh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gh extends Hh{construct(e,t,n){return new Gh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Nh(Ch.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Gh(e)}static emptyPath(){return new Gh([])}}const Wh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qh extends Hh{construct(e,t,n){return new Qh(e,t,n)}static isValidIdentifier(e){return Wh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nh(Ch.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nh(Ch.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nh(Ch.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Nh(Ch.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qh(t)}static emptyPath(){return new Qh([])}}class Xh{constructor(e){this.path=e}static fromPath(e){return new Xh(Gh.fromString(e))}static fromName(e){return new Xh(Gh.fromString(e).popFirst(5))}static empty(){return new Xh(Gh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xh(new Gh(e.slice()))}}class Yh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Jh(e){return e.fields.find((e=>2===e.kind))}function Zh(e){return e.fields.filter((e=>2!==e.kind))}Yh.UNKNOWN_ID=-1;class ed{constructor(e,t){this.fieldPath=e,this.kind=t}}class td{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new td(0,id.min())}}function nd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kh.fromTimestamp(1e9===r?new qh(n+1,0):new qh(n,r));return new id(i,Xh.empty(),t)}function rd(e){return new id(e.readTime,e.key,-1)}class id{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new id(Kh.min(),Xh.empty(),-1)}static max(){return new id(Kh.max(),Xh.empty(),-1)}}function sd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Xh.comparator(e.documentKey,t.documentKey),0!==n?n:Bh(e.largestBatchId,t.largestBatchId))}const od="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ad{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ld(e){if(e.code!==Ch.FAILED_PRECONDITION||e.message!==od)throw e;Eh("LocalStore","Unexpectedly lost primary lease")}class ud{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&kh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ud(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ud?t:ud.resolve(t)}catch(e){return ud.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ud.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ud.reject(t)}static resolve(e){return new ud(((t,n)=>{t(e)}))}static reject(e){return new ud(((t,n)=>{n(e)}))}static waitFor(e){return new ud(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ud.resolve(!1);for(const n of e)t=t.next((e=>e?ud.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ud(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ud(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class cd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Oh,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new fd(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=yd(t.target.error);this.v.reject(new fd(e,n))}}static open(e,t,n,r){try{return new cd(t,e.transaction(r,n))}catch(e){throw new fd(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Eh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new md(t)}}class hd{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===hd.S(Gt())&&Ih("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Eh("SimpleDb","Removing database:",e),gd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Qt())return!1;if(hd.C())return!0;const e=Gt(),t=hd.S(e),n=0<t&&t<10,r=hd.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Eh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Nh(Ch.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Nh(Ch.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new fd(e,r))},r.onupgradeneeded=e=>{Eh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Eh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=cd.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),ud.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Eh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class dd{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return gd(this.L.delete())}}class fd extends Nh{constructor(e,t){super(Ch.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pd(e){return"IndexedDbTransactionError"===e.name}class md{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Eh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Eh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gd(n)}add(e){return Eh("SimpleDb","ADD",this.store.name,e,e),gd(this.store.add(e))}get(e){return gd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Eh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Eh("SimpleDb","DELETE",this.store.name,e),gd(this.store.delete(e))}count(){return Eh("SimpleDb","COUNT",this.store.name),gd(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new ud(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ud(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Eh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new ud(((n,r)=>{t.onerror=e=>{const t=yd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new ud(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new dd(i),o=t(i.primaryKey,i.value,s);if(o instanceof ud){const e=o.catch((e=>(s.done(),ud.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>ud.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function gd(e){return new ud(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=yd(e.target.error);n(t)}}))}let vd=!1;function yd(e){const t=hd.S(Gt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Nh("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vd||(vd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class bd{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Eh("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Eh("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){pd(e)?Eh("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ld(e)}await this.et(6e4)}))}}class wd{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return ud.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Eh("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(Eh("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=rd(t);sd(r,n)>0&&(n=r)})),new id(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Id(e){return null==e}function xd(e){return 0===e&&1/e==-1/0}function Td(e){return"number"==typeof e&&Number.isInteger(e)&&!xd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function kd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Sd(t)),t=_d(e.get(n),t);return Sd(t)}function _d(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Sd(e){return e+"\x01\x01"}function Cd(e){const t=e.length;if(_h(t>=2),2===t)return _h("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&kh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:kh()}s=t+2}return new Gh(r)}Ed.ct=-1;const Nd=["userId","batchId"];function Od(e,t){return[e,kd(t)]}function Dd(e,t,n){return[e,kd(t),n]}const Ad={},Rd=["prefixPath","collectionGroup","readTime","documentId"],Pd=["prefixPath","collectionGroup","documentId"],Ld=["collectionGroup","readTime","prefixPath","documentId"],Md=["canonicalId","targetId"],jd=["targetId","path"],Fd=["path","targetId"],Ud=["collectionId","parent"],Vd=["indexId","uid"],Bd=["uid","sequenceNumber"],zd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$d=["indexId","uid","orderedDocumentKey"],qd=["userId","collectionPath","documentId"],Kd=["userId","collectionPath","largestBatchId"],Hd=["userId","collectionGroup","largestBatchId"],Gd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wd=[...Gd,"documentOverlays"],Qd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xd=Qd,Yd=[...Xd,"indexConfiguration","indexState","indexEntries"];class Jd extends ad{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Zd(e,t){const n=Sh(e);return hd.M(n.ht,t)}function ef(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class rf{constructor(e,t){this.comparator=e,this.root=t||of.EMPTY}insert(e,t){return new rf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,of.BLACK,null,null))}remove(e){return new rf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,of.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class of{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:of.RED,this.left=null!=r?r:of.EMPTY,this.right=null!=i?i:of.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new of(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return of.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return of.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,of.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,of.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kh();if(this.right.isRed())throw kh();const e=this.left.check();if(e!==this.right.check())throw kh();return e+(this.isRed()?0:1)}}of.EMPTY=null,of.RED=!0,of.BLACK=!1,of.EMPTY=new class{constructor(){this.size=0}get key(){throw kh()}get value(){throw kh()}get color(){throw kh()}get left(){throw kh()}get right(){throw kh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new of(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class af{constructor(e){this.comparator=e,this.data=new rf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lf(this.data.getIterator())}getIteratorFrom(e){return new lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof af))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new af(this.comparator);return t.data=e,t}}class lf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uf(e){return e.hasNext()?e.getNext():void 0}class cf{constructor(e){this.fields=e,e.sort(Qh.comparator)}static empty(){return new cf([])}unionWith(e){let t=new af(Qh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class df{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hf("Invalid base64 string: "+e):e}}(e);return new df(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new df(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}df.EMPTY_BYTE_STRING=new df("");const ff=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pf(e){if(_h(!!e),"string"==typeof e){let t=0;const n=ff.exec(e);if(_h(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mf(e.seconds),nanos:mf(e.nanos)}}function mf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gf(e){return"string"==typeof e?df.fromBase64String(e):df.fromUint8Array(e)}function vf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yf(e){const t=e.mapValue.fields.__previous_value__;return vf(t)?yf(t):t}function bf(e){const t=pf(e.mapValue.fields.__local_write_time__.timestampValue);return new qh(t.seconds,t.nanos)}class wf{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ef{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ef("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ef&&e.projectId===this.projectId&&e.database===this.database}}const If={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xf={nullValue:"NULL_VALUE"};function Tf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vf(e)?4:Ff(e)?9007199254740991:10:kh()}function kf(e,t){if(e===t)return!0;const n=Tf(e);if(n!==Tf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bf(e).isEqual(bf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pf(e.timestampValue),r=pf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gf(e.bytesValue).isEqual(gf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mf(e.geoPointValue.latitude)===mf(t.geoPointValue.latitude)&&mf(e.geoPointValue.longitude)===mf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mf(e.integerValue)===mf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mf(e.doubleValue),r=mf(t.doubleValue);return n===r?xd(n)===xd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zh(e.arrayValue.values||[],t.arrayValue.values||[],kf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ef(n)!==ef(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kf(n[i],r[i])))return!1;return!0}(e,t);default:return kh()}}function _f(e,t){return void 0!==(e.values||[]).find((e=>kf(e,t)))}function Sf(e,t){if(e===t)return 0;const n=Tf(e),r=Tf(t);if(n!==r)return Bh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mf(e.integerValue||e.doubleValue),r=mf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cf(e.timestampValue,t.timestampValue);case 4:return Cf(bf(e),bf(t));case 5:return Bh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gf(e),r=gf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Bh(n[i],r[i]);if(0!==e)return e}return Bh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bh(mf(e.latitude),mf(t.latitude));return 0!==n?n:Bh(mf(e.longitude),mf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Sf(n[i],r[i]);if(e)return e}return Bh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===If.mapValue&&t===If.mapValue)return 0;if(e===If.mapValue)return 1;if(t===If.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Bh(r[o],s[o]);if(0!==e)return e;const t=Sf(n[r[o]],i[s[o]]);if(0!==t)return t}return Bh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw kh()}}function Cf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bh(e,t);const n=pf(e),r=pf(t),i=Bh(n.seconds,r.seconds);return 0!==i?i:Bh(n.nanos,r.nanos)}function Nf(e){return Of(e)}function Of(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pf(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xh.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Of(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Of(e.fields[i])}`;return n+"}"}(e.mapValue):kh();var t,n}function Df(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Af(e){return!!e&&"integerValue"in e}function Rf(e){return!!e&&"arrayValue"in e}function Pf(e){return!!e&&"nullValue"in e}function Lf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mf(e){return!!e&&"mapValue"in e}function jf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ff(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Uf(e){return"nullValue"in e?xf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Df(Ef.empty(),Xh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:kh()}function Vf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Df(Ef.empty(),Xh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?If:kh()}function Bf(e,t){const n=Sf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function zf(e,t){const n=Sf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class $f{constructor(e){this.value=e}static empty(){return new $f({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(t)}setAll(e){let t=Qh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tf(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $f(jf(this.value))}}function qf(e){const t=[];return tf(e.fields,((e,n)=>{const r=new Qh([e]);if(Mf(n)){const e=qf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new cf(t)}class Kf{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Kf(e,0,Kh.min(),Kh.min(),Kh.min(),$f.empty(),0)}static newFoundDocument(e,t,n,r){return new Kf(e,1,t,Kh.min(),n,r,0)}static newNoDocument(e,t){return new Kf(e,2,t,Kh.min(),Kh.min(),$f.empty(),0)}static newUnknownDocument(e,t){return new Kf(e,3,t,Kh.min(),Kh.min(),$f.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$f.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$f.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hf{constructor(e,t){this.position=e,this.inclusive=t}}function Gf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Xh.comparator(Xh.fromName(o.referenceValue),n.key):Sf(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Wf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kf(e.position[n],t.position[n]))return!1;return!0}class Qf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yf{}class Jf extends Yf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new lp(e,t,n):"array-contains"===t?new dp(e,n):"in"===t?new fp(e,n):"not-in"===t?new pp(e,n):"array-contains-any"===t?new mp(e,n):new Jf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new up(e,n):new cp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sf(t,this.value)):null!==t&&Tf(this.value)===Tf(t)&&this.matchesComparison(Sf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zf extends Yf{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Zf(e,t)}matches(e){return ep(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ep(e){return"and"===e.op}function tp(e){return"or"===e.op}function np(e){return rp(e)&&ep(e)}function rp(e){for(const t of e.filters)if(t instanceof Zf)return!1;return!0}function ip(e){if(e instanceof Jf)return e.field.canonicalString()+e.op.toString()+Nf(e.value);if(np(e))return e.filters.map((e=>ip(e))).join(",");{const t=e.filters.map((e=>ip(e))).join(",");return`${e.op}(${t})`}}function sp(e,t){return e instanceof Jf?function(e,t){return t instanceof Jf&&e.op===t.op&&e.field.isEqual(t.field)&&kf(e.value,t.value)}(e,t):e instanceof Zf?function(e,t){return t instanceof Zf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&sp(n,t.filters[r])),!0)}(e,t):void kh()}function op(e,t){const n=e.filters.concat(t);return Zf.create(n,e.op)}function ap(e){return e instanceof Jf?function(e){return`${e.field.canonicalString()} ${e.op} ${Nf(e.value)}`}(e):e instanceof Zf?function(e){return e.op.toString()+" {"+e.getFilters().map(ap).join(" ,")+"}"}(e):"Filter"}class lp extends Jf{constructor(e,t,n){super(e,t,n),this.key=Xh.fromName(n.referenceValue)}matches(e){const t=Xh.comparator(e.key,this.key);return this.matchesComparison(t)}}class up extends Jf{constructor(e,t){super(e,"in",t),this.keys=hp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cp extends Jf{constructor(e,t){super(e,"not-in",t),this.keys=hp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Xh.fromName(e.referenceValue)))}class dp extends Jf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rf(t)&&_f(t.arrayValue,this.value)}}class fp extends Jf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_f(this.value.arrayValue,t)}}class pp extends Jf{constructor(e,t){super(e,"not-in",t)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_f(this.value.arrayValue,t)}}class mp extends Jf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>_f(this.value.arrayValue,e)))}}class gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function vp(e){return new gp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yp(e){const t=Sh(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ip(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Id(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Nf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Nf(e))).join(",")),t.dt=e}return t.dt}function bp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wf(e.startAt,t.startAt)&&Wf(e.endAt,t.endAt)}function wp(e){return Xh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ep(e,t){return e.filters.filter((e=>e instanceof Jf&&e.field.isEqual(t)))}function Ip(e,t,n){let r=xf,i=!0;for(const s of Ep(e,t)){let e=xf,t=!0;switch(s.op){case"<":case"<=":e=Uf(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=xf}Bf({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Bf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function xp(e,t,n){let r=If,i=!0;for(const s of Ep(e,t)){let e=If,t=!0;switch(s.op){case">=":case">":e=Vf(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=If}zf({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];zf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Tp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function kp(e,t,n,r,i,s,o,a){return new Tp(e,t,n,r,i,s,o,a)}function _p(e){return new Tp(e)}function Sp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Np(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Op(e){return null!==e.collectionGroup}function Dp(e){const t=Sh(e);if(null===t.wt){t.wt=[];const e=Np(t),n=Cp(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Qf(e)),t.wt.push(new Qf(Qh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Qf(Qh.keyField(),e))}}}return t.wt}function Ap(e){const t=Sh(e);if(!t._t)if("F"===t.limitType)t._t=vp(t.path,t.collectionGroup,Dp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Dp(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Qf(i.field,t))}const n=t.endAt?new Hf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hf(t.startAt.position,t.startAt.inclusive):null;t._t=vp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Rp(e,t){t.getFirstInequalityField(),Np(e);const n=e.filters.concat([t]);return new Tp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Pp(e,t,n){return new Tp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lp(e,t){return bp(Ap(e),Ap(t))&&e.limitType===t.limitType}function Mp(e){return`${yp(Ap(e))}|lt:${e.limitType}`}function jp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ap(e))).join(", ")}]`),Id(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Nf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Nf(e))).join(",")),`Target(${t})`}(Ap(e))}; limitType=${e.limitType})`}function Fp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Dp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dp(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dp(e),t))}(e,t)}function Up(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vp(e){return(t,n)=>{let r=!1;for(const i of Dp(e)){const e=Bp(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Bp(e,t,n){const r=e.field.isKeyField()?Xh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sf(r,i):kh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return kh()}}class zp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tf(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return nf(this.inner)}size(){return this.innerSize}}const $p=new rf(Xh.comparator);function qp(){return $p}const Kp=new rf(Xh.comparator);function Hp(){let e=Kp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Gp(e){let t=Kp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Wp(){return Xp()}function Qp(){return Xp()}function Xp(){return new zp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yp=new rf(Xh.comparator),Jp=new af(Xh.comparator);function Zp(){let e=Jp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const em=new af(Bh);function tm(){return em}function nm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(t)?"-0":t}}function rm(e){return{integerValue:""+e}}function im(e,t){return Td(t)?rm(t):nm(e,t)}class sm{constructor(){this._=void 0}}function om(e,t,n){return e instanceof um?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vf(t)&&(t=yf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cm?hm(e,t):e instanceof dm?fm(e,t):function(e,t){const n=lm(e,t),r=mm(n)+mm(e.gt);return Af(n)&&Af(e.gt)?rm(r):nm(e.serializer,r)}(e,t)}function am(e,t,n){return e instanceof cm?hm(e,t):e instanceof dm?fm(e,t):n}function lm(e,t){return e instanceof pm?Af(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class um extends sm{}class cm extends sm{constructor(e){super(),this.elements=e}}function hm(e,t){const n=gm(t);for(const r of e.elements)n.some((e=>kf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class dm extends sm{constructor(e){super(),this.elements=e}}function fm(e,t){let n=gm(t);for(const r of e.elements)n=n.filter((e=>!kf(e,r)));return{arrayValue:{values:n}}}class pm extends sm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function mm(e){return mf(e.integerValue||e.doubleValue)}function gm(e){return Rf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vm{constructor(e,t){this.field=e,this.transform=t}}class ym{constructor(e,t){this.version=e,this.transformResults=t}}class bm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bm}static exists(e){return new bm(void 0,e)}static updateTime(e){return new bm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Em{}function Im(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Am(e.key,bm.none()):new Sm(e.key,e.data,bm.none());{const n=e.data,r=$f.empty();let i=new af(Qh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cm(e.key,r,new cf(i.toArray()),bm.none())}}function xm(e,t,n){e instanceof Sm?function(e,t,n){const r=e.value.clone(),i=Om(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cm?function(e,t,n){if(!wm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Om(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Tm(e,t,n,r){return e instanceof Sm?function(e,t,n,r){if(!wm(e.precondition,t))return n;const i=e.value.clone(),s=Dm(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cm?function(e,t,n,r){if(!wm(e.precondition,t))return n;const i=Dm(e.fieldTransforms,r,t),s=t.data;return s.setAll(Nm(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function km(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=lm(r.transform,e||null);null!=i&&(null===n&&(n=$f.empty()),n.set(r.field,i))}return n||null}function _m(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cm&&t instanceof cm||e instanceof dm&&t instanceof dm?zh(e.elements,t.elements,kf):e instanceof pm&&t instanceof pm?kf(e.gt,t.gt):e instanceof um&&t instanceof um}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sm extends Em{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cm extends Em{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Nm(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Om(e,t,n){const r=new Map;_h(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,am(o,a,n[i]))}return r}function Dm(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,om(e,s,t))}return r}class Am extends Em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rm extends Em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&xm(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Tm(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Tm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Qp();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Im(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Kh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zp())}isEqual(e){return this.batchId===e.batchId&&zh(this.mutations,e.mutations,((e,t)=>_m(e,t)))&&zh(this.baseMutations,e.baseMutations,((e,t)=>_m(e,t)))}}class Lm{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){_h(e.mutations.length===n.length);let r=Yp;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Lm(e,t,n,r)}}class Mm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jm{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fm,Um;function Vm(e){switch(e){default:return kh();case Ch.CANCELLED:case Ch.UNKNOWN:case Ch.DEADLINE_EXCEEDED:case Ch.RESOURCE_EXHAUSTED:case Ch.INTERNAL:case Ch.UNAVAILABLE:case Ch.UNAUTHENTICATED:return!1;case Ch.INVALID_ARGUMENT:case Ch.NOT_FOUND:case Ch.ALREADY_EXISTS:case Ch.PERMISSION_DENIED:case Ch.FAILED_PRECONDITION:case Ch.ABORTED:case Ch.OUT_OF_RANGE:case Ch.UNIMPLEMENTED:case Ch.DATA_LOSS:return!0}}function Bm(e){if(void 0===e)return Ih("GRPC error has no .code"),Ch.UNKNOWN;switch(e){case Fm.OK:return Ch.OK;case Fm.CANCELLED:return Ch.CANCELLED;case Fm.UNKNOWN:return Ch.UNKNOWN;case Fm.DEADLINE_EXCEEDED:return Ch.DEADLINE_EXCEEDED;case Fm.RESOURCE_EXHAUSTED:return Ch.RESOURCE_EXHAUSTED;case Fm.INTERNAL:return Ch.INTERNAL;case Fm.UNAVAILABLE:return Ch.UNAVAILABLE;case Fm.UNAUTHENTICATED:return Ch.UNAUTHENTICATED;case Fm.INVALID_ARGUMENT:return Ch.INVALID_ARGUMENT;case Fm.NOT_FOUND:return Ch.NOT_FOUND;case Fm.ALREADY_EXISTS:return Ch.ALREADY_EXISTS;case Fm.PERMISSION_DENIED:return Ch.PERMISSION_DENIED;case Fm.FAILED_PRECONDITION:return Ch.FAILED_PRECONDITION;case Fm.ABORTED:return Ch.ABORTED;case Fm.OUT_OF_RANGE:return Ch.OUT_OF_RANGE;case Fm.UNIMPLEMENTED:return Ch.UNIMPLEMENTED;case Fm.DATA_LOSS:return Ch.DATA_LOSS;default:return kh()}}(Um=Fm||(Fm={}))[Um.OK=0]="OK",Um[Um.CANCELLED=1]="CANCELLED",Um[Um.UNKNOWN=2]="UNKNOWN",Um[Um.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Um[Um.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Um[Um.NOT_FOUND=5]="NOT_FOUND",Um[Um.ALREADY_EXISTS=6]="ALREADY_EXISTS",Um[Um.PERMISSION_DENIED=7]="PERMISSION_DENIED",Um[Um.UNAUTHENTICATED=16]="UNAUTHENTICATED",Um[Um.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Um[Um.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Um[Um.ABORTED=10]="ABORTED",Um[Um.OUT_OF_RANGE=11]="OUT_OF_RANGE",Um[Um.UNIMPLEMENTED=12]="UNIMPLEMENTED",Um[Um.INTERNAL=13]="INTERNAL",Um[Um.UNAVAILABLE=14]="UNAVAILABLE",Um[Um.DATA_LOSS=15]="DATA_LOSS";class zm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $m}static getOrCreateInstance(){return null===$m&&($m=new zm),$m}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let $m=null;function qm(){return new TextEncoder}const Km=new mh([4294967295,4294967295],0);function Hm(e){const t=qm().encode(e),n=new ph;return n.update(t),new Uint8Array(n.digest())}function Gm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new mh([n,r],0),new mh([i,s],0)]}class Wm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Qm(`Invalid padding: ${t}`);if(n<0)throw new Qm(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Qm(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Qm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=mh.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(mh.fromNumber(n)));return 1===r.compare(Km)&&(r=new mh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Hm(e),[n,r]=Gm(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wm(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Hm(e),[n,r]=Gm(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Qm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ym.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Xm(Kh.min(),r,new rf(Bh),qp(),Zp())}}class Ym{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ym(n,t,Zp(),Zp(),Zp())}}class Jm{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Zm{constructor(e,t){this.targetId=e,this.Vt=t}}class eg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:df.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class tg{constructor(){this.St=0,this.Dt=ig(),this.Ct=df.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zp(),t=Zp(),n=Zp();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:kh()}})),new Ym(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=ig()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ng{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=qp(),this.zt=rg(),this.Wt=new rf(Bh)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:kh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(wp(s))if(0===r){const e=new Xh(s.path);this.Yt(n,e,Kf.newNoDocument(e,Kh.min()))}else _h(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=zm.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=gf(i).toUint8Array()}catch(e){if(e instanceof hf)return xh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Wm(a,s,o)}catch(e){return xh(e instanceof Qm?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&wp(i.target)){const t=new Xh(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Kf.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Zp();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Xm(e,t,this.Wt,this.jt,n);return this.jt=qp(),this.zt=rg(),this.Wt=new rf(Bh),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new tg,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new af(Bh),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Eh("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new tg),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function rg(){return new rf(Xh.comparator)}function ig(){return new rf(Xh.comparator)}const sg={asc:"ASCENDING",desc:"DESCENDING"},og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ag={and:"AND",or:"OR"};class lg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ug(e,t){return e.useProto3Json||Id(t)?t:{value:t}}function cg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dg(e,t){return cg(e,t.toTimestamp())}function fg(e){return _h(!!e),Kh.fromTimestamp(function(e){const t=pf(e);return new qh(t.seconds,t.nanos)}(e))}function pg(e,t){return function(e){return new Gh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mg(e){const t=Gh.fromString(e);return _h(jg(t)),t}function gg(e,t){return pg(e.databaseId,t.path)}function vg(e,t){const n=mg(t);if(n.get(1)!==e.databaseId.projectId)throw new Nh(Ch.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nh(Ch.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xh(Eg(n))}function yg(e,t){return pg(e.databaseId,t)}function bg(e){const t=mg(e);return 4===t.length?Gh.emptyPath():Eg(t)}function wg(e){return new Gh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Eg(e){return _h(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ig(e,t,n){return{name:gg(e,t),fields:n.value.mapValue.fields}}function xg(e,t,n){const r=vg(e,t.name),i=fg(t.updateTime),s=t.createTime?fg(t.createTime):Kh.min(),o=new $f({mapValue:{fields:t.fields}}),a=Kf.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Tg(e,t){let n;if(t instanceof Sm)n={update:Ig(e,t.key,t.value)};else if(t instanceof Am)n={delete:gg(e,t.key)};else if(t instanceof Cm)n={update:Ig(e,t.key,t.data),updateMask:Mg(t.fieldMask)};else{if(!(t instanceof Rm))return kh();n={verify:gg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof um)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pm)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw kh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:kh()}(e,t.precondition)),n}function kg(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?bm.updateTime(fg(e.updateTime)):void 0!==e.exists?bm.exists(e.exists):bm.none()}(t.currentDocument):bm.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)_h("REQUEST_TIME"===t.setToServerValue),n=new um;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new cm(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new dm(e)}else"increment"in t?n=new pm(e,t.increment):kh();const r=Qh.fromServerFormat(t.fieldPath);return new vm(r,n)}(e,t))):[];if(t.update){t.update.name;const i=vg(e,t.update.name),s=new $f({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new cf(t.map((e=>Qh.fromServerFormat(e))))}(t.updateMask);return new Cm(i,s,e,n,r)}return new Sm(i,s,n,r)}if(t.delete){const r=vg(e,t.delete);return new Am(r,n)}if(t.verify){const r=vg(e,t.verify);return new Rm(r,n)}return kh()}function _g(e,t){return{documents:[yg(e,t.path)]}}function Sg(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Lg(Zf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Rg(e.field),direction:Og(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ug(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Cg(e){let t=bg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_h(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ng(e);return t instanceof Zf&&np(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Qf(Pg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Id(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hf(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Hf(n,t)}(n.endAt)),kp(t,i,o,s,a,"F",l,u)}function Ng(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pg(e.unaryFilter.field);return Jf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pg(e.unaryFilter.field);return Jf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pg(e.unaryFilter.field);return Jf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pg(e.unaryFilter.field);return Jf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return kh()}}(e):void 0!==e.fieldFilter?function(e){return Jf.create(Pg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zf.create(e.compositeFilter.filters.map((e=>Ng(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return kh()}}(e.compositeFilter.op))}(e):kh()}function Og(e){return sg[e]}function Dg(e){return og[e]}function Ag(e){return ag[e]}function Rg(e){return{fieldPath:e.canonicalString()}}function Pg(e){return Qh.fromServerFormat(e.fieldPath)}function Lg(e){return e instanceof Jf?function(e){if("=="===e.op){if(Lf(e.value))return{unaryFilter:{field:Rg(e.field),op:"IS_NAN"}};if(Pf(e.value))return{unaryFilter:{field:Rg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lf(e.value))return{unaryFilter:{field:Rg(e.field),op:"IS_NOT_NAN"}};if(Pf(e.value))return{unaryFilter:{field:Rg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rg(e.field),op:Dg(e.op),value:e.value}}}(e):e instanceof Zf?function(e){const t=e.getFilters().map((e=>Lg(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ag(e.op),filters:t}}}(e):kh()}function Mg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kh.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:df.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Fg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ug{constructor(e){this.fe=e}}function Vg(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Bg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:gg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cg(e,t.version.toTimestamp()),createTime:cg(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zg(t.version)};else{if(!t.isUnknownDocument())return kh();r.unknownDocument={path:n.path.toArray(),version:zg(t.version)}}return r}function Bg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zg(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $g(e){const t=new qh(e.seconds,e.nanoseconds);return Kh.fromTimestamp(t)}function qg(e,t){const n=(t.baseMutations||[]).map((t=>kg(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>kg(e.fe,t))),i=qh.fromMillis(t.localWriteTimeMs);return new Pm(t.batchId,i,n,r)}function Kg(e){const t=$g(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?$g(e.lastLimboFreeSnapshotVersion):Kh.min();let r;var i;return void 0!==e.query.documents?(_h(1===(i=e.query).documents.length),r=Ap(_p(bg(i.documents[0])))):r=function(e){return Ap(Cg(e))}(e.query),new Fg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,df.fromBase64String(e.resumeToken))}function Hg(e,t){const n=zg(t.snapshotVersion),r=zg(t.lastLimboFreeSnapshotVersion);let i;i=wp(t.target)?_g(e.fe,t.target):Sg(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yp(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Gg(e){const t=Cg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pp(t,t.limit,"L"):t}function Wg(e,t){return new Mm(t.largestBatchId,kg(e.fe,t.overlayMutation))}function Qg(e,t){const n=t.path.lastSegment();return[e,kd(t.path.popLast()),n]}function Xg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:zg(r.readTime),documentKey:kd(r.documentKey.path),largestBatchId:r.largestBatchId}}class Yg{getBundleMetadata(e,t){return Jg(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:$g(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Jg(e).put({bundleId:(n=t).id,createTime:zg(fg(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Zg(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Gg(t.bundledQuery),readTime:$g(t.readTime)};var t}))}saveNamedQuery(e,t){return Zg(e).put(function(e){return{name:e.name,readTime:zg(fg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Jg(e){return Zd(e,"bundles")}function Zg(e){return Zd(e,"namedQueries")}class ev{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new ev(e,n)}getOverlay(e,t){return tv(e).get(Qg(this.userId,t)).next((e=>e?Wg(this.serializer,e):null))}getOverlays(e,t){const n=Wp();return ud.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Mm(t,i);r.push(this.we(e,s))})),ud.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(kd(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(tv(e).J("collectionPathOverlayIndex",r))})),ud.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Wp(),i=kd(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return tv(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Wg(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Wp();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tv(e).X({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Wg(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}we(e,t){return tv(e).put(function(e,t,n){const[r,i,s]=Qg(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Tg(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function tv(e){return Zd(e,"documentOverlays")}class nv{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(mf(e.integerValue));else if("doubleValue"in e){const n=mf(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),xd(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(gf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ff(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):kh()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Xh.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function rv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function iv(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=rv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}nv.Ve=new nv;class sv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=iv(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=iv(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class ov{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class av{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class lv{constructor(){this.je=new sv,this.ze=new ov(this.je),this.We=new av(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class uv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new uv(this.indexId,this.documentKey,this.arrayValue,n)}}function cv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=hv(e.arrayValue,t.arrayValue),0!==n?n:(n=hv(e.directionalValue,t.directionalValue),0!==n?n:Xh.comparator(e.documentKey,t.documentKey)))}function hv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class dv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){_h(e.collectionGroup===this.collectionId);const t=Jh(e);if(void 0!==t&&!this.en(t))return!1;const n=Zh(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[s++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function fv(e){var t,n;if(_h(e instanceof Jf||e instanceof Zf),e instanceof Jf){if(e instanceof fp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Jf.create(e.field,"==",t))))||[];return Zf.create(r,"or")}return e}const r=e.filters.map((e=>fv(e)));return Zf.create(r,e.op)}function pv(e){if(0===e.getFilters().length)return[];const t=yv(fv(e));return _h(vv(t)),mv(t)||gv(t)?[t]:t.getFilters()}function mv(e){return e instanceof Jf}function gv(e){return e instanceof Zf&&np(e)}function vv(e){return mv(e)||gv(e)||function(e){if(e instanceof Zf&&tp(e)){for(const t of e.getFilters())if(!mv(t)&&!gv(t))return!1;return!0}return!1}(e)}function yv(e){if(_h(e instanceof Jf||e instanceof Zf),e instanceof Jf)return e;if(1===e.filters.length)return yv(e.filters[0]);const t=e.filters.map((e=>yv(e)));let n=Zf.create(t,e.op);return n=Ev(n),vv(n)?n:(_h(n instanceof Zf),_h(ep(n)),_h(n.filters.length>1),n.filters.reduce(((e,t)=>bv(e,t))))}function bv(e,t){let n;return _h(e instanceof Jf||e instanceof Zf),_h(t instanceof Jf||t instanceof Zf),n=e instanceof Jf?t instanceof Jf?function(e,t){return Zf.create([e,t],"and")}(e,t):wv(e,t):t instanceof Jf?wv(t,e):function(e,t){if(_h(e.filters.length>0&&t.filters.length>0),ep(e)&&ep(t))return op(e,t.getFilters());const n=tp(e)?e:t,r=tp(e)?t:e,i=n.filters.map((e=>bv(e,r)));return Zf.create(i,"or")}(e,t),Ev(n)}function wv(e,t){if(ep(t))return op(t,e.getFilters());{const n=t.filters.map((t=>bv(e,t)));return Zf.create(n,"or")}}function Ev(e){if(_h(e instanceof Jf||e instanceof Zf),e instanceof Jf)return e;const t=e.getFilters();if(1===t.length)return Ev(t[0]);if(rp(e))return e;const n=t.map((e=>Ev(e))),r=[];return n.forEach((t=>{t instanceof Jf?r.push(t):t instanceof Zf&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Zf.create(r,e.op)}class Iv{constructor(){this.rn=new xv}addToCollectionParentIndex(e,t){return this.rn.add(t),ud.resolve()}getCollectionParents(e,t){return ud.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ud.resolve()}deleteFieldIndex(e,t){return ud.resolve()}getDocumentsMatchingTarget(e,t){return ud.resolve(null)}getIndexType(e,t){return ud.resolve(0)}getFieldIndexes(e,t){return ud.resolve([])}getNextCollectionGroupToUpdate(e){return ud.resolve(null)}getMinOffset(e,t){return ud.resolve(id.min())}getMinOffsetFromCollectionGroup(e,t){return ud.resolve(id.min())}updateCollectionGroup(e,t,n){return ud.resolve()}updateIndexEntries(e,t){return ud.resolve()}}class xv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new af(Gh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new af(Gh.comparator)).toArray()}}const Tv=new Uint8Array(0);class kv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new xv,this.un=new zp((e=>yp(e)),((e,t)=>bp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:kd(r)};return _v(e).put(i)}return ud.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[$h(t),""],!1,!0);return _v(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Cd(r.parent))}return n}))}addFieldIndex(e,t){const n=Cv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Nv(e);return i.next((e=>{n.put(Xg(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Cv(e),r=Nv(e),i=Sv(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Sv(e);let r=!0;const i=new Map;return ud.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Zp();const r=[];return ud.forEach(i,((i,s)=>{var o;Eh("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${yp(t)}`);const a=function(e,t){const n=Jh(t);if(void 0===n)return null;for(const r of Ep(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of Zh(t))for(const t of Ep(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of Zh(t)){const t=0===i.kind?Ip(e,i.fieldPath,e.startAt):xp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Hf(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Zh(t)){const t=0===i.kind?xp(e,i.fieldPath,e.endAt):Ip(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Hf(n,r)}(s,i),h=this.hn(i,s,u),d=this.hn(i,s,c),f=this.ln(i,s,l),p=this.fn(i.indexId,a,h,u.inclusive,d,c.inclusive,f);return ud.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=Xh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ud.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:pv(Zf.create(e.filters,"and")).map((t=>vp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.dn(t[c/l]):Tv,h=this.wn(e,a,n[c%l],r),d=this._n(e,a,i[c%l],s),f=o.map((t=>this.wn(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}wn(e,t,n,r){const i=new uv(e,Xh.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new uv(e,Xh.empty(),t,n);return r?i.Je():i}an(e,t){const n=new dv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return ud.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new af(Qh.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new lv;for(const r of Zh(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);nv.Ve._e(e,i)}return n.Qe()}dn(e){const t=new lv;return nv.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new lv;return nv.Ve._e(Df(this.databaseId,t),n.He(function(e){const t=Zh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new lv);let i=0;for(const s of Zh(e)){const e=n[i++];for(const n of r)if(this.yn(t,s.fieldPath)&&Rf(e))r=this.pn(r,s,e);else{const t=n.He(s.kind);nv.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new lv;n.seed(e.Qe()),nv.Ve._e(s,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof Jf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Cv(e),r=Nv(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return ud.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new td(t.sequenceNumber,new id($g(t.readTime),new Xh(Cd(t.documentKey)),t.largestBatchId)):td.empty(),r=e.fields.map((e=>{let[t,n]=e;return new ed(Qh.fromServerFormat(t),n)}));return new Yh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Cv(e),i=Nv(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ud.forEach(t,(t=>i.put(Xg(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ud.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ud.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ud.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?ud.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return Sv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return Sv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=Sv(e);let i=new af(cv);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new uv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new af(cv);const r=this.mn(t,e);if(null==r)return n;const i=Jh(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Rf(s))for(const i of s.arrayValue.values||[])n=n.add(new uv(t.indexId,e.key,this.dn(i),r))}else n=n.add(new uv(t.indexId,e.key,Tv,r));return n}vn(e,t,n,r,i){Eh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=uf(s),l=uf(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=uf(o)):t?(i(a),a=uf(s)):(a=uf(s),l=uf(o))}}(r,i,cv,(r=>{s.push(this.Rn(e,t,n,r))}),(r=>{s.push(this.Pn(e,t,n,r))})),ud.waitFor(s)}Tn(e){let t=1;return Nv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>cv(e,t))).filter(((e,t,n)=>!t||0!==cv(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=cv(s,e),i=cv(s,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(s),r.push(s.Je());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Tv,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Tv,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return cv(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ov)}getMinOffset(e,t){return ud.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||kh())))).next(Ov)}}function _v(e){return Zd(e,"collectionParents")}function Sv(e){return Zd(e,"indexEntries")}function Cv(e){return Zd(e,"indexConfiguration")}function Nv(e){return Zd(e,"indexState")}function Ov(e){_h(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;sd(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new id(t.readTime,t.documentKey,n)}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Av{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Av(e,Av.DEFAULT_COLLECTION_PERCENTILE,Av.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{_h(1===a)})));const u=[];for(const c of n.mutations){const e=Dd(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return ud.waitFor(s).next((()=>u))}function Pv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw kh();t=e.noDocument}return JSON.stringify(t).length}Av.DEFAULT_COLLECTION_PERCENTILE=10,Av.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Av.DEFAULT=new Av(41943040,Av.DEFAULT_COLLECTION_PERCENTILE,Av.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Av.DISABLED=new Av(-1,0,0);class Lv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){_h(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Lv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jv(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Fv(e),s=jv(e);return s.add({}).next((o=>{_h("number"==typeof o);const a=new Pm(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Tg(e.fe,t))),i=n.mutations.map((t=>Tg(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new af(((e,t)=>Bh(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Dd(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Ad))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[o]=a.keys()})),ud.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return jv(e).get(t).next((e=>e?(_h(e.userId===this.userId),qg(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?ud.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return jv(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(_h(t.batchId>=n),i=qg(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return jv(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jv(e).j("userMutationsIndex",t).next((e=>e.map((e=>qg(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Od(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Fv(e).X({range:r},((n,r,s)=>{const[o,a,l]=n,u=Cd(a);if(o===this.userId&&t.path.isEqual(u))return jv(e).get(l).next((e=>{if(!e)throw kh();_h(e.userId===this.userId),i.push(qg(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new af(Bh);const r=[];return t.forEach((t=>{const i=Od(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Fv(e).X({range:s},((e,r,i)=>{const[s,o,a]=e,l=Cd(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),ud.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Od(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new af(Bh);return Fv(e).X({range:s},((e,t,i)=>{const[s,a,l]=e,u=Cd(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Dn(e,o)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(jv(e).get(t).next((e=>{if(null===e)throw kh();_h(e.userId===this.userId),n.push(qg(this.serializer,e))})))})),ud.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Rv(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),ud.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ud.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Fv(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Cd(e[1]);r.push(t)}else n.done()})).next((()=>{_h(0===r.length)}))}))}containsKey(e,t){return Mv(e,this.userId,t)}xn(e){return Uv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Mv(e,t,n){const r=Od(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Fv(e).X({range:s,Y:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function jv(e){return Zd(e,"mutations")}function Fv(e){return Zd(e,"documentMutations")}function Uv(e){return Zd(e,"mutationQueues")}class Vv{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vv(0)}static Mn(){return new Vv(-1)}}class Bv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new Vv(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>Kh.fromTimestamp(new qh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zv(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(_h(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return zv(e).X(((s,o)=>{const a=Kg(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ud.waitFor(i))).next((()=>r))}forEachTarget(e,t){return zv(e).X(((e,n)=>{const r=Kg(n);t(r)}))}$n(e){return $v(e).get("targetGlobalKey").next((e=>(_h(null!==e),e)))}On(e,t){return $v(e).put("targetGlobalKey",t)}Fn(e,t){return zv(e).put(Hg(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=yp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zv(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Kg(n);bp(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=qv(e);return t.forEach((t=>{const s=kd(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),ud.waitFor(r)}removeMatchingKeys(e,t,n){const r=qv(e);return ud.forEach(t,(t=>{const i=kd(t.path);return ud.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qv(e);let i=Zp();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Cd(e[1]),s=new Xh(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=kd(t.path),r=IDBKeyRange.bound([n],[$h(n)],!1,!0);let i=0;return qv(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return zv(e).get(t).next((e=>e?Kg(e):null))}}function zv(e){return Zd(e,"targets")}function $v(e){return Zd(e,"targetGlobal")}function qv(e){return Zd(e,"targetDocuments")}function Kv(e,t){let[n,r]=e,[i,s]=t;const o=Bh(n,i);return 0===o?Bh(r,s):o}class Hv{constructor(e){this.Ln=e,this.buffer=new af(Kv),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Kv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gv{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Eh("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pd(e)?Eh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ld(e)}await this.Qn(3e5)}))}}class Wv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ud.resolve(Ed.ct);const n=new Hv(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Eh("LruGarbageCollector","Garbage collection skipped; disabled"),ud.resolve(Dv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Eh("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Eh("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),wh()<=mn.DEBUG&&Eh("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),ud.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Qv(e,t){return new Wv(e,t)}class Xv{constructor(e,t){this.db=e,this.garbageCollector=Qv(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return Yv(e,n)}removeReference(e,t,n){return Yv(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Yv(e,t)}Xn(e,t){return function(e,t){let n=!1;return Uv(e).Z((r=>Mv(e,r,t).next((e=>(e&&(n=!0),ud.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Kh.min()),qv(e).delete([0,kd(s.path)]))))}));r.push(t)}})).next((()=>ud.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Yv(e,t)}Yn(e,t){const n=qv(e);let r,i=Ed.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Ed.ct&&t(new Xh(Cd(r)),i),i=l,r=a):i=Ed.ct})).next((()=>{i!==Ed.ct&&t(new Xh(Cd(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yv(e,t){return qv(e).put(function(e,t){return{targetId:0,path:kd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Jv{constructor(){this.changes=new zp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ud.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ry(e).put(n)}removeEntry(e,t,n){return ry(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Bg(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=Kf.newInvalidDocument(t);return ry(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(iy(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:Kf.newInvalidDocument(t)};return ry(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(iy(t))},((e,r)=>{n={document:this.ts(t,r),size:Pv(r)}})).next((()=>n))}getEntries(e,t){let n=qp();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=qp(),r=new rf(Xh.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,Pv(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return ud.resolve();let r=new af(oy);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(iy(r.first()),iy(r.last())),s=r.getIterator();let o=s.getNext();return ry(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Xh.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&oy(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.G(iy(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),Bg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ry(e).j(IDBKeyRange.bound(s,o,!0)).next((e=>{let n=qp();for(const i of e){const e=this.ts(Xh.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Fp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=qp();const s=sy(t,n),o=sy(t,id.max());return ry(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.ts(Xh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ty(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ny(e).get("remoteDocumentGlobalKey").next((e=>(_h(!!e),e)))}Zn(e,t){return ny(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=xg(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Xh.fromSegments(t.noDocument.path),r=$g(t.noDocument.readTime);n=Kf.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return kh();{const e=Xh.fromSegments(t.unknownDocument.path),r=$g(t.unknownDocument.version);n=Kf.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new qh(e[0],e[1]);return Kh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Kh.min()))return e}return Kf.newInvalidDocument(e)}}function ey(e){return new Zv(e)}class ty extends Jv{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new zp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new af(((e,t)=>Bh(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.us.get(i);if(t.push(this.os.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Vg(this.os.serializer,s);r=r.add(i.path.popLast());const l=Pv(a);n+=l-o.size,t.push(this.os.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Vg(this.os.serializer,s.convertToNoDocument(Kh.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),ud.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ny(e){return Zd(e,"remoteDocumentGlobal")}function ry(e){return Zd(e,"remoteDocumentsV14")}function iy(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sy(e,t){const n=t.documentKey.path.toArray();return[e,Bg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oy(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Bh(n[s],r[s]),i)return i;return i=Bh(n.length,r.length),i||(i=Bh(n[n.length-2],r[r.length-2]),i||Bh(n[n.length-1],r[r.length-1]))}class ay{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ly{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Tm(n.mutation,e,cf.empty(),qh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Zp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zp();const r=Wp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Wp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Zp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=qp();const s=Xp(),o=Xp();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Cm)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Tm(o.mutation,t,o.mutation.getFieldMask(),qh.now())):s.set(t.key,cf.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ay(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Xp();let r=new rf(((e,t)=>e-t)),i=Zp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||cf.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Zp()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Qp();l.forEach((e=>{if(!i.has(e)){const r=Im(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ud.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Xh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Op(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ud.resolve(Wp());let o=-1,a=i;return s.next((t=>ud.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ud.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Zp()))).next((e=>({batchId:o,changes:Gp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xh(t)).next((e=>{let t=Hp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Hp();return this.indexManager.getCollectionParents(e,r).next((s=>ud.forEach(s,(s=>{const o=function(e,t){return new Tp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kf.newInvalidDocument(r)))}));let n=Hp();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Tm(s.mutation,i,cf.empty(),qh.now()),Fp(t,i)&&(n=n.insert(e,i))})),n}))}}class uy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ud.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:fg(n.createTime)}),ud.resolve()}getNamedQuery(e,t){return ud.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Gg(e.bundledQuery),readTime:fg(e.readTime)}}(t)),ud.resolve()}}class cy{constructor(){this.overlays=new rf(Xh.comparator),this.ls=new Map}getOverlay(e,t){return ud.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wp();return ud.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),ud.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),ud.resolve()}getOverlaysForCollection(e,t,n){const r=Wp(),i=t.length+1,s=new Xh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ud.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rf(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Wp(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ud.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Mm(t,n));let i=this.ls.get(t);void 0===i&&(i=Zp(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class hy{constructor(){this.fs=new af(dy.ds),this.ws=new af(dy._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new dy(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new dy(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Xh(new Gh([])),n=new dy(t,e),r=new dy(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Xh(new Gh([])),n=new dy(t,e),r=new dy(t,e+1);let i=Zp();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new dy(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dy{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Xh.comparator(e.key,t.key)||Bh(e.As,t.As)}static _s(e,t){return Bh(e.As,t.As)||Xh.comparator(e.key,t.key)}}class fy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new af(dy.ds)}checkEmpty(e){return ud.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Pm(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new dy(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ud.resolve(s)}lookupMutationBatch(e,t){return ud.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return ud.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ud.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ud.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dy(t,0),r=new dy(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),ud.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new af(Bh);return t.forEach((e=>{const t=new dy(e,0),r=new dy(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),ud.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Xh.isDocumentKey(i)||(i=i.child(""));const s=new dy(new Xh(i),0);let o=new af(Bh);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),ud.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){_h(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return ud.forEach(t.mutations,(r=>{const i=new dy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new dy(t,0),r=this.Rs.firstAfterOrEqual(n);return ud.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ud.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class py{constructor(e){this.Ds=e,this.docs=new rf(Xh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ud.resolve(n?n.document.mutableCopy():Kf.newInvalidDocument(t))}getEntries(e,t){let n=qp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Kf.newInvalidDocument(e))})),ud.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=qp();const s=t.path,o=new Xh(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||sd(rd(o),n)<=0||(r.has(o.key)||Fp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ud.resolve(i)}getAllFromCollectionGroup(e,t,n,r){kh()}Cs(e,t){return ud.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new my(this)}getSize(e){return ud.resolve(this.size)}}class my extends Jv{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),ud.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gy{constructor(e){this.persistence=e,this.xs=new zp((e=>yp(e)),bp),this.lastRemoteSnapshotVersion=Kh.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hy,this.targetCount=0,this.Ms=Vv.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),ud.resolve()}getLastRemoteSnapshotVersion(e){return ud.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ud.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ud.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),ud.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Vv(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ud.resolve()}updateTargetData(e,t){return this.Fn(t),ud.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ud.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ud.waitFor(i).next((()=>r))}getTargetCount(e){return ud.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return ud.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),ud.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ud.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ud.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return ud.resolve(n)}containsKey(e,t){return ud.resolve(this.ks.containsKey(t))}}class vy{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ed(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gy(this),this.indexManager=new Iv,this.remoteDocumentCache=function(e){return new py(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Ug(t),this.qs=new uy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new fy(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Eh("MemoryPersistence","Starting transaction:",e);const r=new yy(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return ud.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class yy extends ad{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Qs=new hy,this.js=null}static zs(e){return new by(e)}get Ws(){if(this.js)return this.js;throw kh()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),ud.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),ud.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ud.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ud.forEach(this.Ws,(n=>{const r=Xh.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Kh.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return ud.or([()=>ud.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class wy{constructor(e){this.serializer=e}O(e,t,n,r){const i=new cd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ey(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ud.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ey(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nd,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ud.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ys(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(s=s.next((()=>this.Zs(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ei(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:qd});t.createIndex("collectionPathOverlayIndex",Kd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Hd,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rd});t.createIndex("documentKeyIndex",Pd),t.createIndex("collectionGroupIndex",Ld)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Vd}).createIndex("sequenceNumberIndex",Bd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:zd}).createIndex("documentKeyIndex",$d,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Pv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>ud.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>ud.forEach(n,(n=>{_h(n.userId===t.userId);const r=qg(this.serializer,n);return Rv(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const s=new Gh(n),o=function(e){return[0,kd(e)]}(s);r.push(t.get(o).next((n=>n?ud.resolve():(n=>t.put({targetId:0,path:kd(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>ud.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ud});const n=t.store("collectionParents"),r=new xv,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:kd(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Gh(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,s]=e;const o=Cd(r);return i(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=Kg(n),i=Hg(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new Xh(Gh.fromString(o.document.name).popFirst(5)):o.noDocument?Xh.fromSegments(o.noDocument.path):o.unknownDocument?Xh.fromSegments(o.unknownDocument.path):kh()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>ud.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=ey(this.serializer),i=new vy(by.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Zp();qg(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ud.forEach(n,((e,n)=>{const s=new vh(n),o=ev.de(this.serializer,s),a=i.getIndexManager(s),l=Lv.de(s,this.serializer,a,i.referenceDelegate);return new ly(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Jd(t,Ed.ct),e).next()}))}))}}function Ey(e){e.createObjectStore("targetDocuments",{keyPath:jd}).createIndex("documentTargetsIndex",Fd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Md,{unique:!0}),e.createObjectStore("targetGlobal")}const Iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xy{constructor(e,t,n,r,i,s,o,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=s,this.document=o,this.ri=l,this.oi=u,this.ui=c,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!xy.D())throw new Nh(Ch.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xv(this,r),this.di=t+"main",this.serializer=new Ug(a),this.wi=new hd(this.di,this.ui,new wy(this.serializer)),this.Bs=new Bv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ey(this.serializer),this.qs=new Yg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Ih("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nh(Ch.FAILED_PRECONDITION,Iy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Ed(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ky(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(pd(e))return Eh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Eh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Ty(e).get("owner").next((e=>ud.resolve(this.Ri(e))))}Pi(e){return ky(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Zd(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ud.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ud.resolve(!0):Ty(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Nh(Ch.FAILED_PRECONDITION,Iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||ky(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Eh("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Jd(e,Ed.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>ky(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return Lv.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ev.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Eh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.ui)?Yd:14===s?Xd:13===s?Qd:12===s?Wd:11===s?Gd:void kh();var s;let o;return this.wi.runTransaction(e,r,i,(r=>(o=new Jd(r,this.Os?this.Os.next():Ed.ct),"readwrite-primary"===t?this.Ti(o).next((e=>!!e||this.Ei(o))).next((t=>{if(!t)throw Ih(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Nh(Ch.FAILED_PRECONDITION,od);return n(o)})).next((e=>this.vi(o).next((()=>e)))):this.Oi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Oi(e){return Ty(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Nh(Ch.FAILED_PRECONDITION,Iy)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ty(e).put("owner",t)}static D(){return hd.D()}Ai(e){const t=Ty(e);return t.get("owner").next((e=>this.Ri(e)?(Eh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ud.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ih(`Detected an update time that is in the future: ${e} > ${n}`),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Wt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Eh("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Ih("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ih("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ty(e){return Zd(e,"owner")}function ky(e){return Zd(e,"clientMetadata")}function _y(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Sy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Zp(),r=Zp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Sy(e,t.fromCache,n,r)}}class Cy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Sp(t))return ud.resolve(null);let n=Ap(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Pp(t,null,"F"),n=Ap(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Zp(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Pp(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return Sp(t)||r.isEqual(Kh.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(wh()<=mn.DEBUG&&Eh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jp(t)),this.Wi(e,s,t,nd(r,-1)))}))}ji(e,t){let n=new af(Vp(e));return t.forEach(((t,r)=>{Fp(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return wh()<=mn.DEBUG&&Eh("QueryEngine","Using full collection scan to execute query:",jp(t)),this.Ui.getDocumentsMatchingQuery(e,t,id.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ny{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new rf(Bh),this.Yi=new zp((e=>yp(e)),bp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ly(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Oy(e,t,n,r){return new Ny(e,t,n,r)}async function Dy(e,t){const n=Sh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Zp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ay(e){const t=Sh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Ry(e,t,n){let r=Zp(),i=Zp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=qp();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Kh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Eh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function Py(e,t){const n=Sh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ly(e,t){const n=Sh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,ud.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Fg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function My(e,t,n){const r=Sh(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!pd(e))throw e;Eh("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function jy(e,t,n){const r=Sh(e);let i=Kh.min(),s=Zp();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Sh(e),i=r.Yi.get(n);return void 0!==i?ud.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ap(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Kh.min(),n?s:Zp()))).next((e=>(Fy(r,Up(t),e),{documents:e,ir:s})))))}function Fy(e,t,n){let r=e.Xi.get(t)||Kh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Uy{constructor(){this.activeTargetIds=tm()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vy{constructor(){this.Hr=new Uy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Uy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class By{Yr(e){}shutdown(){}}class zy{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Eh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Eh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $y=null;function qy(){return null===$y?$y=268435456+Math.round(2147483648*Math.random()):$y++,"0x"+$y.toString(16)}const Ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hy{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gy="WebChannelConnection";class Wy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=qy(),o=this.To(e,t);Eh("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(Eh("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw xh("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Ky[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=qy();return new Promise(((s,o)=>{const a=new fh;a.setWithCredentials(!0),a.listenOnce(lh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ah.NO_ERROR:const t=a.getResponseJson();Eh(Gy,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case ah.TIMEOUT:Eh(Gy,`RPC '${e}' ${i} timed out`),o(new Nh(Ch.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const n=a.getStatus();if(Eh(Gy,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ch).indexOf(t)>=0?t:Ch.UNKNOWN}(t.status);o(new Nh(e,t.message))}else o(new Nh(Ch.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nh(Ch.UNAVAILABLE,"Connection failed."));break;default:kh()}}finally{Eh(Gy,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Eh(Gy,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=qy(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sh(),o=oh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new hh({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Eh(Gy,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new Hy({ro:t=>{d?Eh(Gy,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Eh(Gy,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),Eh(Gy,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,dh.EventType.OPEN,(()=>{d||Eh(Gy,`RPC '${e}' stream ${r} transport opened.`)})),p(c,dh.EventType.CLOSE,(()=>{d||(d=!0,Eh(Gy,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(c,dh.EventType.ERROR,(t=>{d||(d=!0,xh(Gy,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Nh(Ch.UNAVAILABLE,"The operation could not be completed")))})),p(c,dh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];_h(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Eh(Gy,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Fm[e];if(void 0!==t)return Bm(t)}(t),i=o.message;void 0===n&&(n=Ch.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new Nh(n,i)),c.close()}else Eh(Gy,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(o,uh.STAT_EVENT,(t=>{t.stat===ch.PROXY?Eh(Gy,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ch.NOPROXY&&Eh(Gy,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function Qy(){return"undefined"!=typeof window?window:null}function Xy(){return"undefined"!=typeof document?document:null}function Yy(e){return new lg(e,!0)}class Jy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Eh("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Zy{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Jy(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Ch.RESOURCE_EXHAUSTED?(Ih(t.toString()),Ih("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Ch.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Nh(Ch.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Eh("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Eh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eb extends Zy{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:kh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(_h(void 0===t||"string"==typeof t),df.fromBase64String(t||"")):(_h(void 0===t||t instanceof Uint8Array),df.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ch.UNKNOWN:Bm(e.code);return new Nh(t,e.message||"")}(o);n=new eg(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vg(e,r.document.name),s=fg(r.document.updateTime),o=r.document.createTime?fg(r.document.createTime):Kh.min(),a=new $f({mapValue:{fields:r.document.fields}}),l=Kf.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jm(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vg(e,r.document),s=r.readTime?fg(r.readTime):Kh.min(),o=Kf.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vg(e,r.document),s=r.removedTargetIds||[];n=new Jm([],s,i,null)}else{if(!("filter"in t))return kh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new jm(r,i),o=e.targetId;n=new Zm(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Kh.min():t.readTime?fg(t.readTime):Kh.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=wg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wp(r)?{documents:_g(e,r)}:{query:Sg(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=hg(e,t.resumeToken);const r=ug(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Kh.min())>0){n.readTime=cg(e,t.snapshotVersion.toTimestamp());const r=ug(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.Wo(t)}}class tb extends Zy{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_h(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(_h(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?fg(e.updateTime):fg(t);return n.isEqual(Kh.min())&&(n=fg(t)),new ym(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=fg(e.commitTime);return this.listener.cu(n,t)}return _h(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Tg(this.serializer,e)))};this.Wo(t)}}class nb extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Nh(Ch.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ch.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nh(Ch.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ch.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nh(Ch.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class rb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ih(t),this.mu=!1):Eh("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ib{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{fb(this)&&(Eh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Sh(e);t.vu.add(4),await ob(t),t.bu.set("Unknown"),t.vu.delete(4),await sb(t)}(this))}))})),this.bu=new rb(n,r)}}async function sb(e){if(fb(e))for(const t of e.Ru)await t(!0)}async function ob(e){for(const t of e.Ru)await t(!1)}function ab(e,t){const n=Sh(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),db(n)?hb(n):Db(n).Ko()&&ub(n,t))}function lb(e,t){const n=Sh(e),r=Db(n);n.Au.delete(t),r.Ko()&&cb(n,t),0===n.Au.size&&(r.Ko()?r.jo():fb(n)&&n.bu.set("Unknown"))}function ub(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Db(e).su(t)}function cb(e,t){e.Vu.qt(t),Db(e).iu(t)}function hb(e){e.Vu=new ng({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Db(e).start(),e.bu.gu()}function db(e){return fb(e)&&!Db(e).Uo()&&e.Au.size>0}function fb(e){return 0===Sh(e).vu.size}function pb(e){e.Vu=void 0}async function mb(e){e.Au.forEach(((t,n)=>{ub(e,t)}))}async function gb(e,t){pb(e),db(e)?(e.bu.Iu(t),hb(e)):e.bu.set("Unknown")}async function vb(e,t,n){if(e.bu.set("Online"),t instanceof eg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Eh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await yb(e,n)}else if(t instanceof Jm?e.Vu.Ht(t):t instanceof Zm?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Kh.min()))try{const t=await Ay(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(df.EMPTY_BYTE_STRING,r.snapshotVersion)),cb(e,t);const i=new Fg(r.target,t,n,r.sequenceNumber);ub(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Eh("RemoteStore","Failed to raise snapshot:",t),await yb(e,t)}}async function yb(e,t,n){if(!pd(t))throw t;e.vu.add(1),await ob(e),e.bu.set("Offline"),n||(n=()=>Ay(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Eh("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await sb(e)}))}function bb(e,t){return t().catch((n=>yb(e,n,t)))}async function wb(e){const t=Sh(e),n=Ab(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Eb(t);)try{const e=await Py(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Ib(t,e)}catch(e){await yb(t,e)}xb(t)&&Tb(t)}function Eb(e){return fb(e)&&e.Eu.length<10}function Ib(e,t){e.Eu.push(t);const n=Ab(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function xb(e){return fb(e)&&!Ab(e).Uo()&&e.Eu.length>0}function Tb(e){Ab(e).start()}async function kb(e){Ab(e).hu()}async function _b(e){const t=Ab(e);for(const n of e.Eu)t.uu(n.mutations)}async function Sb(e,t,n){const r=e.Eu.shift(),i=Lm.from(r,t,n);await bb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await wb(e)}async function Cb(e,t){t&&Ab(e).ou&&await async function(e,t){if(Vm(n=t.code)&&n!==Ch.ABORTED){const n=e.Eu.shift();Ab(e).Qo(),await bb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await wb(e)}var n}(e,t),xb(e)&&Tb(e)}async function Nb(e,t){const n=Sh(e);n.asyncQueue.verifyOperationInProgress(),Eh("RemoteStore","RemoteStore received new credentials");const r=fb(n);n.vu.add(3),await ob(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await sb(n)}async function Ob(e,t){const n=Sh(e);t?(n.vu.delete(2),await sb(n)):t||(n.vu.add(2),await ob(n),n.bu.set("Unknown"))}function Db(e){return e.Su||(e.Su=function(e,t,n){const r=Sh(e);return r.fu(),new eb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:mb.bind(null,e),ao:gb.bind(null,e),nu:vb.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),db(e)?hb(e):e.bu.set("Unknown")):(await e.Su.stop(),pb(e))}))),e.Su}function Ab(e){return e.Du||(e.Du=function(e,t,n){const r=Sh(e);return r.fu(),new tb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:kb.bind(null,e),ao:Cb.bind(null,e),au:_b.bind(null,e),cu:Sb.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await wb(e)):(await e.Du.stop(),e.Eu.length>0&&(Eh("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class Rb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Oh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Rb(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nh(Ch.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pb(e,t){if(Ih("AsyncQueue",`${t}: ${e}`),pd(e))return new Nh(Ch.UNAVAILABLE,`${t}: ${e}`);throw e}class Lb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Xh.comparator(t.key,n.key):(e,t)=>Xh.comparator(e.key,t.key),this.keyedMap=Hp(),this.sortedSet=new rf(this.comparator)}static emptySet(e){return new Lb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Lb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Mb{constructor(){this.Cu=new rf(Xh.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):kh():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class jb{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new jb(e,t,Lb.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Fb{constructor(){this.Nu=void 0,this.listeners=[]}}class Ub{constructor(){this.queries=new zp((e=>Mp(e)),Lp),this.onlineState="Unknown",this.ku=new Set}}async function Vb(e,t){const n=Sh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Fb),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Pb(e,`Initialization of query '${jp(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&qb(n)}async function Bb(e,t){const n=Sh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function zb(e,t){const n=Sh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&qb(n)}function $b(e,t,n){const r=Sh(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function qb(e){e.ku.forEach((e=>{e.next()}))}class Kb{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=jb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Hb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class Wb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zp(),this.mutatedKeys=Zp(),this.tc=Vp(e),this.ec=new Lb(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Mb,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Fp(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kh()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new jb(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Mb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zp(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Gb(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Hb(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Zp();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return jb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Qb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xb{constructor(e){this.key=e,this.fc=!1}}class Yb{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new zp((e=>Mp(e)),Lp),this._c=new Map,this.mc=new Set,this.gc=new rf(Xh.comparator),this.yc=new Map,this.Ic=new hy,this.Tc={},this.Ec=new Map,this.Ac=Vv.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Jb(e,t){const n=gw(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Ly(n.localStore,Ap(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Zb(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&ab(n.remoteStore,e)}return i}async function Zb(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await jy(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return cw(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await jy(e.localStore,t,!0),o=new Wb(t,s.ir),a=o.sc(s.documents),l=Ym.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);cw(e,n,u.cc);const c=new Qb(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function ew(e,t){const n=Sh(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Lp(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await My(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),lb(n.remoteStore,r.targetId),lw(n,r.targetId)})).catch(ld)):(lw(n,r.targetId),await My(n.localStore,r.targetId,!0))}async function tw(e,t){const n=Sh(e);try{const e=await function(e,t){const n=Sh(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(df.EMPTY_BYTE_STRING,Kh.min()).withLastLimboFreeSnapshotVersion(Kh.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))}));let a=qp(),l=Zp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ry(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(Kh.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ud.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(_h(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?_h(r.fc):e.removedDocuments.size>0&&(_h(r.fc),r.fc=!1))})),await fw(n,e,t)}catch(e){await ld(e)}}function nw(e,t,n){const r=Sh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Sh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&qb(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rw(e,t,n){const r=Sh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new rf(Xh.comparator);e=e.insert(s,Kf.newNoDocument(s,Kh.min()));const n=Zp().add(s),i=new Xm(Kh.min(),new Map,new rf(Bh),e,n);await tw(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),dw(r)}else await My(r.localStore,t,!1).then((()=>lw(r,t,n))).catch(ld)}async function iw(e,t){const n=Sh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Sh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ud.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);_h(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);aw(n,r,null),ow(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fw(n,e)}catch(e){await ld(e)}}async function sw(e,t,n){const r=Sh(e);try{const e=await function(e,t){const n=Sh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(_h(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);aw(r,t,n),ow(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await fw(r,e)}catch(n){await ld(n)}}function ow(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function aw(e,t,n){const r=Sh(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function lw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||uw(e,t)}))}function uw(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(lb(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),dw(e))}function cw(e,t,n){for(const r of n)r instanceof Hb?(e.Ic.addReference(r.key,t),hw(e,r)):r instanceof Gb?(Eh("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||uw(e,r.key)):kh()}function hw(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Eh("SyncEngine","New document in limbo: "+n),e.mc.add(r),dw(e))}function dw(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Xh(Gh.fromString(t)),r=e.Ac.next();e.yc.set(r,new Xb(n)),e.gc=e.gc.insert(n,r),ab(e.remoteStore,new Fg(Ap(_p(n.path)),r,"TargetPurposeLimboResolution",Ed.ct))}}async function fw(e,t,n){const r=Sh(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Sy.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=Sh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ud.forEach(t,(t=>ud.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ud.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!pd(e))throw e;Eh("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function pw(e,t){const n=Sh(e);if(!n.currentUser.isEqual(t)){Eh("SyncEngine","User change. New user:",t.toKey());const e=await Dy(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Nh(Ch.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await fw(n,e.er)}}function mw(e,t){const n=Sh(e),r=n.yc.get(t);if(r&&r.fc)return Zp().add(r.key);{let e=Zp();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function gw(e){const t=Sh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rw.bind(null,t),t.dc.nu=zb.bind(null,t.eventManager),t.dc.Pc=$b.bind(null,t.eventManager),t}function vw(e){const t=Sh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sw.bind(null,t),t}class yw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Oy(this.persistence,new Cy,e.initialUser,this.serializer)}createPersistence(e){return new vy(by.zs,this.serializer)}createSharedClientState(e){return new Vy}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bw extends yw{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await vw(this.Vc.syncEngine),await wb(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Oy(this.persistence,new Cy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Gv(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new wd(t,this.persistence);return new bd(e.asyncQueue,n)}createPersistence(e){const t=_y(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Av.withCacheSize(this.cacheSizeBytes):Av.DEFAULT;return new xy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Qy(),Xy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Vy}}class ww{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>nw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pw.bind(null,this.syncEngine),await Ob(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ub}createDatastore(e){const t=Yy(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Wy(r));var r;return function(e,t,n,r){return new nb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>nw(this.syncEngine,e,0),s=zy.D()?new zy:new By,new ib(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Yb(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Sh(e);Eh("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await ob(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Ew{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ih("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Iw{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vh.UNAUTHENTICATED,this.clientId=Vh.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Eh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Eh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nh(Ch.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(rC){const n=Pb(rC,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xw(e,t){e.asyncQueue.verifyOperationInProgress(),Eh("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Dy(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Tw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _w(e);Eh("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Nb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Nb(t.remoteStore,n))),e._onlineComponents=t}function kw(e){return"FirebaseError"===e.name?e.code===Ch.FAILED_PRECONDITION||e.code===Ch.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function _w(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Eh("FirestoreClient","Using user provided OfflineComponentProvider");try{await xw(e,e._uninitializedComponentsProvider._offline)}catch(rC){const n=rC;if(!kw(n))throw n;xh("Error using user provided cache. Falling back to memory cache: "+n),await xw(e,new yw)}}else Eh("FirestoreClient","Using default OfflineComponentProvider"),await xw(e,new yw);return e._offlineComponents}async function Sw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Eh("FirestoreClient","Using user provided OnlineComponentProvider"),await Tw(e,e._uninitializedComponentsProvider._online)):(Eh("FirestoreClient","Using default OnlineComponentProvider"),await Tw(e,new ww))),e._onlineComponents}function Cw(e){return Sw(e).then((e=>e.syncEngine))}async function Nw(e){const t=await Sw(e),n=t.eventManager;return n.onListen=Jb.bind(null,t.syncEngine),n.onUnlisten=ew.bind(null,t.syncEngine),n}function Ow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ew({next:s=>{t.enqueueAndForget((()=>Bb(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Nh(Ch.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Nh(Ch.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Kb(_p(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Vb(e,o)}(await Nw(e),e.asyncQueue,t,n,r))),r.promise}function Dw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ew({next:n=>{t.enqueueAndForget((()=>Bb(e,o))),n.fromCache&&"server"===r.source?i.reject(new Nh(Ch.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Kb(n,s,{includeMetadataChanges:!0,Ku:!0});return Vb(e,o)}(await Nw(e),e.asyncQueue,t,n,r))),r.promise}function Aw(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Rw=new Map;function Pw(e,t,n){if(!n)throw new Nh(Ch.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Lw(e){if(!Xh.isDocumentKey(e))throw new Nh(Ch.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Mw(e){if(Xh.isDocumentKey(e))throw new Nh(Ch.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":kh()}function Fw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nh(Ch.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jw(e);throw new Nh(Ch.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Uw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nh(Ch.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nh(Ch.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Nh(Ch.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aw(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nh(Ch.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Nh(Ch.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Nh(Ch.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Vw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nh(Ch.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nh(Ch.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ah;switch(e.type){case"firstParty":return new Mh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nh(Ch.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rw.get(e);t&&(Eh("ComponentProvider","Removing Datastore"),Rw.delete(e),t.terminate())}(this),Promise.resolve()}}class Bw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $w(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bw(this.firestore,e,this._key)}}class zw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zw(this.firestore,e,this._query)}}class $w extends zw{constructor(e,t,n){super(e,t,_p(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bw(this.firestore,null,new Xh(e))}withConverter(e){return new $w(this.firestore,e,this._path)}}function qw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=un(e),Pw("collection","path",t),e instanceof Vw){const n=Gh.fromString(t,...r);return Mw(n),new $w(e,null,n)}{if(!(e instanceof Bw||e instanceof $w))throw new Nh(Ch.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Gh.fromString(t,...r));return Mw(n),new $w(e.firestore,null,n)}}function Kw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=un(e),1===arguments.length&&(t=Vh.A()),Pw("doc","path",t),e instanceof Vw){const n=Gh.fromString(t,...r);return Lw(n),new Bw(e,null,new Xh(n))}{if(!(e instanceof Bw||e instanceof $w))throw new Nh(Ch.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Gh.fromString(t,...r));return Lw(n),new Bw(e.firestore,e instanceof $w?e.converter:null,new Xh(n))}}class Hw{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Jy(this,"async_queue_retry"),this.Xc=()=>{const e=Xy();e&&Eh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Xy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Xy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Oh;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!pd(e))throw e;Eh("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ih("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Rb.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&kh()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Gw extends Vw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qw(this),this._firestoreClient.terminate()}}function Ww(e){return e._firestoreClient||Qw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Qw(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new wf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Aw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Iw(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Xw(e,t,n){const r=new Oh;return e.asyncQueue.enqueue((async()=>{try{await xw(e,n),await Tw(e,t),r.resolve()}catch(e){const n=e;if(!kw(n))throw n;xh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Yw(e){if(e._initialized||e._terminated)throw new Nh(Ch.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jw(df.fromBase64String(e))}catch(e){throw new Nh(Ch.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Jw(df.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eE{constructor(e){this._methodName=e}}class tE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nh(Ch.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nh(Ch.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bh(this._lat,e._lat)||Bh(this._long,e._long)}}const nE=/^__.*__$/;class rE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sm(e,this.data,t,this.fieldTransforms)}}class iE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Cm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kh()}}class oE{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new oE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return EE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sE(this.ca)&&nE.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class aE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Yy(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oE({ca:e,methodName:t,ga:n,path:Qh.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lE(e){const t=e._freezeSettings(),n=Yy(e._databaseId);return new aE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uE(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);vE("Data must be an object, but it was:",o,r);const a=mE(r,o);let l,u;if(s.merge)l=new cf(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=yE(t,r,n);if(!o.contains(i))throw new Nh(Ch.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);IE(e,i)||e.push(i)}l=new cf(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new rE(new $f(a),l,u)}class cE extends eE{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cE}}function hE(e,t,n,r){const i=e.ya(1,t,n);vE("Data must be an object, but it was:",i,r);const s=[],o=$f.empty();tf(r,((e,r)=>{const a=wE(t,e,n);r=un(r);const l=i.da(a);if(r instanceof cE)s.push(a);else{const e=pE(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new cf(s);return new iE(o,a,i.fieldTransforms)}function dE(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[yE(t,r,n)],l=[i];if(s.length%2!=0)throw new Nh(Ch.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(yE(t,s[d])),l.push(s[d+1]);const u=[],c=$f.empty();for(let d=a.length-1;d>=0;--d)if(!IE(u,a[d])){const e=a[d];let t=l[d];t=un(t);const n=o.da(e);if(t instanceof cE)u.push(e);else{const r=pE(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new cf(u);return new iE(c,h,o.fieldTransforms)}function fE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pE(n,e.ya(r?4:3,t))}function pE(e,t){if(gE(e=un(e)))return vE("Unsupported field value:",t,e),mE(e,t);if(e instanceof eE)return function(e,t){if(!sE(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pE(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=un(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return im(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qh.fromDate(e);return{timestampValue:cg(t.serializer,n)}}if(e instanceof qh){const n=new qh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cg(t.serializer,n)}}if(e instanceof tE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jw)return{bytesValue:hg(t.serializer,e._byteString)};if(e instanceof Bw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${jw(e)}`)}(e,t)}function mE(e,t){const n={};return nf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tf(e,((e,r)=>{const i=pE(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qh||e instanceof tE||e instanceof Jw||e instanceof Bw||e instanceof eE)}function vE(e,t,n){if(!gE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=jw(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function yE(e,t,n){if((t=un(t))instanceof Zw)return t._internalPath;if("string"==typeof t)return wE(e,t);throw EE("Field path arguments must be of type string or ",e,!1,void 0,n)}const bE=new RegExp("[~\\*/\\[\\]]");function wE(e,t,n){if(t.search(bE)>=0)throw EE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Zw(...t.split("."))._internalPath}catch(r){throw EE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function EE(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Nh(Ch.INVALID_ARGUMENT,a+e+l)}function IE(e,t){return e.some((e=>e.isEqual(t)))}class xE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TE extends xE{data(){return super.data()}}function kE(e,t){return"string"==typeof t?wE(e,t):t instanceof Zw?t._internalPath:t._delegate._internalPath}function _E(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nh(Ch.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SE{}class CE extends SE{}class NE extends CE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new NE(e,t,n)}_apply(e){const t=this._parse(e);return PE(e._query,t),new zw(e.firestore,e.converter,Rp(e._query,t))}_parse(e){const t=lE(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Nh(Ch.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){RE(o,s);const t=[];for(const n of o)t.push(AE(r,e,n));a={arrayValue:{values:t}}}else a=AE(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||RE(o,s),a=fE(n,"where",o,"in"===s||"not-in"===s);return Jf.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class OE extends SE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new OE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)PE(n,i),n=Rp(n,i)}(e._query,t),new zw(e.firestore,e.converter,Rp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class DE extends CE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new DE(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Qf(t,n);return function(e,t){if(null===Cp(e)){const n=Np(e);null!==n&&LE(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new zw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Tp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function AE(e,t,n){if("string"==typeof(n=un(n))){if(""===n)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Op(t)&&-1!==n.indexOf("/"))throw new Nh(Ch.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Gh.fromString(n));if(!Xh.isDocumentKey(r))throw new Nh(Ch.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Df(e,new Xh(r))}if(n instanceof Bw)return Df(e,n._key);throw new Nh(Ch.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jw(n)}.`)}function RE(e,t){if(!Array.isArray(e)||0===e.length)throw new Nh(Ch.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function PE(e,t){if(t.isInequality()){const n=Np(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Nh(Ch.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Cp(e);null!==i&&LE(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Nh(Ch.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Nh(Ch.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function LE(e,t,n){if(!n.isEqual(t))throw new Nh(Ch.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ME{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw kh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return tf(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new tE(mf(e.latitude),mf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=yf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const t=pf(e);return new qh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Gh.fromString(e);_h(jg(n));const r=new Ef(n.get(1),n.get(3)),i=new Xh(n.popFirst(5));return r.isEqual(t)||Ih(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function jE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class FE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UE extends xE{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new VE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(kE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class VE extends UE{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class BE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new FE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new VE(this._firestore,this._userDataWriter,n.key,n,new FE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nh(Ch.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new VE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new FE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new VE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:zE(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kh()}}function $E(e){e=Fw(e,Bw);const t=Fw(e.firestore,Gw);return Ow(Ww(t),e._key).then((n=>XE(t,e,n)))}class qE extends ME{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bw(this.firestore,null,t)}}function KE(e){e=Fw(e,zw);const t=Fw(e.firestore,Gw),n=Ww(t),r=new qE(t);return _E(e._query),Dw(n,e._query).then((n=>new BE(t,r,e,n)))}function HE(e,t,n){e=Fw(e,Bw);const r=Fw(e.firestore,Gw),i=jE(e.converter,t,n);return QE(r,[uE(lE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bm.none())])}function GE(e,t,n){e=Fw(e,Bw);const r=Fw(e.firestore,Gw),i=lE(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=un(t))||t instanceof Zw?dE(i,"updateDoc",e._key,t,n,a):hE(i,"updateDoc",e._key,t),QE(r,[s.toMutation(e._key,bm.exists(!0))])}function WE(e){return QE(Fw(e.firestore,Gw),[new Am(e._key,bm.none())])}function QE(e,t){return function(e,t){const n=new Oh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vw(e);try{const e=await function(e,t){const n=Sh(e),r=qh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Zp());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=qp(),l=Zp();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=km(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Cm(e.key,t,qf(t.value.mapValue),bm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Gp(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new rf(Bh)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await fw(r,e.changes),await wb(r.remoteStore)}catch(e){const t=Pb(e,"Failed to persist write");n.reject(t)}}(await Cw(e),t,n))),n.promise}(Ww(e),t)}function XE(e,t,n){const r=n.docs.get(t._key),i=new qE(e);return new UE(e,i,t._key,r,new FE(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yh=e}(Tr),yr(new cn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Gw(new Ph(e.getProvider("auth-internal")),new Fh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nh(Ch.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Nr(gh,"3.13.0",e),Nr(gh,"3.13.0","esm2017")}();const YE="firebasestorage.googleapis.com",JE="storageBucket";class ZE extends Xt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(nI(e),`Firebase Storage: ${t} (${nI(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ZE.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var eI,tI;function nI(e){return"storage/"+e}function rI(){return new ZE(eI.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function iI(){return new ZE(eI.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sI(){return new ZE(eI.CANCELED,"User canceled the upload/download.")}function oI(e){return new ZE(eI.INVALID_ARGUMENT,e)}function aI(){return new ZE(eI.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(eI||(eI={}));class lI{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=lI.makeFromUrl(e,t)}catch(rC){return new lI(e,"")}if(""===n.path)return n;throw r=e,new ZE(eI.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===YE?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new lI(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new ZE(eI.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class uI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function cI(e,t,n,r){if(r<t)throw oI(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw oI(`Invalid value for '${e}'. Expected ${n} or less.`)}function hI(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function dI(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(tI||(tI={}));class fI{constructor(e,t,n,r,i,s,o,a,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new pI(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===tI.NO_ERROR,i=n.getStatus();if(!t||dI(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===tI.ABORT;return void e(!1,new pI(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new pI(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(rC){r(rC)}else if(null!==i){const e=rI();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?aI():sI())}else{r(iI())}};this.canceled_?t(0,new pI(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||o)return d(),void c.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pI{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function mI(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class gI{constructor(e,t){this._service=e,this._location=t instanceof lI?t:lI.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gI(e,t)}get root(){const e=new lI(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mI(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new lI(this._location.bucket,e);return new gI(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ZE(eI.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function vI(e,t){const n=null===t||void 0===t?void 0:t[JE];return null==n?null:lI.makeFromBucketSpec(n,e)}class yI{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=YE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lI.makeFromBucketSpec(r,this._host):vI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=lI.makeFromBucketSpec(this._url,e):this._bucket=vI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gI(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new uI(aI());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=hI(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new fI(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const bI="@firebase/storage",wI="0.11.2",EI="storage";function II(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new yI(r,i,s,n,Tr)}yr(new cn(EI,II,"PUBLIC").setMultipleInstances(!0)),Nr(bI,wI,""),Nr(bI,wI,"esm2017");const xI=kr({apiKey:"AIzaSyBdfqp1Ov90Hoibv17X-Ue79jdJk4FyhiI",authDomain:"golfleague2025.firebaseapp.com",projectId:"golfleague2025",storageBucket:"golfleague2025.appspot.com",messagingSenderId:"575574407684",appId:"1:575574407684:web:cc14ae21ab82aac9b0d351",measurementId:"G-DJXHVZFSBG"}),TI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r();const t=br(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=br(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(en(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Xr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$o,persistence:[Js,Ls,js]}),r=qt("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Go)return;const r=null===t||void 0===t?void 0:t.token;Wo!==r&&(Wo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){un(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){un(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Bt("auth");return s&&is(n,`http://${s}`),n}(xI),kI=function(e,t){const n="string"==typeof e?e:t||"(default)",r=br("object"==typeof e?e:_r(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=zt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Fw(e,Vw))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&xh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vh.MOCK_USER;else{t=Ht(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Nh(Ch.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vh(s)}e._authCredentials=new Rh(new Dh(t,n))}}(r,...e)}return r}(xI);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r(),t=arguments.length>1?arguments[1]:void 0;e=un(e);const n=br(e,EI).getImmediate({identifier:t}),r=zt("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ht(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(xI);(function(e,t){Yw(e=Fw(e,Gw));const n=Ww(e);if(n._uninitializedComponentsProvider)throw new Nh(Ch.FAILED_PRECONDITION,"SDK cache is already specified.");xh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new ww;return Xw(n,i,new bw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))})(kI).catch((e=>{"failed-precondition"===e.code?console.error("Multiple tabs open, persistence can only be enabled in one tab at a time."):"unimplemented"===e.code&&console.error("The current browser does not support offline persistence.")}));class _I{constructor(e,t){this._delegate=e,this.firebase=t,gr(e,new cn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Cr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){gr(this._delegate,e)}_addOrOverwriteComponent(e){vr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const SI=new Yt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const CI=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=kr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Zt(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Nr,setLogLevel:Dr,onLog:Or,apps:null,SDK_VERSION:Tr,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(yr(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw SI.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ft(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Zt(n,e=e||dr))throw SI.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(_I);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ft(n,e)},createSubscribe:on,ErrorFactory:Yt,deepExtend:Ft}),n}(),NI=new wn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){NI.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&NI.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const OI=CI;!function(e){Nr("@firebase/app-compat","0.2.13",e)}();OI.registerVersion("firebase","9.23.0","app-compat");const DI={block1:{course:"WGC Country Club (Back 9)",matchups:{round1:[{teamOneId:"team2",teamTwoId:"team1"},{teamOneId:"team3",teamTwoId:"team12"},{teamOneId:"team4",teamTwoId:"team11"},{teamOneId:"team5",teamTwoId:"team10"},{teamOneId:"team6",teamTwoId:"team9"},{teamOneId:"team7",teamTwoId:"team8"}],round2:[{teamOneId:"team5",teamTwoId:"team8"},{teamOneId:"team6",teamTwoId:"team7"},{teamOneId:"team12",teamTwoId:"team1"},{teamOneId:"team2",teamTwoId:"team11"},{teamOneId:"team3",teamTwoId:"team10"},{teamOneId:"team4",teamTwoId:"team9"}],round3:[{teamOneId:"team4",teamTwoId:"team2"},{teamOneId:"team5",teamTwoId:"team12"},{teamOneId:"team7",teamTwoId:"team10"},{teamOneId:"team8",teamTwoId:"team9"},{teamOneId:"team1",teamTwoId:"team3"}],round4:[{teamOneId:"team11",teamTwoId:"team12"},{teamOneId:"team9",teamTwoId:"team3"},{teamOneId:"team4",teamTwoId:"team8"},{teamOneId:"team7",teamTwoId:"team5"},{teamOneId:"team2",teamTwoId:"team9"}],round5:[{teamOneId:"team11",teamTwoId:"team7"},{teamOneId:"team1",teamTwoId:"team11"},{teamOneId:"team4",teamTwoId:"team1"},{teamOneId:"team9",teamTwoId:"team3"},{teamOneId:"team12",teamTwoId:"team10"}],round6:[{teamOneId:"team7",teamTwoId:"team8"},{teamOneId:"team5",teamTwoId:"team10"},{teamOneId:"team12",teamTwoId:"team2"},{teamOneId:"team9",teamTwoId:"team5"},{teamOneId:"team1",teamTwoId:"team3"}],round7:[{teamOneId:"team3",teamTwoId:"team10"},{teamOneId:"team4",teamTwoId:"team9"},{teamOneId:"team7",teamTwoId:"team5"},{teamOneId:"team1",teamTwoId:"team12"},{teamOneId:"team8",teamTwoId:"team10"}],round8:[{teamOneId:"team12",teamTwoId:"team2"},{teamOneId:"team10",teamTwoId:"team8"},{teamOneId:"team4",teamTwoId:"team9"},{teamOneId:"team11",teamTwoId:"team1"},{teamOneId:"team7",teamTwoId:"team3"}],round9:[{teamOneId:"team1",teamTwoId:"team3"},{teamOneId:"team4",teamTwoId:"team5"},{teamOneId:"team2",teamTwoId:"team6"},{teamOneId:"team7",teamTwoId:"team10"},{teamOneId:"team11",teamTwoId:"team9"}]}},block2:{course:"WGC Country Club (Front 9)",matchups:{round1:[{teamOneId:"team12",teamTwoId:"team8"},{teamOneId:"team2",teamTwoId:"team7"},{teamOneId:"team3",teamTwoId:"team4"},{teamOneId:"team5",teamTwoId:"team10"},{teamOneId:"team9",teamTwoId:"team3"},{teamOneId:"team8",teamTwoId:"team12"}],round2:[{teamOneId:"team1",teamTwoId:"team11"},{teamOneId:"team10",teamTwoId:"team7"},{teamOneId:"team9",teamTwoId:"team4"},{teamOneId:"team6",teamTwoId:"team2"},{teamOneId:"team3",teamTwoId:"team12"},{teamOneId:"team8",teamTwoId:"team10"}],round3:[{teamOneId:"team7",teamTwoId:"team12"},{teamOneId:"team11",teamTwoId:"team1"},{teamOneId:"team4",teamTwoId:"team7"},{teamOneId:"team9",teamTwoId:"team10"},{teamOneId:"team12",teamTwoId:"team8"}],round4:[{teamOneId:"team3",teamTwoId:"team8"},{teamOneId:"team2",teamTwoId:"team5"},{teamOneId:"team10",teamTwoId:"team1"},{teamOneId:"team7",teamTwoId:"team3"},{teamOneId:"team9",teamTwoId:"team4"}],round5:[{teamOneId:"team12",teamTwoId:"team1"},{teamOneId:"team8",teamTwoId:"team4"},{teamOneId:"team3",teamTwoId:"team9"},{teamOneId:"team6",teamTwoId:"team2"}],round6:[{teamOneId:"team10",teamTwoId:"team7"},{teamOneId:"team1",teamTwoId:"team12"},{teamOneId:"team4",teamTwoId:"team5"},{teamOneId:"team2",teamTwoId:"team6"}],round7:[{teamOneId:"team9",teamTwoId:"team5"},{teamOneId:"team1",teamTwoId:"team11"},{teamOneId:"team2",teamTwoId:"team8"},{teamOneId:"team6",teamTwoId:"team10"}],round8:[{teamOneId:"team1",teamTwoId:"team2"},{teamOneId:"team3",teamTwoId:"team5"},{teamOneId:"team4",teamTwoId:"team12"},{teamOneId:"team9",teamTwoId:"team10"}]}}};const AI=t.createContext();function RI(){return(0,t.useContext)(AI)}function PI(e){let{children:n}=e;const[r,i]=(0,t.useState)(),[s,a]=(0,t.useState)(!0),[l,u]=(0,t.useState)(""),[c,h]=(0,t.useState)(0);console.log(s),(0,t.useEffect)((()=>TI.onAuthStateChanged((e=>{a(!0),i(e),a(!1)}))),[]);const d={currentUser:r,login:function(e,t){return TI.signInWithEmailAndPassword(e,t)},signup:async function(e,t,n,r){try{const i=await async function(e,t,n){var r;const i=ns(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Zi(i,s,"signUpPassword");o=xs(i,e)}else o=xs(i,s).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Zi(i,s,"signUpPassword");return xs(i,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await Ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(TI,e,t);console.log(i),await function(e,t,n,r){return HE(Kw(kI,"users",e),{firstName:n,email:t,teamId:r}),!0}(i.user.uid,e,n,r),await function(e,t,n){let r=!0;return kI.collection("teams").onSnapshot((i=>{if(i.docs.forEach((i=>{i.id===t&&(r=!1,kI.collection("teams").doc(t).update({membersArr:OI.firestore.FieldValue.arrayUnion(e),permissionsArr:OI.firestore.FieldValue.arrayUnion(n)}))})),r){let r=[];for(let e=0;e<=16;e++)r.push({opponent:"Team",points:0});kI.collection("teams").doc(t).set({membersArr:[e],permissionsArr:[n],totalPoints:parseInt(0),rounds:r}).then((()=>{console.log("Document successfully written!")})).catch((e=>{console.error("Error writing document: ",e)}))}})),!0}(n,r,i.user.uid)}catch(i){console.error("Error during sign-up:",i)}},logout:function(){return TI.signOut()},resetPassword:function(e){return TI.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)},teamName:function(e,t){return kI.collection("teams").doc(e.teamId).update({teamName:t}).then((()=>{console.log("Document successfully updated!")})).catch((e=>{console.error("Error updating document: ",e)}))}};return(0,o.jsx)(AI.Provider,{value:d,children:!s&&n})}var LI,MI=LI||(LI={});MI.Pop="POP",MI.Push="PUSH",MI.Replace="REPLACE";var jI=function(e){return e};function FI(e){e.preventDefault(),e.returnValue=""}function UI(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function VI(){return Math.random().toString(36).substr(2,8)}function BI(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function zI(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $I(e,t){if(!e)throw new Error(t)}const qI=(0,t.createContext)(null);const KI=(0,t.createContext)(null);const HI=(0,t.createContext)({outlet:null,matches:[]});function GI(e){let{to:n,replace:r,state:i}=e;ZI()||$I(!1);let s=tx();return(0,t.useEffect)((()=>{s(n,{replace:r,state:i})})),null}function WI(e){return(0,t.useContext)(HI).outlet}function QI(e){$I(!1)}function XI(e){let{basename:n="/",children:r=null,location:i,navigationType:s=LI.Pop,navigator:o,static:a=!1}=e;ZI()&&$I(!1);let l=bx(n),u=(0,t.useMemo)((()=>({basename:l,navigator:o,static:a})),[l,o,a]);"string"===typeof i&&(i=zI(i));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=(0,t.useMemo)((()=>{let e=vx(c,l);return null==e?null:{pathname:e,search:h,hash:d,state:f,key:p}}),[l,c,h,d,f,p]);return null==m?null:(0,t.createElement)(qI.Provider,{value:u},(0,t.createElement)(KI.Provider,{children:r,value:{location:m,navigationType:s}}))}function YI(e){let{children:n,location:r}=e;return function(e,n){ZI()||$I(!1);let{matches:r}=(0,t.useContext)(HI),i=r[r.length-1],s=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;let a,l=ex();if(n){var u;let e="string"===typeof n?zI(n):n;"/"===o||(null==(u=e.pathname)?void 0:u.startsWith(o))||$I(!1),a=e}else a=l;let c=a.pathname||"/",h="/"===o?c:c.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");let r="string"===typeof t?zI(t):t,i=vx(r.pathname||"/",n);if(null==i)return null;let s=ix(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a)o=fx(s[a],e,i);return o}(e,{pathname:h});0;return px(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:yx([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:yx([o,e.pathnameBase])}))),r)}(rx(n),r)}function JI(e){ZI()||$I(!1);let{basename:n,navigator:r}=(0,t.useContext)(qI),{hash:i,pathname:s,search:o}=nx(e),a=s;if("/"!==n){let t=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?zI(e).pathname:e.pathname}(e),r=null!=t&&t.endsWith("/");a="/"===s?n+(r?"/":""):yx([n,s])}return r.createHref({pathname:a,search:o,hash:i})}function ZI(){return null!=(0,t.useContext)(KI)}function ex(){return ZI()||$I(!1),(0,t.useContext)(KI).location}function tx(){ZI()||$I(!1);let{basename:e,navigator:n}=(0,t.useContext)(qI),{matches:r}=(0,t.useContext)(HI),{pathname:i}=ex(),s=JSON.stringify(r.map((e=>e.pathnameBase))),o=(0,t.useRef)(!1);(0,t.useEffect)((()=>{o.current=!0}));let a=(0,t.useCallback)((function(t,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof t)return void n.go(t);let a=gx(t,JSON.parse(s),i);"/"!==e&&(a.pathname=yx([e,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)}),[e,n,s,i]);return a}function nx(e){let{matches:n}=(0,t.useContext)(HI),{pathname:r}=ex(),i=JSON.stringify(n.map((e=>e.pathnameBase)));return(0,t.useMemo)((()=>gx(e,JSON.parse(i),r)),[e,i,r])}function rx(e){let n=[];return t.Children.forEach(e,(e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,rx(e.props.children));e.type!==QI&&$I(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=rx(e.props.children)),n.push(r)})),n}function ix(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||$I(!1),s.relativePath=s.relativePath.slice(r.length));let o=yx([r,s.relativePath]),a=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&$I(!1),ix(e.children,t,a,o)),(null!=e.path||e.index)&&t.push({path:o,score:dx(o,e.index),routesMeta:a})})),t}const sx=/^:\w+$/,ox=3,ax=2,lx=1,ux=10,cx=-2,hx=e=>"*"===e;function dx(e,t){let n=e.split("/"),r=n.length;return n.some(hx)&&(r+=cx),t&&(r+=ax),n.filter((e=>!hx(e))).reduce(((e,t)=>e+(sx.test(t)?ox:""===t?lx:ux)),r)}function fx(e,t,n){let r=t,{routesMeta:i}=e,s={},o="/",a=[];for(let l=0;l<i.length;++l){let e=i[l],t=l===i.length-1,u="/"===o?n:n.slice(o.length)||"/",c=mx({path:e.relativePath,caseSensitive:e.caseSensitive,end:t},u);if(!c)return null;Object.assign(s,c.params);let h=r[e.childrenIndex];a.push({params:s,pathname:yx([o,c.pathname]),pathnameBase:yx([o,c.pathnameBase]),route:h}),"/"!==c.pathnameBase&&(o=yx([o,c.pathnameBase])),r=h.children}return a}function px(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight(((r,i,s)=>(0,t.createElement)(HI.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(WI,null),value:{outlet:r,matches:n.concat(e.slice(0,s+1))}})),null)}function mx(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|$)";let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e){try{return decodeURIComponent(e)}catch(t){return e}}(a[n]||""),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function gx(e,t,n){let r,i="string"===typeof e?zI(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?zI(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:wx(r),hash:Ex(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function vx(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const yx=e=>e.join("/").replace(/\/\/+/g,"/"),bx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wx=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ex=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Ix(){return Ix=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}function xx(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const Tx=["onClick","reloadDocument","replace","state","target","to"];function kx(e){let{basename:n,children:r,window:i}=e,s=(0,t.useRef)();null==s.current&&(s.current=function(e){function t(){var e=o.location,t=a.state||{};return[t.idx,jI({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:BI(e)}function r(e,t){return void 0===t&&(t=null),jI(R({pathname:h.pathname,hash:"",search:""},"string"===typeof e?zI(e):e,{state:t,key:VI()}))}function i(e){u=e,e=t(),c=e[0],h=e[1],d.call({action:u,location:h})}function s(e){a.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,a=o.history,l=null;o.addEventListener("popstate",(function(){if(l)f.call(l),l=null;else{var e=LI.Pop,n=t(),r=n[0];if(n=n[1],f.length){if(null!=r){var o=c-r;o&&(l={action:e,location:n,retry:function(){s(-1*o)}},s(o))}}else i(e)}}));var u=LI.Pop,c=(e=t())[0],h=e[1],d=UI(),f=UI();return null==c&&(c=0,a.replaceState(R({},a.state,{idx:c}),"")),{get action(){return u},get location(){return h},createHref:n,push:function e(t,s){var l=LI.Push,u=r(t,s);if(!f.length||(f.call({action:l,location:u,retry:function(){e(t,s)}}),0)){var h=[{usr:u.state,key:u.key,idx:c+1},n(u)];u=h[0],h=h[1];try{a.pushState(u,"",h)}catch(pu){o.location.assign(h)}i(l)}},replace:function e(t,s){var o=LI.Replace,l=r(t,s);f.length&&(f.call({action:o,location:l,retry:function(){e(t,s)}}),1)||(l=[{usr:l.state,key:l.key,idx:c},n(l)],a.replaceState(l[0],"",l[1]),i(o))},go:s,back:function(){s(-1)},forward:function(){s(1)},listen:function(e){return d.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&o.addEventListener("beforeunload",FI),function(){t(),f.length||o.removeEventListener("beforeunload",FI)}}}}({window:i}));let o=s.current,[a,l]=(0,t.useState)({action:o.action,location:o.location});return(0,t.useLayoutEffect)((()=>o.listen(l)),[o]),(0,t.createElement)(XI,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}const _x=(0,t.forwardRef)((function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:l}=e,u=xx(e,Tx),c=JI(l),h=function(e,n){let{target:r,replace:i,state:s}=void 0===n?{}:n,o=tx(),a=ex(),l=nx(e);return(0,t.useCallback)((t=>{if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();let n=!!i||BI(a)===BI(l);o(e,{replace:n,state:s})}}),[a,o,l,i,s,r,e])}(l,{replace:s,state:o,target:a});return(0,t.createElement)("a",Ix({},u,{href:c,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:a}))}));function Sx(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=(0,t.useRef)(),s=(0,t.useRef)(),{signup:a}=RI(),[l,u]=(0,t.useState)(""),[c,h]=(0,t.useState)(!1),d=tx();return(0,o.jsx)("div",{className:"auth-container",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(A,{className:"auth-card auth-card-container",style:{width:"20rem"},children:(0,o.jsxs)(A.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),l&&(0,o.jsx)(Qe,{variant:"danger",children:l}),(0,o.jsxs)(Ot,{onSubmit:async function(t){if(t.preventDefault(),r.current.value!==i.current.value)return u("Passwords do not match");try{u(""),h(!0),await a(n.current.value,r.current.value,e.current.value,s.current.value),d("/")}catch{u("Failed to create an account")}h(!1)},children:[(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"fname",children:[(0,o.jsx)(Ot.Label,{children:"First Name"}),(0,o.jsx)(Ot.Control,{type:"text",ref:e,required:!0})]}),(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"team",children:[(0,o.jsx)(Ot.Label,{children:"Team"}),(0,o.jsxs)(Ot.Select,{type:"select",ref:s,required:!0,children:[(0,o.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Select Your Team"}),(0,o.jsx)("option",{value:"team1",children:"Ashly / Jimmy"}),(0,o.jsx)("option",{value:"team2",children:"Chuck / Bernie"}),(0,o.jsx)("option",{value:"team3",children:"Del / Tom"}),(0,o.jsx)("option",{value:"team4",children:"Dennis / Kyle"}),(0,o.jsx)("option",{value:"team5",children:"Brian / Tim"}),(0,o.jsx)("option",{value:"team6",children:"Ghost Team"}),(0,o.jsx)("option",{value:"team7",children:"Nate / Jeff"}),(0,o.jsx)("option",{value:"team8",children:"Jacob / Matt"}),(0,o.jsx)("option",{value:"team9",children:"Jim / Tom"}),(0,o.jsx)("option",{value:"team10",children:"Alex / Alonzo"}),(0,o.jsx)("option",{value:"team11",children:"Andrew / Danny"}),(0,o.jsx)("option",{value:"team12",children:"Ken / Jason"})]})]}),(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"email",children:[(0,o.jsx)(Ot.Label,{children:"Email"}),(0,o.jsx)(Ot.Control,{type:"email",ref:n,required:!0})]}),(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"password",children:[(0,o.jsx)(Ot.Label,{children:"Password"}),(0,o.jsx)(Ot.Control,{type:"password",ref:r,required:!0}),(0,o.jsx)(Ot.Text,{className:"text-muted",children:"Must contain more then 6 characters"})]}),(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"password-confirm",children:[(0,o.jsx)(Ot.Label,{children:"Password Confirmation"}),(0,o.jsx)(Ot.Control,{type:"password",ref:i,required:!0})]}),(0,o.jsx)(At,{disabled:c,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),(0,o.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,o.jsx)(_x,{to:"/login",children:"Log In"})]})]})})}const Cx=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r,as:i="div",className:a,...l}=e;const u=c(n,"container"),h="string"===typeof r?`-${r}`:"-fluid";return(0,o.jsx)(i,{ref:t,...l,className:s()(a,r?`${u}${h}`:u)})}));Cx.displayName="Container",Cx.defaultProps={fluid:!1};const Nx=Cx,Ox=t.createContext();function Dx(){return(0,t.useContext)(Ox)}function Ax(e){let{children:n}=e;const{currentUser:r,loading:i}=RI(),[s,a]=(0,t.useState)(),[l,u]=(0,t.useState)(),[c,h]=(0,t.useState)(!0);async function d(){try{let e={};const t=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof SE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof OE)).length,n=e.filter((e=>e instanceof NE)).length;if(t>1||t>0&&n>0)throw new Nh(Ch.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(qw(kI,"teams"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=kE("orderBy",e);return DE._create(n,t)}("totalPoints","desc"));(await KE(t)).forEach((t=>{e[t.id]=t.data()})),u(e)}catch(e){console.error("Error reading teams data:",e)}h(!1)}(0,t.useEffect)((()=>{!i&&r&&(!async function(){if(r)try{const e=Kw(kI,"users",r.uid),t=await $E(e);t.exists()?a(t.data()):console.log("No such user!")}catch(e){console.error("Error reading user data:",e)}}(),d())}),[i,r]);const f={userData:s,setUserData:a,teamsData:l,setTeamsData:u,loadingData:c,createOrUpdateUser:async function(e){try{const t=Kw(kI,"users",r.uid);await HE(t,e,{merge:!0}),console.log("User data written successfully!")}catch(t){console.error("Error writing user data:",t)}},deleteUser:async function(){try{const e=Kw(kI,"users",r.uid);await WE(e),console.log("User deleted successfully!"),a(null)}catch(e){console.error("Error deleting user:",e)}},createTeam:async function(e){try{const t=await function(e,t){const n=Fw(e.firestore,Gw),r=Kw(e),i=jE(e.converter,t);return QE(n,[uE(lE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bm.exists(!1))]).then((()=>r))}(qw(kI,"teams"),e);console.log("New team created with ID:",t.id),d()}catch(t){console.error("Error creating team:",t)}},updateTeam:async function(e,t){try{const n=Kw(kI,"teams",e);await GE(n,t),console.log("Team updated successfully!"),d()}catch(n){console.error("Error updating team:",n)}},deleteTeam:async function(e){try{const t=Kw(kI,"teams",e);await WE(t),console.log("Team deleted successfully!"),d()}catch(t){console.error("Error deleting team:",t)}}};return(0,o.jsx)(Ox.Provider,{value:f,children:n})}const Rx=["xxl","xl","lg","md","sm","xs"],Px=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...a}=e;const l=c(n,"row"),u=`${l}-cols`,h=[];return Rx.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r="xs"!==e?`-${e}`:"";null!=n&&h.push(`${u}${r}-${n}`)})),(0,o.jsx)(i,{ref:t,...a,className:s()(r,l,...h)})}));Px.displayName="Row";const Lx=Px,Mx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},jx=t.createContext(null),Fx=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...a}=e;n=c(n,"navbar-brand");const l=i||(a.href?"a":"span");return(0,o.jsx)(l,{...a,ref:t,className:s()(r,n)})}));Fx.displayName="NavbarBrand";const Ux=Fx;const Vx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},Bx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function zx(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=Bx[e];return n+parseInt(be(t,r[0]),10)+parseInt(be(t,r[1]),10)}const $x={[oe]:"collapse",[ue]:"collapsing",[ae]:"collapsing",[le]:"collapse show"},qx={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:zx},Kx=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:u,className:c,children:h,dimension:d="height",getDimensionValue:f=zx,...p}=e;const m="function"===typeof d?d():d,g=(0,t.useMemo)((()=>Vx((e=>{e.style[m]="0"}),r)),[m,r]),v=(0,t.useMemo)((()=>Vx((e=>{const t=`scroll${m[0].toUpperCase()}${m.slice(1)}`;e.style[m]=`${e[t]}px`}),i)),[m,i]),y=(0,t.useMemo)((()=>Vx((e=>{e.style[m]=null}),a)),[m,a]),b=(0,t.useMemo)((()=>Vx((e=>{e.style[m]=`${f(m,e)}px`,De(e)}),l)),[l,f,m]),w=(0,t.useMemo)((()=>Vx((e=>{e.style[m]=null}),u)),[m,u]);return(0,o.jsx)(Le,{ref:n,addEndListener:Oe,...p,"aria-expanded":p.role?p.in:null,onEnter:g,onEntering:v,onEntered:y,onExit:b,onExiting:w,childRef:h.ref,children:(e,n)=>t.cloneElement(h,{...n,className:s()(c,h.props.className,$x[e],"width"===m&&"collapse-horizontal")})})}));Kx.defaultProps=qx;const Hx=Kx,Gx=t.createContext(null);Gx.displayName="NavbarContext";const Wx=Gx,Qx=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...s}=e;i=c(i,"navbar-collapse");const a=(0,t.useContext)(Wx);return(0,o.jsx)(Hx,{in:!(!a||!a.expanded),...s,children:(0,o.jsx)("div",{ref:n,className:i,children:r})})}));Qx.displayName="NavbarCollapse";const Xx=Qx,Yx=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,label:l,as:u="button",onClick:h,...d}=e;r=c(r,"navbar-toggler");const{onToggle:f,expanded:p}=(0,t.useContext)(Wx)||{},m=$((e=>{h&&h(e),f&&f()}));return"button"===u&&(d.type="button"),(0,o.jsx)(u,{...d,ref:n,onClick:m,"aria-label":l,className:s()(i,r,!p&&"collapsed"),children:a||(0,o.jsx)("span",{className:`${r}-icon`})})}));Yx.displayName="NavbarToggle",Yx.defaultProps={label:"Toggle navigation"};const Jx=Yx;function Zx(e){void 0===e&&(e=fe());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(rC){return e.body}}function eT(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function tT(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}const nT="data-rr-ui-";function rT(e){return`${nT}${e}`}const iT=rT("modal-open");const sT=class{constructor(){let{handleContainerOverflow:e=!0,isRTL:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=e,this.isRTL=t,this.modals=[]}getScrollbarWidth(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}getElement(){return document.body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(be(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(iT,""),be(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(iT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},oT=e=>{var t;return"undefined"===typeof document?null:null==e?fe().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};const aT=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let lT;function uT(e){const n=e||(lT||(lT=new sT),lT),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,t.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{r.current.backdrop=e}),[])})}const cT=(0,t.forwardRef)(((e,n)=>{let{show:i=!1,role:s="dialog",className:a,style:l,children:u,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:f,transition:p,backdropTransition:m,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:w,renderBackdrop:E=e=>(0,o.jsx)("div",Object.assign({},e)),manager:I,container:x,onShow:T,onHide:k=()=>{},onExit:_,onExited:S,onExiting:C,onEnter:N,onEntering:O,onEntered:D}=e,A=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,aT);const R=function(e,n){const[r,i]=(0,t.useState)((()=>oT(e)));if(!r){const t=oT(e);t&&i(t)}return(0,t.useEffect)((()=>{n&&r&&n(r)}),[n,r]),(0,t.useEffect)((()=>{const t=oT(e);t!==r&&i(t)}),[e,r]),r}(x),P=uT(I),L=G(),M=W(i),[j,F]=(0,t.useState)(!i),U=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>P),[P]),we&&!M&&i&&(U.current=Zx()),p||i||j?i&&j&&F(!1):F(!0);const V=K((()=>{if(P.add(),Q.current=_e(document,"keydown",q),H.current=_e(document,"focus",(()=>setTimeout(z)),!0),T&&T(),g){const e=Zx(document);P.dialog&&e&&!eT(P.dialog,e)&&(U.current=e,P.dialog.focus())}})),B=K((()=>{var e;(P.remove(),null==Q.current||Q.current(),null==H.current||H.current(),y)&&(null==(e=U.current)||null==e.focus||e.focus(b),U.current=null)}));(0,t.useEffect)((()=>{i&&R&&V()}),[i,R,V]),(0,t.useEffect)((()=>{j&&B()}),[j,B]),tT((()=>{B()}));const z=K((()=>{if(!v||!L()||!P.isTopModal())return;const e=Zx();P.dialog&&e&&!eT(P.dialog,e)&&P.dialog.focus()})),$=K((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===c&&k())})),q=K((e=>{h&&27===e.keyCode&&P.isTopModal()&&(null==f||f(e),e.defaultPrevented||k())})),H=(0,t.useRef)(),Q=(0,t.useRef)(),X=function(){F(!0),null==S||S(...arguments)},Y=p;if(!R||!(i||Y&&!j))return null;const J=Object.assign({role:s,ref:P.setDialogRef,"aria-modal":"dialog"===s||void 0},A,{style:l,className:a,tabIndex:-1});let Z=w?w(J):(0,o.jsx)("div",Object.assign({},J,{children:t.cloneElement(u,{role:"document"})}));Y&&(Z=(0,o.jsx)(Y,{appear:!0,unmountOnExit:!0,in:!!i,onExit:_,onExiting:C,onExited:X,onEnter:N,onEntering:O,onEntered:D,children:Z}));let ee=null;if(c){const e=m;ee=E({ref:P.setBackdropRef,onClick:$}),e&&(ee=(0,o.jsx)(e,{appear:!0,in:!!i,children:ee}))}return(0,o.jsx)(o.Fragment,{children:r.createPortal((0,o.jsxs)(o.Fragment,{children:[ee,Z]}),R)})}));cT.displayName="Modal";const hT=Object.assign(cT,{Manager:sT}),dT=p("offcanvas-body"),fT={[ae]:"show",[le]:"show"},pT=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,...l}=e;return r=c(r,"offcanvas"),(0,o.jsx)(Le,{ref:n,addEndListener:Oe,...l,childRef:a.ref,children:(e,n)=>t.cloneElement(a,{...n,className:s()(i,a.props.className,(e===ae||e===ue)&&`${r}-toggling`,fT[e])})})}));pT.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},pT.displayName="OffcanvasToggling";const mT=pT,gT=t.createContext({onHide(){}}),vT=t.forwardRef(((e,n)=>{let{closeLabel:r,closeVariant:i,closeButton:s,onHide:a,children:l,...u}=e;const c=(0,t.useContext)(gT),h=$((()=>{null==c||c.onHide(),null==a||a()}));return(0,o.jsxs)("div",{ref:n,...u,children:[l,s&&(0,o.jsx)($e,{"aria-label":r,variant:i,onClick:h})]})}));vT.defaultProps={closeLabel:"Close",closeButton:!1};const yT=vT,bT=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,...i}=e;return n=c(n,"offcanvas-header"),(0,o.jsx)(yT,{ref:t,...i,className:s()(r,n)})}));bT.displayName="OffcanvasHeader",bT.defaultProps={closeLabel:"Close",closeButton:!1};const wT=bT,ET=p("offcanvas-title",{Component:m("h5")});var IT=Function.prototype.bind.call(Function.prototype.call,[].slice);function xT(e,t){return IT(e.querySelectorAll(t))}function TT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const kT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_T=".sticky-top",ST=".navbar-toggler";class CT extends sT{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,be(t,{[e]:`${parseFloat(be(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],be(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";xT(t,kT).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),xT(t,_T).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),xT(t,ST).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=TT(n.className,r):n.setAttribute("class",TT(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";xT(t,kT).forEach((e=>this.restore(i,e))),xT(t,_T).forEach((e=>this.restore(s,e))),xT(t,ST).forEach((e=>this.restore(s,e)))}}let NT;function OT(e){return NT||(NT=new CT(e)),NT}const DT=CT;function AT(e){return(0,o.jsx)(mT,{...e})}function RT(e){return(0,o.jsx)(Fe,{...e})}const PT=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,"aria-labelledby":l,placement:u,show:h,backdrop:d,keyboard:f,scroll:p,onEscapeKeyDown:m,onShow:g,onHide:v,container:y,autoFocus:b,enforceFocus:w,restoreFocus:E,restoreFocusOptions:I,onEntered:x,onExit:T,onExiting:k,onEnter:_,onEntering:S,onExited:C,backdropClassName:N,manager:O,...D}=e;const A=(0,t.useRef)();r=c(r,"offcanvas");const{onToggle:R}=(0,t.useContext)(Wx)||{},P=$((()=>{null==R||R(),null==v||v()})),L=(0,t.useMemo)((()=>({onHide:P})),[P]);const M=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()(`${r}-backdrop`,N)})),[N,r]);return(0,o.jsx)(gT.Provider,{value:L,children:(0,o.jsx)(hT,{show:h,ref:n,backdrop:d,container:y,keyboard:f,autoFocus:b,enforceFocus:w&&!p,restoreFocus:E,restoreFocusOptions:I,onEscapeKeyDown:m,onShow:g,onHide:P,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==_||_(e,...n)},onEntering:S,onEntered:x,onExit:T,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C(...n)},manager:O||(p?(A.current||(A.current=new DT({handleContainerOverflow:!1})),A.current):OT()),transition:AT,backdropTransition:RT,renderBackdrop:M,renderDialog:e=>(0,o.jsx)("div",{role:"dialog",...e,...D,className:s()(i,r,`${r}-${u}`),"aria-labelledby":l,children:a})})})}));PT.displayName="Offcanvas",PT.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};const LT=Object.assign(PT,{Body:dT,Header:wT,Title:ET}),MT=t.forwardRef(((e,n)=>{const r=(0,t.useContext)(Wx);return(0,o.jsx)(LT,{ref:n,show:!(null==r||!r.expanded),...e})}));MT.displayName="NavbarOffcanvas";const jT=MT,FT=p("navbar-text",{Component:"span"}),UT=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i,variant:a,bg:l,fixed:u,sticky:h,className:d,as:f="nav",expanded:p,onToggle:m,onSelect:g,collapseOnSelect:v,...y}=F(e,{expanded:"onToggle"}),b=c(r,"navbar"),w=(0,t.useCallback)((function(){null==g||g(...arguments),v&&p&&(null==m||m(!1))}),[g,v,p,m]);void 0===y.role&&"nav"!==f&&(y.role="navigation");let E=`${b}-expand`;"string"===typeof i&&(E=`${E}-${i}`);const I=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!p),bsPrefix:b,expanded:!!p})),[b,p,m]);return(0,o.jsx)(Wx.Provider,{value:I,children:(0,o.jsx)(jx.Provider,{value:w,children:(0,o.jsx)(f,{ref:n,...y,className:s()(d,b,i&&E,a&&`${b}-${a}`,l&&`bg-${l}`,h&&`sticky-${h}`,u&&`fixed-${u}`)})})})}));UT.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},UT.displayName="Navbar";const VT=Object.assign(UT,{Brand:Ux,Collapse:Xx,Offcanvas:jT,Text:FT,Toggle:Jx});n(197);function BT(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var zT=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};const $T=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=zT(e),r=zT(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},qT=t.createContext(null);qT.displayName="NavContext";const KT=qT,HT=t.createContext(null),GT=["as","active","eventKey"];function WT(e){let{key:n,onClick:r,active:i,id:s,role:o,disabled:a}=e;const l=(0,t.useContext)(jx),u=(0,t.useContext)(KT);let c=i;const h={role:o};if(u){o||"tablist"!==u.role||(h.role="tab");const e=u.getControllerId(null!=n?n:null),t=u.getControlledId(null!=n?n:null);h[rT("event-key")]=n,h.id=e||s,h["aria-controls"]=t,c=null==i&&null!=n?u.activeKey===n:i}return"tab"===h.role&&(a&&(h.tabIndex=-1,h["aria-disabled"]=!0),c?h["aria-selected"]=c:h.tabIndex=-1),h.onClick=K((e=>{a||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:c}]}const QT=t.forwardRef(((e,t)=>{let{as:n=J,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,GT);const[a,l]=WT(Object.assign({key:Mx(i,s.href),active:r},s));return a[rT("active")]=l.isActive,(0,o.jsx)(n,Object.assign({},s,a,{ref:t}))}));QT.displayName="NavItem";const XT=QT,YT=["as","onSelect","activeKey","role","onKeyDown"];const JT=()=>{},ZT=rT("event-key"),ek=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:l}=e,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,YT);const c=BT(),h=(0,t.useRef)(!1),d=(0,t.useContext)(jx),f=(0,t.useContext)(HT);let p,m;f&&(a=a||"tablist",s=f.activeKey,p=f.getControlledId,m=f.getControllerId);const g=(0,t.useRef)(null),v=e=>{const t=g.current;if(!t)return null;const n=xT(t,`[${ZT}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},y=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(g.current&&h.current){const e=g.current.querySelector(`[${ZT}][aria-selected=true]`);null==e||e.focus()}h.current=!1}));const b=$T(n,g);return(0,o.jsx)(jx.Provider,{value:y,children:(0,o.jsx)(KT.Provider,{value:{role:a,activeKey:Mx(s),getControlledId:p||JT,getControllerId:m||JT},children:(0,o.jsx)(r,Object.assign({},u,{onKeyDown:e=>{if(null==l||l(e),!f)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=v(-1);break;case"ArrowRight":case"ArrowDown":t=v(1);break;default:return}var n;t&&(e.preventDefault(),y(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),h.current=!0,c())},ref:b,role:a}))})})}));ek.displayName="Nav";const tk=Object.assign(ek,{Item:XT}),nk=p("nav-item"),rk=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=te,active:a,eventKey:l,...u}=e;n=c(n,"nav-link");const[h,d]=WT({key:Mx(l,u.href),active:a,...u});return(0,o.jsx)(i,{...u,...h,ref:t,className:s()(r,n,u.disabled&&"disabled",d.isActive&&"active")})}));rk.displayName="NavLink",rk.defaultProps={disabled:!1};const ik=rk,sk=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:a,fill:l,justify:u,navbar:h,navbarScroll:d,className:f,activeKey:p,...m}=F(e,{activeKey:"onSelect"}),g=c(i,"nav");let v,y,w=!1;const E=(0,t.useContext)(Wx),I=(0,t.useContext)(b);return E?(v=E.bsPrefix,w=null==h||h):I&&({cardHeaderBsPrefix:y}=I),(0,o.jsx)(tk,{as:r,ref:n,activeKey:p,className:s()(f,{[g]:!w,[`${v}-nav`]:w,[`${v}-nav-scroll`]:w&&d,[`${y}-${a}`]:!!y,[`${g}-${a}`]:!!a,[`${g}-fill`]:l,[`${g}-justified`]:u}),...m})}));sk.displayName="Nav",sk.defaultProps={justify:!1,fill:!1};const ok=Object.assign(sk,{Item:nk,Link:ik}),ak=t.createContext(null);var lk=Object.prototype.hasOwnProperty;function uk(e,t,n){for(n of e.keys())if(ck(n,t))return n}function ck(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ck(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=uk(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=uk(t,i)))return!1;if(!ck(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(lk.call(e,n)&&++r&&!lk.call(t,n))return!1;if(!(n in t)||!ck(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const hk=function(e){var n=G();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function dk(e){return e.split("-")[0]}function fk(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pk(e){return e instanceof fk(e).Element||e instanceof Element}function mk(e){return e instanceof fk(e).HTMLElement||e instanceof HTMLElement}function gk(e){return"undefined"!==typeof ShadowRoot&&(e instanceof fk(e).ShadowRoot||e instanceof ShadowRoot)}var vk=Math.max,yk=Math.min,bk=Math.round;function wk(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(mk(e)&&t){var s=e.offsetHeight,o=e.offsetWidth;o>0&&(r=bk(n.width)/o||1),s>0&&(i=bk(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Ek(e){var t=wk(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ik(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gk(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xk(e){return e?(e.nodeName||"").toLowerCase():null}function Tk(e){return fk(e).getComputedStyle(e)}function kk(e){return["table","td","th"].indexOf(xk(e))>=0}function _k(e){return((pk(e)?e.ownerDocument:e.document)||window.document).documentElement}function Sk(e){return"html"===xk(e)?e:e.assignedSlot||e.parentNode||(gk(e)?e.host:null)||_k(e)}function Ck(e){return mk(e)&&"fixed"!==Tk(e).position?e.offsetParent:null}function Nk(e){for(var t=fk(e),n=Ck(e);n&&kk(n)&&"static"===Tk(n).position;)n=Ck(n);return n&&("html"===xk(n)||"body"===xk(n)&&"static"===Tk(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&mk(e)&&"fixed"===Tk(e).position)return null;for(var n=Sk(e);mk(n)&&["html","body"].indexOf(xk(n))<0;){var r=Tk(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Ok(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dk(e,t,n){return vk(e,yk(t,n))}function Ak(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Rk(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Pk="top",Lk="bottom",Mk="right",jk="left",Fk="auto",Uk=[Pk,Lk,Mk,jk],Vk="start",Bk="end",zk="clippingParents",$k="viewport",qk="popper",Kk="reference",Hk=Uk.reduce((function(e,t){return e.concat([t+"-"+Vk,t+"-"+Bk])}),[]),Gk=[].concat(Uk,[Fk]).reduce((function(e,t){return e.concat([t,t+"-"+Vk,t+"-"+Bk])}),[]),Wk=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Qk={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=dk(n.placement),l=Ok(a),u=[jk,Mk].indexOf(a)>=0?"height":"width";if(s&&o){var c=function(e,t){return Ak("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Rk(e,Uk))}(i.padding,n),h=Ek(s),d="y"===l?Pk:jk,f="y"===l?Lk:Mk,p=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],m=o[l]-n.rects.reference[l],g=Nk(s),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=c[d],w=v-h[u]-c[f],E=v/2-h[u]/2+y,I=Dk(b,E,w),x=l;n.modifiersData[r]=((t={})[x]=I,t.centerOffset=I-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Ik(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xk(e){return e.split("-")[1]}var Yk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jk(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,d=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:bk(t*r)/r||0,y:bk(n*r)/r||0}}(o):"function"===typeof c?c(o):o,f=d.x,p=void 0===f?0:f,m=d.y,g=void 0===m?0:m,v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=jk,w=Pk,E=window;if(u){var I=Nk(n),x="clientHeight",T="clientWidth";if(I===fk(n)&&"static"!==Tk(I=_k(n)).position&&"absolute"===a&&(x="scrollHeight",T="scrollWidth"),i===Pk||(i===jk||i===Mk)&&s===Bk)w=Lk,g-=(h&&E.visualViewport?E.visualViewport.height:I[x])-r.height,g*=l?1:-1;if(i===jk||(i===Pk||i===Lk)&&s===Bk)b=Mk,p-=(h&&E.visualViewport?E.visualViewport.width:I[T])-r.width,p*=l?1:-1}var k,_=Object.assign({position:a},u&&Yk);return l?Object.assign({},_,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k)):Object.assign({},_,((t={})[w]=y?g+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Zk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,u={placement:dk(t.placement),variation:Xk(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Jk(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Jk(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var e_={passive:!0};const t_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=fk(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,e_)})),a&&l.addEventListener("resize",n.update,e_),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,e_)})),a&&l.removeEventListener("resize",n.update,e_)}},data:{}};var n_={left:"right",right:"left",bottom:"top",top:"bottom"};function r_(e){return e.replace(/left|right|bottom|top/g,(function(e){return n_[e]}))}var i_={start:"end",end:"start"};function s_(e){return e.replace(/start|end/g,(function(e){return i_[e]}))}function o_(e){var t=fk(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function a_(e){return wk(_k(e)).left+o_(e).scrollLeft}function l_(e){var t=Tk(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function u_(e){return["html","body","#document"].indexOf(xk(e))>=0?e.ownerDocument.body:mk(e)&&l_(e)?e:u_(Sk(e))}function c_(e,t){var n;void 0===t&&(t=[]);var r=u_(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=fk(r),o=i?[s].concat(s.visualViewport||[],l_(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(c_(Sk(o)))}function h_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function d_(e,t){return t===$k?h_(function(e){var t=fk(e),n=_k(e),r=t.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+a_(e),y:a}}(e)):pk(t)?function(e){var t=wk(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):h_(function(e){var t,n=_k(e),r=o_(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=vk(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=vk(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+a_(e),l=-r.scrollTop;return"rtl"===Tk(i||n).direction&&(a+=vk(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(_k(e)))}function f_(e,t,n){var r="clippingParents"===t?function(e){var t=c_(Sk(e)),n=["absolute","fixed"].indexOf(Tk(e).position)>=0,r=n&&mk(e)?Nk(e):e;return pk(r)?t.filter((function(e){return pk(e)&&Ik(e,r)&&"body"!==xk(e)&&(!n||"static"!==Tk(e).position)})):[]}(e):[].concat(t),i=[].concat(r,[n]),s=i[0],o=i.reduce((function(t,n){var r=d_(e,n);return t.top=vk(r.top,t.top),t.right=yk(r.right,t.right),t.bottom=yk(r.bottom,t.bottom),t.left=vk(r.left,t.left),t}),d_(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function p_(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?dk(i):null,o=i?Xk(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case Pk:t={x:a,y:n.y-r.height};break;case Lk:t={x:a,y:n.y+n.height};break;case Mk:t={x:n.x+n.width,y:l};break;case jk:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=s?Ok(s):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case Vk:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Bk:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function m_(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.boundary,o=void 0===s?zk:s,a=n.rootBoundary,l=void 0===a?$k:a,u=n.elementContext,c=void 0===u?qk:u,h=n.altBoundary,d=void 0!==h&&h,f=n.padding,p=void 0===f?0:f,m=Ak("number"!==typeof p?p:Rk(p,Uk)),g=c===qk?Kk:qk,v=e.rects.popper,y=e.elements[d?g:c],b=f_(pk(y)?y:y.contextElement||_k(e.elements.popper),o,l),w=wk(e.elements.reference),E=p_({reference:w,element:v,strategy:"absolute",placement:i}),I=h_(Object.assign({},v,E)),x=c===qk?I:w,T={top:b.top-x.top+m.top,bottom:x.bottom-b.bottom+m.bottom,left:b.left-x.left+m.left,right:x.right-b.right+m.right},k=e.modifiersData.offset;if(c===qk&&k){var _=k[i];Object.keys(T).forEach((function(e){var t=[Mk,Lk].indexOf(e)>=0?1:-1,n=[Pk,Lk].indexOf(e)>=0?"y":"x";T[e]+=_[n]*t}))}return T}const g_={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=dk(g),y=l||(v===g||!p?[r_(g)]:function(e){if(dk(e)===Fk)return[];var t=r_(e);return[s_(e),t,s_(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(dk(n)===Fk?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Gk:l,c=Xk(r),h=c?a?Hk:Hk.filter((function(e){return Xk(e)===c})):Uk,d=h.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=h);var f=d.reduce((function(t,n){return t[n]=m_(e,{placement:n,boundary:i,rootBoundary:s,padding:o})[dk(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:c,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,E=t.rects.popper,I=new Map,x=!0,T=b[0],k=0;k<b.length;k++){var _=b[k],S=dk(_),C=Xk(_)===Vk,N=[Pk,Lk].indexOf(S)>=0,O=N?"width":"height",D=m_(t,{placement:_,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),A=N?C?Mk:jk:C?Lk:Pk;w[O]>E[O]&&(A=r_(A));var R=r_(A),P=[];if(s&&P.push(D[S]<=0),a&&P.push(D[A]<=0,D[R]<=0),P.every((function(e){return e}))){T=_,x=!1;break}I.set(_,P)}if(x)for(var L=function(e){var t=b.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function v_(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function y_(e){return[Pk,Mk,Lk,jk].some((function(t){return e[t]>=0}))}const b_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,o=Gk.reduce((function(e,n){return e[n]=function(e,t,n){var r=dk(e),i=[jk,Pk].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[jk,Mk].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,s),e}),{}),a=o[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}};const w_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0!==o&&o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,m=void 0===p?0:p,g=m_(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),v=dk(t.placement),y=Xk(t.placement),b=!y,w=Ok(v),E="x"===w?"y":"x",I=t.modifiersData.popperOffsets,x=t.rects.reference,T=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,_="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(I){if(s){var N,O="y"===w?Pk:jk,D="y"===w?Lk:Mk,A="y"===w?"height":"width",R=I[w],P=R+g[O],L=R-g[D],M=f?-T[A]/2:0,j=y===Vk?x[A]:T[A],F=y===Vk?-T[A]:-x[A],U=t.elements.arrow,V=f&&U?Ek(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[O],$=B[D],q=Dk(0,x[A],V[A]),K=b?x[A]/2-M-q-z-_.mainAxis:j-q-z-_.mainAxis,H=b?-x[A]/2+M+q+$+_.mainAxis:F+q+$+_.mainAxis,G=t.elements.arrow&&Nk(t.elements.arrow),W=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Q=null!=(N=null==S?void 0:S[w])?N:0,X=R+H-Q,Y=Dk(f?yk(P,R+K-Q-W):P,R,f?vk(L,X):L);I[w]=Y,C[w]=Y-R}if(a){var J,Z="x"===w?Pk:jk,ee="x"===w?Lk:Mk,te=I[E],ne="y"===E?"height":"width",re=te+g[Z],ie=te-g[ee],se=-1!==[Pk,jk].indexOf(v),oe=null!=(J=null==S?void 0:S[E])?J:0,ae=se?re:te-x[ne]-T[ne]-oe+_.altAxis,le=se?te+x[ne]+T[ne]-oe-_.altAxis:ie,ue=f&&se?function(e,t,n){var r=Dk(e,t,n);return r>n?n:r}(ae,te,le):Dk(f?ae:re,te,f?le:ie);I[E]=ue,C[E]=ue-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function E_(e,t,n){void 0===n&&(n=!1);var r=mk(t),i=mk(t)&&function(e){var t=e.getBoundingClientRect(),n=bk(t.width)/e.offsetWidth||1,r=bk(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=_k(t),o=wk(e,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==xk(t)||l_(s))&&(a=function(e){return e!==fk(e)&&mk(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:o_(e);var t}(t)),mk(t)?((l=wk(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=a_(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function I_(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function x_(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var T_={placement:"bottom",modifiers:[],strategy:"absolute"};function k_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function __(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?T_:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},T_,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},s,i.options,a),i.scrollParents={reference:pk(e)?c_(e):e.contextElement?c_(e.contextElement):[],popper:c_(t)};var c=function(e){var t=I_(e);return Wk.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var a=s({state:i,name:t,instance:l,options:r}),u=function(){};o.push(a||u)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(k_(t,n)){i.rects={reference:E_(t,Nk(n),"fixed"===i.options.strategy),popper:Ek(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],o=s.fn,u=s.options,c=void 0===u?{}:u,h=s.name;"function"===typeof o&&(i=o({state:i,options:c,name:h,instance:l})||i)}else i.reset=!1,r=-1}}},update:x_((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),a=!0}};if(!k_(e,t))return l;function u(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const S_=__({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=m_(t,{elementContext:"reference"}),a=m_(t,{altBoundary:!0}),l=v_(o,r),u=v_(a,i,s),c=y_(l),h=y_(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=p_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Zk,t_,b_,g_,w_,Qk]}),C_=["enabled","placement","strategy","modifiers"];const N_={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},O_={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,s=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},D_=[];const A_=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:i=!0,placement:s="bottom",strategy:o="absolute",modifiers:a=D_}=r,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,C_);const u=(0,t.useRef)(a),c=(0,t.useRef)(),h=(0,t.useCallback)((()=>{var e;null==(e=c.current)||e.update()}),[]),d=(0,t.useCallback)((()=>{var e;null==(e=c.current)||e.forceUpdate()}),[]),[f,p]=hk((0,t.useState)({placement:s,update:h,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,t.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),p({state:t,styles:n,attributes:r,update:h,forceUpdate:d,placement:t.placement})}})),[h,d,p]),g=(0,t.useMemo)((()=>(ck(u.current,a)||(u.current=a),u.current)),[a]);return(0,t.useEffect)((()=>{c.current&&i&&c.current.setOptions({placement:s,strategy:o,modifiers:[...g,m,N_]})}),[o,s,m,i,g]),(0,t.useEffect)((()=>{if(i&&null!=e&&null!=n)return c.current=S_(e,n,Object.assign({},l,{placement:s,strategy:o,modifiers:[...g,O_,m]})),()=>{null!=c.current&&(c.current.destroy(),c.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[i,e,n]),f},R_=()=>{};const P_=e=>e&&("current"in e?e.current:e);const L_=function(e,n){let{disabled:r,clickTrigger:i="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,t.useRef)(!1),o=n||R_,a=(0,t.useCallback)((t=>{const n=P_(e);var r;at()(!!n,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!eT(n,t.target)}),[e]),l=K((e=>{s.current||o(e)})),u=K((e=>{27===e.keyCode&&o(e)}));(0,t.useEffect)((()=>{if(r||null==e)return;let t=window.event;const n=fe(P_(e)),s=_e(n,i,a,!0),o=_e(n,i,(e=>{e!==t?l(e):t=void 0})),c=_e(n,"keyup",(e=>{e!==t?u(e):t=void 0}));let h=[];return"ontouchstart"in n.documentElement&&(h=[].slice.call(n.body.children).map((e=>_e(e,"mousemove",R_)))),()=>{s(),o(),c(),h.forEach((e=>e()))}}),[e,r,i,a,l,u])};function M_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function j_(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:s,fixed:o,containerPadding:a,arrowElement:l,popperConfig:u={}}=e;var c,h,d,f;const p=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(u.modifiers);return Object.assign({},u,{placement:r,enabled:t,strategy:o?"fixed":u.strategy,modifiers:M_(Object.assign({},p,{eventListeners:{enabled:n},preventOverflow:Object.assign({},p.preventOverflow,{options:a?Object.assign({padding:a},null==(c=p.preventOverflow)?void 0:c.options):null==(h=p.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:s},null==(d=p.offset)?void 0:d.options)},arrow:Object.assign({},p.arrow,{enabled:!!l,options:Object.assign({},null==(f=p.arrow)?void 0:f.options,{element:l})}),flip:Object.assign({enabled:!!i},p.flip)}))})}const F_=["children"];const U_=()=>{};function V_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(ak),[r,i]=(0,t.useState)(null),s=(0,t.useRef)(!1),{flip:o,offset:a,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:h={},enableEventListeners:d=!0,usePopper:f=!!n}=e,p=null==(null==n?void 0:n.show)?!!e.show:n.show;p&&!s.current&&(s.current=!0);const{placement:m,setMenu:g,menuElement:v,toggleElement:y}=n||{},b=A_(y,v,j_({placement:c||m||"bottom-start",enabled:f,enableEvents:null==d?p:d,offset:a,flip:o,fixed:u,arrowElement:r,popperConfig:h})),w=Object.assign({ref:g||U_,"aria-labelledby":null==y?void 0:y.id},b.attributes.popper,{style:b.styles.popper}),E={show:p,placement:m,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:f?b:null,arrowProps:f?Object.assign({ref:i},b.attributes.arrow,{style:b.styles.arrow}):{}};return L_(v,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!p}),[w,E]}function B_(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,F_);const[r,i]=V_(n);return(0,o.jsx)(o.Fragment,{children:t(r,i)})}B_.displayName="DropdownMenu",B_.defaultProps={usePopper:!0};const z_=B_,$_={prefix:String(Math.round(1e10*Math.random())),current:0},q_=t.createContext($_);let K_=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);const H_=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},G_=()=>{};function W_(){const e=function(e){let n=(0,t.useContext)(q_);return n!==$_||K_||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((()=>e||"react-aria"+n.prefix+"-"+ ++n.current),[e])}(),{show:n=!1,toggle:r=G_,setToggle:i,menuElement:s}=(0,t.useContext)(ak)||{},o=(0,t.useCallback)((e=>{r(!n,e)}),[n,r]),a={id:e,ref:i||G_,onClick:o,"aria-expanded":!!n};return s&&H_(s)&&(a["aria-haspopup"]=!0),[a,{show:n,toggle:r}]}function Q_(e){let{children:t}=e;const[n,r]=W_();return(0,o.jsx)(o.Fragment,{children:t(n,r)})}Q_.displayName="DropdownToggle";const X_=Q_,Y_=["eventKey","disabled","onClick","active","as"];function J_(e){let{key:n,href:r,active:i,disabled:s,onClick:o}=e;const a=(0,t.useContext)(jx),l=(0,t.useContext)(KT),{activeKey:u}=l||{},c=Mx(n,r),h=null==i&&null!=n?Mx(u)===c:i;return[{onClick:K((e=>{s||(null==o||o(e),a&&!e.isPropagationStopped()&&a(c,e))})),"aria-disabled":s||void 0,"aria-selected":h,[rT("dropdown-item")]:""},{isActive:h}]}const Z_=t.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:a=J}=e,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Y_);const[u]=J_({key:n,href:l.href,disabled:r,onClick:i,active:s});return(0,o.jsx)(a,Object.assign({},l,{ref:t},u))}));Z_.displayName="DropdownItem";const eS=Z_;function tS(){const e=BT(),n=(0,t.useRef)(null),r=(0,t.useCallback)((t=>{n.current=t,e()}),[e]);return[n,r]}function nS(e){let{defaultShow:n,show:r,onSelect:i,onToggle:s,itemSelector:a=`* [${rT("dropdown-item")}]`,focusFirstItemOnShow:l,placement:u="bottom-start",children:c}=e;const[h,d]=j(r,n,s),[f,p]=tS(),m=f.current,[g,v]=tS(),y=g.current,b=W(h),w=(0,t.useRef)(null),E=(0,t.useRef)(!1),I=(0,t.useContext)(jx),x=(0,t.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;d(e,{originalEvent:t,source:n})}),[d]),T=K(((e,t)=>{null==i||i(e,t),x(!1,t,"select"),t.isPropagationStopped()||null==I||I(e,t)})),k=(0,t.useMemo)((()=>({toggle:x,placement:u,show:h,menuElement:m,toggleElement:y,setMenu:p,setToggle:v})),[x,u,h,m,y,p,v]);m&&b&&!h&&(E.current=m.contains(document.activeElement));const _=K((()=>{y&&y.focus&&y.focus()})),S=K((()=>{const e=w.current;let t=l;if(null==t&&(t=!(!f.current||!H_(f.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=xT(f.current,a)[0];n&&n.focus&&n.focus()}));(0,t.useEffect)((()=>{h?S():E.current&&(E.current=!1,_())}),[h,E,_,S]),(0,t.useEffect)((()=>{w.current=null}));const C=(e,t)=>{if(!f.current)return null;const n=xT(f.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return H("keydown",(e=>{var t,n;const{key:r}=e,i=e.target,s=null==(t=f.current)?void 0:t.contains(i),o=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&s))return;if(!s&&!o)return;if("Tab"===r&&(!f.current||!h))return;w.current=e.type;const a={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=C(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),h){const e=C(i,1);e&&e.focus&&e.focus()}else d(!0,a);return;case"Tab":Te(document,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||d(!1,a)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),d(!1,a)}})),(0,o.jsx)(jx.Provider,{value:T,children:(0,o.jsx)(ak.Provider,{value:k,children:c})})}nS.displayName="Dropdown",nS.Menu=z_,nS.Toggle=X_,nS.Item=eS;const rS=nS,iS=t.createContext({});iS.displayName="DropdownContext";const sS=iS,oS=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:a=!1,onClick:l,active:u,as:h=te,...d}=e;const f=c(n,"dropdown-item"),[p,m]=J_({key:i,href:d.href,disabled:a,onClick:l,active:u});return(0,o.jsx)(h,{...d,...p,ref:t,className:s()(r,f,m.isActive&&"active",a&&"disabled")})}));oS.displayName="DropdownItem";const aS=oS;var lS="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;const uS="undefined"!==typeof document||lS?t.useLayoutEffect:t.useEffect,cS=t.createContext(null);cS.displayName="InputGroupContext";const hS=cS;function dS(e,t){return e}function fS(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}const pS=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,align:a,rootCloseEvent:l,flip:u,show:h,renderOnMount:d,as:f="div",popperConfig:p,variant:m,...g}=e,v=!1;const y=(0,t.useContext)(Wx),b=c(r,"dropdown-menu"),{align:w,drop:E,isRTL:I}=(0,t.useContext)(sS);a=a||w;const x=(0,t.useContext)(hS),T=[];if(a)if("object"===typeof a){const e=Object.keys(a);if(e.length){const t=e[0],n=a[t];v="start"===n,T.push(`${b}-${t}-${n}`)}}else"end"===a&&(v=!0);const k=fS(v,E,I),[_,{hasShown:S,popper:C,show:N,toggle:O}]=V_({flip:u,rootCloseEvent:l,show:h,usePopper:!y&&0===T.length,offset:[0,2],popperConfig:p,placement:k});if(_.ref=Re(dS(n),_.ref),uS((()=>{N&&(null==C||C.update())}),[N]),!S&&!d&&!x)return null;"string"!==typeof f&&(_.show=N,_.close=()=>null==O?void 0:O(!1),_.align=a);let D=g.style;return null!=C&&C.placement&&(D={...g.style,..._.style},g["x-placement"]=C.placement),(0,o.jsx)(f,{...g,..._,style:D,...(T.length||y)&&{"data-bs-popper":"static"},className:s()(i,b,N&&"show",v&&`${b}-end`,m&&`${b}-${m}`,...T)})}));pS.displayName="DropdownMenu",pS.defaultProps={flip:!0};const mS=pS,gS=t.forwardRef(((e,n)=>{let{bsPrefix:r,split:i,className:a,childBsPrefix:l,as:u=At,...h}=e;const d=c(r,"dropdown-toggle"),f=(0,t.useContext)(ak),p=(0,t.useContext)(hS);void 0!==l&&(h.bsPrefix=l);const[m]=W_();return m.ref=Re(m.ref,dS(n)),(0,o.jsx)(u,{className:s()(a,d,i&&`${d}-split`,!!p&&(null==f?void 0:f.show)&&"show"),...m,...h})}));gS.displayName="DropdownToggle";const vS=gS,yS=p("dropdown-header",{defaultProps:{role:"heading"}}),bS=p("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),wS=p("dropdown-item-text",{Component:"span"}),ES=t.forwardRef(((e,n)=>{const{bsPrefix:r,drop:i,show:a,className:l,align:u,onSelect:d,onToggle:f,focusFirstItemOnShow:p,as:m="div",navbar:g,autoClose:v,...y}=F(e,{show:"onToggle"}),b=(0,t.useContext)(hS),w=c(r,"dropdown"),E=h(),I=$(((e,t)=>{var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===v?"click"===n:"inside"===v?"rootClose"!==n:"outside"!==v||"select"!==n)&&(null==f||f(e,t))})),x=fS("end"===u,i,E),T=(0,t.useMemo)((()=>({align:u,drop:i,isRTL:E})),[u,i,E]);return(0,o.jsx)(sS.Provider,{value:T,children:(0,o.jsx)(rS,{placement:x,show:a,onSelect:d,onToggle:I,focusFirstItemOnShow:p,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:b?y.children:(0,o.jsx)(m,{...y,ref:n,className:s()(l,a&&"show",(!i||"down"===i)&&w,"up"===i&&"dropup","end"===i&&"dropend","start"===i&&"dropstart")})})})}));ES.displayName="Dropdown",ES.defaultProps={navbar:!1,align:"start",autoClose:!0};const IS=Object.assign(ES,{Toggle:vS,Menu:mS,Item:aS,ItemText:wS,Divider:bS,Header:yS}),xS=t.forwardRef(((e,t)=>{let{id:n,title:r,children:i,bsPrefix:a,className:l,rootCloseEvent:u,menuRole:h,disabled:d,active:f,renderMenuOnMount:p,menuVariant:m,...g}=e;const v=c(void 0,"nav-item");return(0,o.jsxs)(IS,{ref:t,...g,className:s()(l,v),children:[(0,o.jsx)(IS.Toggle,{id:n,eventKey:null,active:f,disabled:d,childBsPrefix:a,as:ik,children:r}),(0,o.jsx)(IS.Menu,{role:h,renderOnMount:p,rootCloseEvent:u,variant:m,children:i})]})}));xS.displayName="NavDropdown";const TS=Object.assign(xS,{Item:IS.Item,ItemText:IS.ItemText,Divider:IS.Divider,Header:IS.Header});function kS(){const[e,n]=(0,t.useState)(""),{logout:r}=RI(),{userData:i}=Dx(),s=tx();return(0,o.jsx)(VT,{expand:"lg",children:(0,o.jsxs)(Nx,{children:[(0,o.jsxs)(VT.Brand,{href:"/",children:[(0,o.jsx)("img",{src:"/wgc(192).png",width:"50",height:"50",className:"d-inline-block align-top",alt:"Thursday Night Open League - 2025"}),(0,o.jsx)("h3",{children:"TNO"})]}),(0,o.jsx)(VT.Toggle,{"aria-controls":"navbarScroll"}),(0,o.jsxs)(VT.Collapse,{id:"navbarScroll",children:[(0,o.jsxs)(ok,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[(0,o.jsx)(ok.Link,{href:"/",children:"Dashboard"}),(0,o.jsx)(ok.Link,{href:"/Leaderboard",children:"Leaderboard"}),(0,o.jsx)(ok.Link,{href:"../Schedule",children:"Schedule"}),(0,o.jsx)(ok.Link,{href:"../About",children:"About"})]}),(0,o.jsx)(ok,{style:{maxHeight:"100px"},navbarScroll:!0,children:(0,o.jsxs)(TS,{title:i&&i.firstName,id:"navbarScrollingDropdown",children:[(0,o.jsx)(TS.Item,{href:"../update-profile",children:"Update Profile"}),(0,o.jsx)(TS.Item,{onClick:async function(){n("");try{await r(),s("/login")}catch{n("Failed to log out"),console.log(e)}},children:"Log Out"})]})})]})]})})}const _S=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:i,bordered:a,borderless:l,hover:u,size:h,variant:d,responsive:f,...p}=e;const m=c(n,"table"),g=s()(r,m,d&&`${m}-${d}`,h&&`${m}-${h}`,i&&`${m}-striped`,a&&`${m}-bordered`,l&&`${m}-borderless`,u&&`${m}-hover`),v=(0,o.jsx)("table",{...p,className:g,ref:t});if(f){let e=`${m}-responsive`;return"string"===typeof f&&(e=`${e}-${f}`),(0,o.jsx)("div",{className:e,children:v})}return v})),SS=_S;function CS(){const{teamsData:e}=Dx();let t=0;const n=t=>{let n="No Members Yet";return Object.keys(e).map(((r,i)=>{t===r&&(n=e[r].members)})),n},r=(t,n)=>{let r=0;return Object.keys(e).map((i=>{t===i&&(r=e[i].rounds[n].points)})),r};return e?(0,o.jsx)("div",{children:Object.keys(DI).map(((e,i)=>(0,o.jsxs)(Nx,{children:[(0,o.jsxs)("h3",{children:[" ",DI[e].course]},i),Object.keys(DI[e].matchups).map(((i,s)=>(t+=1,(0,o.jsxs)("div",{className:"round-wrapper",children:[(0,o.jsxs)("div",{className:"schedule-header",children:[(0,o.jsxs)("h4",{className:"round-header",children:["Round ",t]}),(0,o.jsx)("div",{className:"line"}),(0,o.jsx)("h5",{className:"round-dates",children:"TBD"})]}),(0,o.jsxs)(SS,{hover:!0,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Home"}),(0,o.jsx)("th",{children:"Points"}),(0,o.jsx)("th",{children:"Away"}),(0,o.jsx)("th",{children:"Points"})]})}),(0,o.jsx)("tbody",{children:DI[e].matchups[i].map(((e,i)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:n(e.teamOneId)}),(0,o.jsx)("td",{"data-round":i,children:r(e.teamOneId,t-1)}),(0,o.jsx)("td",{children:n(e.teamTwoId)}),(0,o.jsx)("td",{children:r(e.teamTwoId,t-1)})]},e+i)))})]})]},s))))]},i)))}):(0,o.jsx)("h3",{children:"Loading Team Data"})}function NS(){return(0,o.jsx)("div",{children:(0,o.jsx)(CS,{})})}var OS;function DS(e){if((!OS&&0!==OS||e)&&we){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),OS=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return OS}function AS(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}const RS=p("modal-body"),PS=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:a,size:l,fullscreen:u,children:h,scrollable:d,...f}=e;n=c(n,"modal");const p=`${n}-dialog`,m="string"===typeof u?`${n}-fullscreen-${u}`:`${n}-fullscreen`;return(0,o.jsx)("div",{...f,ref:t,className:s()(p,r,l&&`${n}-${l}`,a&&`${p}-centered`,d&&`${p}-scrollable`,u&&m),children:(0,o.jsx)("div",{className:s()(`${n}-content`,i),children:h})})}));PS.displayName="ModalDialog";const LS=PS,MS=p("modal-footer"),jS=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,...i}=e;return n=c(n,"modal-header"),(0,o.jsx)(yT,{ref:t,...i,className:s()(r,n)})}));jS.displayName="ModalHeader",jS.defaultProps={closeLabel:"Close",closeButton:!1};const FS=jS,US=p("modal-title",{Component:m("h4")}),VS={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:LS};function BS(e){return(0,o.jsx)(Fe,{...e,timeout:null})}function zS(e){return(0,o.jsx)(Fe,{...e,timeout:null})}const $S=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:a,dialogClassName:l,contentClassName:u,children:d,dialogAs:f,"aria-labelledby":p,show:m,animation:g,backdrop:v,keyboard:y,onEscapeKeyDown:b,onShow:w,onHide:E,container:I,autoFocus:x,enforceFocus:T,restoreFocus:k,restoreFocusOptions:_,onEntered:S,onExit:C,onExiting:N,onEnter:O,onEntering:D,onExited:A,backdropClassName:R,manager:P,...L}=e;const[M,j]=(0,t.useState)({}),[F,U]=(0,t.useState)(!1),V=(0,t.useRef)(!1),B=(0,t.useRef)(!1),z=(0,t.useRef)(null),[q,K]=(0,t.useState)(null),H=Re(n,K),G=$(E),W=h();r=c(r,"modal");const Q=(0,t.useMemo)((()=>({onHide:G})),[G]);function X(){return P||OT({isRTL:W})}function Y(e){if(!we)return;const t=X().getScrollbarWidth()>0,n=e.scrollHeight>fe(e).documentElement.clientHeight;j({paddingRight:t&&!n?DS():void 0,paddingLeft:!t&&n?DS():void 0})}const J=$((()=>{q&&Y(q.dialog)}));AS((()=>{ke(window,"resize",J),null==z.current||z.current()}));const Z=()=>{V.current=!0},ee=e=>{V.current&&q&&e.target===q.dialog&&(B.current=!0),V.current=!1},te=()=>{U(!0),z.current=Ce(q.dialog,(()=>{U(!1)}))},ne=e=>{"static"!==v?B.current||e.target!==e.currentTarget?B.current=!1:null==E||E():(e=>{e.target===e.currentTarget&&te()})(e)},re=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()(`${r}-backdrop`,R,!g&&"show")})),[g,R,r]),ie={...a,...M};g||(ie.display="block");return(0,o.jsx)(gT.Provider,{value:Q,children:(0,o.jsx)(hT,{show:m,ref:H,backdrop:v,container:I,keyboard:!0,autoFocus:x,enforceFocus:T,restoreFocus:k,restoreFocusOptions:_,onEscapeKeyDown:e=>{y||"static"!==v?y&&b&&b(e):(e.preventDefault(),te())},onShow:w,onHide:E,onEnter:(e,t)=>{e&&(e.style.display="block",Y(e)),null==O||O(e,t)},onEntering:(e,t)=>{null==D||D(e,t),Te(window,"resize",J)},onEntered:S,onExit:e=>{null==z.current||z.current(),null==C||C(e)},onExiting:N,onExited:e=>{e&&(e.style.display=""),null==A||A(e),ke(window,"resize",J)},manager:X(),transition:g?BS:void 0,backdropTransition:g?zS:void 0,renderBackdrop:re,renderDialog:e=>(0,o.jsx)("div",{role:"dialog",...e,style:ie,className:s()(i,r,F&&`${r}-static`),onClick:v?ne:void 0,onMouseUp:ee,"aria-labelledby":p,children:(0,o.jsx)(f,{...L,onMouseDown:Z,className:l,contentClassName:u,children:d})})})})}));$S.displayName="Modal",$S.defaultProps=VS;const qS=Object.assign($S,{Body:RS,Header:FS,Title:US,Footer:MS,Dialog:LS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function KS(e){const n=(0,t.useRef)(),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)({opponent:"",round:0,score:0}),{userData:l,teamData:u,setTeamData:c,teamsData:h,setTeamsData:d,setLoading:f}=Dx(),p=()=>i(!1);return h?(0,o.jsxs)("div",{children:[(0,o.jsxs)(SS,{responsive:!0,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Round"}),(0,o.jsx)("th",{children:"Opponent"}),(0,o.jsx)("th",{children:"Points Earned"}),(0,o.jsx)("th",{children:"Edit"})]})}),(0,o.jsx)("tbody",{children:e.data.rounds&&e.data.rounds.map(((e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:["Round ",t+1]}),(0,o.jsx)("td",{children:e.opponent}),(0,o.jsx)("td",{children:e.points}),(0,o.jsx)("td",{children:(0,o.jsx)(At,{onClick:()=>((e,t,n)=>{a({opponent:n,round:e,score:t}),i(!0)})(t,e.points,e.opponent),variant:"link",size:"sm",children:"Edit"})})]},t)))})]}),(0,o.jsxs)(qS,{show:r,onHide:p,animation:!1,children:[(0,o.jsx)(qS.Header,{closeButton:!0,children:(0,o.jsx)(qS.Title,{children:"Update Score"})}),(0,o.jsxs)(qS.Body,{children:[(0,o.jsxs)("h4",{children:["Round ",s.round+1," - ",s.opponent]}),(0,o.jsxs)(Ot,{onSubmit:async e=>{e.preventDefault();l.teamId;let t=Number(n.current.value),r=u.rounds,o=r[s.round];o.points=t,r[s.round]=o;let a=0;r.forEach((e=>{a+=e.points}));const h=Kw(kI,"teams",l.teamId);await GE(h,{rounds:r,totalPoints:a}),i(!1),c({rounds:[...u.rounds,r],totalPoints:a}),f(!0)},children:[(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"points",children:[(0,o.jsx)(Ot.Label,{children:"Points"}),(0,o.jsx)(Ot.Control,{type:"number",min:"0",max:"18",ref:n,required:!0})]}),(0,o.jsx)(At,{className:"w-100",type:"submit",children:"Update"})]})]}),(0,o.jsxs)(qS.Footer,{children:[(0,o.jsx)(At,{variant:"secondary",onClick:p,children:"Close"}),(0,o.jsx)(At,{variant:"primary",onClick:p,children:"Save Changes"})]})]})]}):(0,o.jsx)("div",{children:(0,o.jsx)("h1",{children:"No Data"})})}function HS(e){const{teamsData:t}=Dx(),n=e.teamId;let r=0;return(0,o.jsxs)("div",{className:"spl_stats-container",children:[(0,o.jsxs)("div",{className:"spl_stat-card",children:[(0,o.jsx)("h4",{children:"Record"}),(0,o.jsx)("p",{children:(()=>{let e=0,i=0,s=0;return t[n].rounds.forEach((t=>{const n=t.points;t.completed&&(r+=1,n>9?e+=1:9===n?s+=1:i+=1)})),`${e}-${i}-${s}`})()})]}),(0,o.jsxs)("div",{className:"spl_stat-card",children:[(0,o.jsx)("h4",{children:"Total Points"}),(0,o.jsx)("p",{children:t[n].totalPoints})]}),(0,o.jsxs)("div",{className:"spl_stat-card",children:[(0,o.jsx)("h4",{children:"Rounds Played"}),(0,o.jsxs)("p",{children:[r,"/14"]})]}),(0,o.jsxs)("div",{className:"spl_stat-card",children:[(0,o.jsx)("h4",{children:"Next Match"}),(0,o.jsx)("p",{children:(()=>{let e=[];return t[n].rounds.forEach((t=>{t.completed||e.push(t.opponent)})),e[0]})()})]})]})}function GS(e){const{teamsData:t}=Dx(),n=e.teamId;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(Lx,{className:"spl_team-header",children:(0,o.jsxs)(mt,{className:"spl_header-left",children:[t[n].imageUrl?(0,o.jsx)("img",{alt:"team icon",className:"spl_team-image",src:t[n].imageUrl}):"",(0,o.jsxs)("div",{className:"spl_team-details",children:[(0,o.jsx)("p",{className:"spl_team-name",children:t[n].teamName?t[n].teamName:"No Team Name"}),(0,o.jsx)("h1",{className:"spl_team-members",children:t[n].members})]})]})})})}function WS(e){const{teamsData:t}=Dx(),n=e=>{const t=e.points;if(e.completed){if(t>9)return(0,o.jsx)("div",{className:"spl_outcome spl_win",children:"W"});if(9===t)return(0,o.jsx)("div",{className:"spl_outcome spl_tie",children:"T"});if(t<9)return(0,o.jsx)("div",{className:"spl_outcome spl_loss",children:"L"})}},r=e=>{let t;if(e.completed){const n=18-e.points;t=`${e.points}-${n}`}else t="-";return t};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(GS,{teamId:e.selected}),(0,o.jsx)(HS,{teamId:e.selected}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"spl_team-rounds",children:[(0,o.jsxs)("div",{className:"spl_row-header",children:[(0,o.jsx)("div",{className:"spl_70",children:"Round"}),(0,o.jsx)("div",{className:"spl_grow",children:"Opponent"}),(0,o.jsx)("div",{className:"spl_130",children:"Points"}),(0,o.jsx)("div",{className:"spl_70"})]}),e.selected&&t[e.selected].rounds.map(((e,t)=>(0,o.jsxs)("div",{className:"spl_row",children:[(0,o.jsx)("div",{className:"spl_70",children:t+1}),(0,o.jsx)("div",{className:"spl_grow",children:e.opponent}),(0,o.jsx)("div",{className:"spl_130",children:r(e)}),(0,o.jsx)("div",{className:"spl_70",children:n(e)})]},t)))]})})]})}function QS(){const{teamsData:e}=Dx(),[n,r]=(0,t.useState)(),[i,s]=(0,t.useState)(!1);if(!e)return(0,o.jsx)("h3",{children:"Loading Leaderboard"});function a(t){return e[t].totalPoints}return(0,o.jsxs)("div",{className:"m-2",children:[(0,o.jsx)(kS,{}),(0,o.jsx)(Nx,{children:(0,o.jsx)(Lx,{children:(0,o.jsxs)(mt,{children:[i?(0,o.jsx)(At,{variant:"primary",id:"spl_back-btn",type:"button",onClick:()=>(s(!1),void(document.getElementById("spl_leaderboard-table").style.display="block")),children:"Back to Leaderboard"}):"",i?(0,o.jsx)(WS,{selected:n}):"",(0,o.jsxs)("div",{id:"spl_leaderboard-table",children:[(0,o.jsxs)("div",{className:"leaderboard-header",children:[(0,o.jsx)("div",{className:"position-header",children:"Position"}),(0,o.jsx)("div",{className:"team-members-header",children:"Team"}),(0,o.jsx)("div",{className:"total-points-header",children:"Points"}),(0,o.jsx)("div",{})]}),Object.keys(e).map(((t,n)=>(0,o.jsxs)("div",{onClick:()=>(e=>{r(e),s(!0),document.getElementById("spl_leaderboard-table").style.display="none"})(t),className:"leaderboard-row",children:[(0,o.jsxs)("div",{className:"position",children:["0",n+1]}),(0,o.jsx)("div",{className:"team-members",children:e[t].members}),(0,o.jsx)("div",{className:"total-points",children:a(t)}),(0,o.jsx)("div",{})]},n)))]})]})})})]})}function XS(){const[e,n]=(0,t.useState)(""),{currentUser:r,logout:i}=RI(),[s,a]=(0,t.useState)({}),[l,u]=(0,t.useState)({teamId:"",membersArr:[],rounds:[]}),[c,h]=(0,t.useState)({}),[d,f]=(0,t.useState)(!0),p=tx(),m=Kw(kI,"users",r.uid);return(0,t.useEffect)((()=>{(async()=>{try{const e=await $E(m);if(e.exists()){const t=e.data();if(a(t),t.teamId){const e=await $E(Kw(kI,"teams",t.teamId));e.exists()&&u({teamId:t.teamId,membersArr:e.data().membersArr,rounds:e.data().rounds})}}}catch(e){n("Failed to load user or team data")}finally{f(!1)}})(),(async()=>{try{const e=await KE(qw(kI,"teams")),t={};e.forEach((e=>{t[e.id]=e.data()})),h(t)}catch(e){n("Failed to load teams data")}})()}),[m]),d?(0,o.jsx)("h1",{children:"Loading..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(kS,{user:r}),(0,o.jsxs)(Lx,{children:[(0,o.jsxs)(mt,{children:[c&&Object.keys(c).length>0&&(0,o.jsx)(QS,{data:c}),(0,o.jsx)(KS,{data:l})]}),(0,o.jsxs)(mt,{children:[(0,o.jsx)(A,{children:(0,o.jsxs)(A.Body,{children:[e&&(0,o.jsx)(Qe,{variant:"danger",children:e}),(0,o.jsx)("strong",{children:"Email:"})," ",r.email,(0,o.jsx)(_x,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"}),(0,o.jsx)(_x,{to:"/add",className:"btn btn-primary w-100 mt-3",children:"Database"})]})}),c&&Object.keys(c).length>0&&(0,o.jsx)(NS,{teamsObj:c})]})]}),(0,o.jsx)("div",{className:"w-100 text-center mt-2",children:(0,o.jsx)(At,{variant:"link",onClick:async function(){n("");try{await i(),p("/login")}catch{n("Failed to log out")}},children:"Log Out"})})]})}function YS(){const e=(0,t.useRef)(),n=(0,t.useRef)(),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),l=tx();return(0,o.jsx)("div",{className:"auth-container",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(A,{className:"auth-card auth-card-container",style:{width:"20rem"},children:(0,o.jsxs)(A.Body,{children:[(0,o.jsxs)("div",{className:"login-header text-center",children:[(0,o.jsx)("img",{src:"/wgc(192).png",width:"150",height:"150",className:"d-inline-block align-top",alt:"Thursday Night Open League - 2025"}),(0,o.jsx)("h2",{className:"mb-4 mt-0",children:"Login"})]}),r&&(0,o.jsx)(Qe,{variant:"danger",children:r}),(0,o.jsxs)(Ot,{onSubmit:async function(t){t.preventDefault(),i(""),a(!0);try{const t=await function(e,t,n){return Ds(un(e),gs.credential(t,n))}(TI,e.current.value,n.current.value);console.log("User logged in:",t.user),l("/")}catch(r){!function(e){switch(e.code){case"auth/invalid-email":i("Invalid email format.");break;case"auth/user-not-found":i("No account found with this email.");break;case"auth/wrong-password":i("Incorrect password.");break;default:i("Failed to sign in. Please try again.")}}(r)}a(!1)},children:[(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"email",children:[(0,o.jsx)(Ot.Label,{children:"Email"}),(0,o.jsx)(Ot.Control,{type:"email",ref:e,required:!0,disabled:s})]}),(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"password",children:[(0,o.jsx)(Ot.Label,{children:"Password"}),(0,o.jsx)(Ot.Control,{type:"password",ref:n,required:!0,disabled:s})]}),(0,o.jsx)(At,{disabled:s,className:"w-100",type:"submit",children:s?"Logging in...":"Login"})]}),(0,o.jsx)("div",{className:"w-100 text-center mt-3",children:(0,o.jsx)(_x,{to:"/forgot-password",children:"Forgot Password?"})})]})}),(0,o.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an Account? ",(0,o.jsx)(_x,{to:"/signup",children:"Sign Up"})]})]})})}function JS(){const{currentUser:e}=RI();return e?(0,o.jsx)(WI,{}):(0,o.jsx)(GI,{to:"/login"})}function ZS(){const e=(0,t.useRef)(),{resetPassword:n}=RI(),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[l,u]=(0,t.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A,{children:(0,o.jsxs)(A.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&(0,o.jsx)(Qe,{variant:"danger",children:r}),s&&(0,o.jsx)(Qe,{variant:"success",children:s}),(0,o.jsxs)(Ot,{onSubmit:async function(t){t.preventDefault();try{a(""),i(""),u(!0),await n(e.current.value),a("Check your inbox for further instructions")}catch{i("Failed to reset password")}u(!1)},children:[(0,o.jsxs)(Ot.Group,{className:"mb-4",id:"email",children:[(0,o.jsx)(Ot.Label,{children:"Email"}),(0,o.jsx)(Ot.Control,{type:"email",ref:e,required:!0})]}),(0,o.jsx)(At,{disabled:l,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,o.jsx)("div",{className:"w-100 text-center mt-3",children:(0,o.jsx)(_x,{to:"/login",children:"Login"})})]})}),(0,o.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an Account ",(0,o.jsx)(_x,{to:"/signup",children:"Sign Up"})]})]})}function eC(){const{userData:e,teamsData:n}=Dx(),r=(0,t.useRef)(),i=(0,t.useRef)(),s=(0,t.useRef)(),a=(0,t.useRef)(),l=(0,t.useRef)(),{currentUser:u,updatePassword:c,updateEmail:h,teamName:d,teamImg:f}=RI(),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(""),w=tx();return e&&n?(0,o.jsx)("div",{className:"auth-container",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(A,{children:(0,o.jsxs)(A.Body,{children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),p&&(0,o.jsx)(Qe,{variant:"danger",children:p}),(0,o.jsxs)(Ot,{onSubmit:function(t){if(t.preventDefault(),i.current.value!==s.current.value)return m("Passwords do not match");const n=[];v(!0),m(""),r.current.value!==u.email&&n.push(h(r.current.value)),a.current.value&&n.push(d(e,a.current.value)),y&&n.push(f(e,y)),i.current.value&&n.push(c(i.current.value)),Promise.all(n).then((()=>{w("/")})).catch((()=>{m("Failed to update account")})).finally((()=>{v(!1)}))},children:[(0,o.jsxs)(Ot.Group,{id:"email",className:"mb-4",children:[(0,o.jsx)(Ot.Label,{children:"Email"}),(0,o.jsx)(Ot.Control,{type:"email",ref:r,required:!0,defaultValue:u.email})]}),(0,o.jsxs)(Ot.Group,{id:"teamName",className:"mb-4",children:[(0,o.jsx)(Ot.Label,{children:"Team Name"}),(0,o.jsx)(Ot.Control,{type:"text",defaultValue:n[e.teamId].teamName,ref:a})]}),(0,o.jsxs)(Ot.Group,{controlId:"formFile",id:"teamImg",onChange:e=>{b(e.target.files[0])},className:"mb-4",children:[(0,o.jsx)(Ot.Label,{children:"Team Image"}),(0,o.jsx)(Ot.Control,{type:"file",ref:l})]}),(0,o.jsxs)(Ot.Group,{id:"password",className:"mb-4",children:[(0,o.jsx)(Ot.Label,{children:"Password"}),(0,o.jsx)(Ot.Control,{type:"password",ref:i,placeholder:"Leave blank to keep the same"})]}),(0,o.jsxs)(Ot.Group,{id:"password-confirm",className:"mb-4",children:[(0,o.jsx)(Ot.Label,{children:"Password Confirmation"}),(0,o.jsx)(Ot.Control,{type:"password",ref:s,placeholder:"Leave blank to keep the same"})]}),(0,o.jsx)(At,{disabled:g,className:"w-100",type:"submit",children:"Update"})]})]})}),(0,o.jsx)("div",{className:"w-100 text-center mt-2",children:(0,o.jsx)(_x,{to:"/",children:"Cancel"})})]})}):(0,o.jsx)("div",{className:"auth-container",children:(0,o.jsx)("div",{children:"Loading..."})})}function tC(){const{currentUser:e}=RI();return(0,o.jsx)("div",{children:(0,o.jsx)("button",{onClick:function(){return kI.collection(e.displayName).add({email:e.email})},children:"Add User To Database"})})}const nC=function(){return(0,o.jsx)(Nx,{fluid:!0,className:"d-flex align-items-center justify-content-center spl-body",children:(0,o.jsx)("div",{className:"w-100",children:(0,o.jsx)(kx,{children:(0,o.jsx)(PI,{children:(0,o.jsx)(Ax,{children:(0,o.jsxs)(YI,{children:[(0,o.jsxs)(QI,{element:(0,o.jsx)(JS,{}),children:[(0,o.jsx)(QI,{path:"/",element:(0,o.jsx)(XS,{})}),(0,o.jsx)(QI,{path:"/leaderboard",element:(0,o.jsx)(QS,{})}),(0,o.jsx)(QI,{path:"/schedule",element:(0,o.jsx)(NS,{})}),(0,o.jsx)(QI,{path:"/update-profile",element:(0,o.jsx)(eC,{})}),(0,o.jsx)(QI,{path:"/add",element:(0,o.jsx)(tC,{})})]}),(0,o.jsx)(QI,{path:"/signup",element:(0,o.jsx)(Sx,{})}),(0,o.jsx)(QI,{path:"/login",element:(0,o.jsx)(YS,{})}),(0,o.jsx)(QI,{path:"/forgot-password",element:(0,o.jsx)(ZS,{})})]})})})})})})};r.render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(nC,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.1a872869.js.map